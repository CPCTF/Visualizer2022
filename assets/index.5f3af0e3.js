var SA=Object.defineProperty,ZA=Object.defineProperties;var YA=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var hA=Object.prototype.hasOwnProperty,gA=Object.prototype.propertyIsEnumerable;var X=(e,A,t)=>A in e?SA(e,A,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[A]=t,h=(e,A)=>{for(var t in A||(A={}))hA.call(A,t)&&X(e,t,A[t]);if(N)for(var t of N(A))gA.call(A,t)&&X(e,t,A[t]);return e},v=(e,A)=>ZA(e,YA(A));var fA=(e,A)=>{var t={};for(var n in e)hA.call(e,n)&&A.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&N)for(var n of N(e))A.indexOf(n)<0&&gA.call(e,n)&&(t[n]=e[n]);return t};var u=(e,A,t)=>(X(e,typeof A!="symbol"?A+"":A,t),t);import{r as M,j as iA,T as kA,G as zA,F as HA,B as y,a as Q,R as Z,m as D,b as W,M as FA,c as yA,P as BA,S as WA,g as F,d as wA,e as RA,f as TA,h as _,V as mA,W as OA,E as UA,i as jA,k as qA,l as KA,n as oA,A as NA,o as JA,p as LA,q as VA}from"./vendor.9cdb2284.js";const XA=function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};XA();const _A=()=>{const[e,A]=M.exports.useState({width:Math.min(window.innerWidth,window.innerHeight*4/3),height:Math.min(window.innerHeight,window.innerWidth*3/4),windowSettings:{windows:{},windowIndices:[],windowStack:[],focused:"",update:(n,s)=>{A(r=>{const i=h({},r.windowSettings.windows);i[n]=s;const o=[...r.windowSettings.windowIndices],a=[...r.windowSettings.windowStack];return o.includes(n)||(a.push(n),o.push(n)),v(h({},r),{windowSettings:v(h({},r.windowSettings),{windows:i,windowIndices:o,windowStack:a})})})},kill:n=>{A(s=>{const r=h({},s.windowSettings.windows);delete r[n];const i=s.windowSettings.windowIndices.filter(d=>d!==n),o=s.windowSettings.windowStack.filter(d=>d!==n),a=i.filter(d=>{var p;return(p=r[d])==null?void 0:p.visible}),l=a.length>0?a[a.length-1]:"";return v(h({},s),{windowSettings:v(h({},s.windowSettings),{windows:r,windowIndices:i,windowStack:o,focused:l})})})},focus:n=>{A(s=>{const r=h({},s.windowSettings.windows),i=r[n];if(!i)throw new Error("invalid id");r[n]=v(h({},i),{visible:!0});const o=s.windowSettings.windowIndices.filter(a=>a!==n);return o.push(n),v(h({},s),{windowSettings:v(h({},s.windowSettings),{windows:r,windowIndices:o,focused:n})})})},minimize:n=>{A(s=>{const r=h({},s.windowSettings.windows),i=r[n];if(!i)throw new Error("invalid id");r[n]=v(h({},i),{visible:!1});const o=s.windowSettings.windowIndices.filter(l=>{var d;return l!==n&&((d=r[l])==null?void 0:d.visible)}),a=o.length>0?o[o.length-1]:"";return v(h({},s),{windowSettings:v(h({},s.windowSettings),{windows:r,focused:a})})})}}});return[e,()=>{A(n=>v(h({},n),{width:Math.min(window.innerWidth,window.innerHeight*4/3),height:Math.min(window.innerHeight,window.innerWidth*3/4)}))}]},w=iA.exports.jsx,G=iA.exports.jsxs,T=iA.exports.Fragment,S=M.exports.createContext({width:0,height:0,windowSettings:{windows:{},windowIndices:[],windowStack:[],focused:"",update:()=>"",kill:()=>"",focus:()=>"",minimize:()=>""}}),$A=({children:e})=>{const[A,t]=_A();return M.exports.useEffect(()=>(window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}),[]),w(S.Provider,{value:A,children:e})},Ae="ws://localhost:8000",vA=["nanika","doreka","soreka"];var aA="/Visualizer/assets/testicon.8f219171.jpg";const k=new Array(100).fill(null).map((e,A)=>({id:`user${A}`,name:`USER${A}`,iconUrl:aA,point:0,rank:-1})),ee=()=>({id:k[Math.floor(Math.random()*k.length)].id,point:Math.random()*1e3,genre:vA[Math.floor(Math.random()*vA.length)],title:"\u30AA\u30E2\u30B7\u30ED\u554F\u984C -\u3053\u308C\u306F\u9069\u5F53\u306B\u8003\u3048\u305F\u30BF\u30A4\u30C8\u30EB-"}),xA=()=>(k.forEach(e=>{e.point+=Math.random()*1e3}),k.sort((e,A)=>e.point-A.point),k.forEach((e,A)=>{e.rank=A+1}),{ranking:k,circuit:{}}),te=()=>{const e=new Date;e.setMinutes(e.getMinutes()-5);const A=new Date;return A.setMinutes(A.getMinutes()+5),{users:k.map(({id:t,name:n,iconUrl:s})=>({id:t,name:n,iconUrl:s})),recalculate:xA(),startTime:e.toString(),endTime:A.toString()}},$=e=>h({data:{type:"recalculate"},lastEventId:"",origin:"",ports:[],source:null,initMessageEvent:function(A,t,n,s,r,i,o,a){throw new Error("Function not implemented.")},bubbles:!1,cancelBubble:!1,cancelable:!1,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!1,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:"",composedPath:function(){throw new Error("Function not implemented.")},initEvent:function(A,t,n){throw new Error("Function not implemented.")},preventDefault:function(){throw new Error("Function not implemented.")},stopImmediatePropagation:function(){throw new Error("Function not implemented.")},stopPropagation:function(){throw new Error("Function not implemented.")},AT_TARGET:0,BUBBLING_PHASE:0,CAPTURING_PHASE:0,NONE:0},e),sA=e=>new Promise(A=>{setTimeout(()=>A(),e)}),R={startTime:new Date,endTime:new Date};class EA{static async initial(){return await sA(1e3),te()}static async recalculate(){return await sA(1e3),xA()}}const rA={texture:new kA,gltf:new zA,fbx:new HA},ne=(e,A,t)=>{switch(A){case"gltf":{rA.gltf.load(e,n=>{t(n.scene)});break}case"texture":{rA.texture.load(e,n=>{t(n)});break}}};class I{static addGLTF(A){this.queue.push([A,"gltf"])}static addTexture(A){this.queue.push([A,"texture"])}static addFBX(A){this.queue.push([A,"fbx"])}static load(A){return new Promise(t=>{let n=0;const s=this.queue.length;s===0&&t({}),this.queue.map(([r,i])=>{ne(r,i,o=>{n+=1,this.resources[r]={type:i,data:o},A({path:r,data:o,total:s,count:n}),n===s&&t({})})}),this.queue=[]})}static get(A){var t;return(t=this.resources[A])==null?void 0:t.data}}u(I,"resources",{}),u(I,"queue",[]);class se extends EventTarget{constructor(A){super();u(this,"id");u(this,"_point",0);u(this,"_rank",-1);u(this,"_displayName","");u(this,"_icon",null);u(this,"_iconPath","");this.id=A}get point(){return this._point}get rank(){return this._rank}get displayName(){return this._displayName}get icon(){if(!this._icon)throw new Error("Icon is not initialized.");return this._icon}get iconPath(){return this._iconPath}set(A,t,n,s){var r;this._point=A,this._rank=t,this._displayName=n,(!this._iconPath||this._iconPath!==s)&&(this._iconPath=s,(r=this._icon)==null||r.dispose(),this._icon=rA.texture.load(s))}}class q{static get ranking(){return this._ranking}static addUser({id:A,name:t,iconUrl:n}){const s=new se(A);this.users[A]=s,s.set(-1,-1,t,n)}static updateUser({id:A,name:t,iconUrl:n,point:s,rank:r}){var i;this.users[A]||this.addUser({id:A,name:t,iconUrl:n}),(i=this.users[A])==null||i.set(s,r,t,n)}static updateRanking(){this._ranking=Object.keys(this.users),this._ranking=this._ranking.sort((A,t)=>{var n,s;return(((n=this.users[A])==null?void 0:n.rank)||99999999)-(((s=this.users[t])==null?void 0:s.rank)||999999999)})}static getUser(A){return this.users[A]}}u(q,"users",{}),u(q,"_ranking");class re extends EventTarget{constructor(){super();u(this,"websocket");this.websocket=new WebSocket(Ae),this.websocket.addEventListener("message",this.messageHandler.bind(this)),this.websocket.addEventListener("error",()=>{this.dispatchEvent(new CustomEvent("disconnect"))}),this.testEvent()}testEvent(){setInterval(()=>{this.messageHandler($({data:{type:"recalculate"}}))},3e4),setInterval(()=>{this.messageHandler($({data:{type:"end"}}))},3e5),setInterval(()=>{this.messageHandler($({data:{type:"submit",result:ee()}}))},3e3)}initialized(){this.dispatchEvent(new CustomEvent("initialized"))}visualizerStart(){this.dispatchEvent(new CustomEvent("visualizerstart"))}messageHandler(A){switch(A.data.type){case"submit":{this.dispatchEvent(new CustomEvent("submit",{detail:A.data.result}));break}case"start":{R.startTime=new Date,this.dispatchEvent(new CustomEvent("ctfstart"));break}case"end":{R.endTime=new Date,this.dispatchEvent(new CustomEvent("ctfend"));break}case"recalculate":{(async()=>{this.dispatchEvent(new CustomEvent("recalculatestart")),await this.setRecalculateData(),this.dispatchEvent(new CustomEvent("recalculateend"))})();break}}}async setRecalculateData(){const{ranking:A}=await EA.recalculate();A.forEach(t=>{q.updateUser(t)}),q.updateRanking(),await sA(4e3)}}const B=new re;let DA="";const QA=()=>DA,ie=e=>{DA=e},we=()=>{DA=""},V=1.5,P=54*V,m=32*V,b=64*V,pA=200*V;var oe="/Visualizer/assets/clock-icon.77140fc3.png",ae="/Visualizer/assets/visualizer-icon.4fa4c0d3.png";const De=[{src:ae,id:"visualizer",title:"Visualizer.exe"},{src:oe,id:"clock",title:"Clock.exe"}];var Me="data:image/png;base64,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",ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAAgCAYAAAD0QgaeAAAAAXNSR0IArs4c6QAAAJhJREFUeJzt3TEKwkAURdE/4gotBFcYSJEtaiG5W4jgOdWUv7pM99bMzOv5eA/w17b9WEsMgNP9fGz7sa48BLjO+TG4XX0I8DsEAYggABEEIIIARBCACAIQQQAiCEAEAYggABEEIIIARBCACAIQQQAiCEAEAYggABEEIIIARBCACAIQQQAiCEAEAYggADH2CmTNmIMHvoPPHw9GED8I9d58AAAAAElFTkSuQmCC",le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAAAXNSR0IArs4c6QAAADBJREFUSIljZGBgYOCRqfvPQAb48qSJkYkcjchg1IBRA0YNGDVg1IBRA0YNGGwGAADwGARAM3CimgAAAABJRU5ErkJggg==",CA="/Visualizer/assets/recalculating.60ffccdf.glb",GA="/Visualizer/assets/monitor.894de1ca.glb",de="/Visualizer/assets/face.e8cae3d3.png";const ue=()=>{I.addGLTF(CA),I.addGLTF(GA),I.addTexture(de),I.addTexture(aA)},he=({width:e,height:A,loadedHandler:t})=>{const[n,s]=M.exports.useState(""),[r,i]=M.exports.useState(0),[o,a]=M.exports.useState({textures:[],index:-1});return M.exports.useEffect(()=>{(async()=>{ue(),await I.load(({path:c,total:K,count:x})=>{s(c),i(x/K)}),t()})();const d=new y(Me);a({index:0,textures:[new Q(d,new Z(64*0,0,64,64)),new Q(d,new Z(64*1,0,64,64)),new Q(d,new Z(64*2,0,64,64)),new Q(d,new Z(64*3,0,64,64)),new Q(d,new Z(64*4,0,64,64)),new Q(d,new Z(64*5,0,64,64)),new Q(d,new Z(64*6,0,64,64)),new Q(d,new Z(64*7,0,64,64))]});const p=setInterval(()=>{a(c=>({index:(c.index+1)%c.textures.length,textures:c.textures}))},200);return()=>{clearInterval(p)}},[]),G(D.exports.Container,{position:[e/2,A/2],children:[o.index<0?null:w(D.exports.Sprite,{texture:o.textures[o.index],anchor:.5,position:[0,-50],width:64,height:64}),w(D.exports.Text,{text:n,anchor:.5,position:[0,0],style:new W({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#000"})}),w(D.exports.Sprite,{image:ce,position:[0,50],anchor:.5,width:260,height:32,children:new Array(Math.floor(16*r)).fill(null).map((l,d)=>w(D.exports.Sprite,{image:le,anchor:[0,.5],position:[(d-8)*16,0],width:16,height:32},d))})]})};var ge="/Visualizer/assets/traP_logo.25c1c1d8.png";const fe=new y(ge),AA=50,J=24,me=({width:e,height:A,onComplete:t})=>{const[n,s]=M.exports.useState(0);return M.exports.useEffect(()=>{const r=setInterval(()=>{s(i=>i===AA+J*2?(clearInterval(r),setTimeout(()=>{t()},1),i):i+1)},1e3/J)},[]),w(D.exports.Container,{position:[e/2,A/2],children:w(D.exports.Sprite,{texture:new Q(fe,new Z(0,280*Math.min(n,AA-1),1920,280)),alpha:1-Math.max(0,n-AA-J)/J,anchor:.5,width:e*.9,height:e*.9/1920*280})})};class C{static get time(){return this._time}static get deltaTime(){return this._deltaTime}static start(A){this.startTime=A,this.prevTime=A}static update(A){this._time=(A-this.startTime)/1e3,this._deltaTime=(A-this.prevTime)/1e3,this.prevTime=A}}u(C,"startTime",-1),u(C,"_time",-1),u(C,"_deltaTime",-1),u(C,"prevTime",-1);class H extends FA{constructor(){super(...arguments);u(this,"initialized",!1)}start(){}update(){!this.visible||(this.initialized||(this.start(),this.initialized=!0),this.children.map(A=>{(A instanceof Y||A instanceof H)&&A.update()}))}}class Y extends yA{constructor(){super();u(this,"initialized",!1)}start(){}update(){!this.visible||(this.initialized||(this.start(),this.initialized=!0),this.children.map(A=>{(A instanceof Y||A instanceof H)&&A.update()}))}}class ve extends Y{start(){}update(){super.update()}}var pe=`uniform sampler2D face;
uniform sampler2D icon;
uniform int mode;
uniform float progress;
uniform float time;
varying vec2 vUv;

#define LINE_WIDTH 0.1

float rand(vec2 co) //\u5F15\u6570\u306F\u30B7\u30FC\u30C9\u5024\u3068\u547C\u3070\u308C\u308B\u3000\u540C\u3058\u5024\u3092\u6E21\u305B\u3070\u540C\u3058\u3082\u306E\u3092\u8FD4\u3059
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main() {
  vec3 value = vec3(0.0);
  vec3 delta = vec3(
    (rand(floor(vUv.yy / LINE_WIDTH))  * 0.5 - 0.2) * progress,
    (rand(floor(vUv.yy / LINE_WIDTH + 10.0))  * 0.5 - 0.2) * progress,
    (rand(floor(vUv.yy / LINE_WIDTH + 20.0))  * 0.5 - 0.2) * progress
  );
  vec2 uvr = vUv + vec2(delta.r, 0.0);
  vec2 uvg = vUv + vec2(delta.g, 0.0);
  vec2 uvb = vUv + vec2(delta.b, 0.0);
  if (mode == 0) {
    value = vec3(
      texture2D(face, uvr).r,
      texture2D(face, uvg).r,
      texture2D(face, uvb).r
    );
  } else if (mode == 1) {
    value = vec3(
      texture2D(face, uvr).g,
      texture2D(face, uvg).g,
      texture2D(face, uvb).g
    );
  } else if (mode == 2) {
    value = vec3(
      texture2D(face, uvr).b,
      texture2D(face, uvg).b,
      texture2D(face, uvb).b
    );
  } else {
    value = vec3(
      texture2D(icon, uvr).r,
      texture2D(icon, uvg).g,
      texture2D(icon, uvb).b
    );
  }

  float scanline = mix(0.5, 1.0, sin(time * 4.0 + vUv.y * 60.0) * 0.5 + 0.5);
  float visnetting = mix(1.0, 0.5, distance(vUv, vec2(0.5)) * 2.0);
  vec4 icon = texture2D(icon, vUv);
  gl_FragColor = vec4(max(value + icon.rgb * 0.6, 0.1) * scanline * visnetting, 1.0);
}`,Be=`varying vec2 vUv;

void main()
{
  vUv = uv;
  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);
}`,xe="/Visualizer/assets/face.e8cae3d3.png";class Ee extends H{constructor(){super(new BA(4*.5,3*.5),new WA({vertexShader:Be,fragmentShader:pe,uniforms:{face:{value:I.get(xe)},icon:{value:I.get(aA)},mode:{value:-1},progress:{value:0},time:{value:0}}}));this.position.set(0,1.5,1.1),this.rotation.set(-.03+Math.PI,-Math.PI,Math.PI)}start(){const A=this.material.uniforms.mode,t=this.material.uniforms.progress;!A||!t||setTimeout(()=>{setInterval(()=>{A.value=1,t.value=1,F.to(t,.3,{value:0}),setTimeout(()=>{A.value=Math.random()<.5?0:2,t.value=1,F.to(t,.3,{value:0})},2e3),setTimeout(()=>{A.value=-1,t.value=1,F.to(t,.3,{value:0})},4e3)},1e4)},Math.random()*1e4)}update(){super.update();const A=this.material.uniforms.time;A&&(A.value=C.time)}}class eA extends Y{constructor(){super();const A=I.get(GA).clone();A.material=new wA({color:65280}),this.add(A),this.add(new Ee)}start(){}update(){super.update()}}class Qe extends Y{constructor(){super();let A=20;new Array(A).fill(null).forEach((t,n)=>{const s=new eA,r=n/A*Math.PI*2;s.position.set(Math.sin(r)*4,0,Math.cos(r)*4),s.rotation.y=r+Math.PI,s.scale.set(.4,.4,.4),this.add(s)}),A=60,new Array(A).fill(null).forEach((t,n)=>{const s=new eA,r=n/A*Math.PI*2;s.position.set(Math.sin(r)*4.5,1,Math.cos(r)*4.5),s.rotation.y=r+Math.PI,s.scale.set(.15,.15,.15),this.add(s)}),A=120,new Array(A).fill(null).forEach((t,n)=>{const s=new eA,r=n/A*Math.PI*2;s.position.set(Math.sin(r)*5,1.5,Math.cos(r)*5),s.rotation.y=r+Math.PI,s.scale.set(.1,.1,.1),this.add(s)})}}class Ce extends H{constructor(){super(new RA(1,1,1),new wA({color:16711680}))}start(){console.log("circuit")}update(){super.update(),this.rotation.y=Math.PI*C.deltaTime}}class Ge extends TA{constructor(){super(60,1,1,2e3);B.addEventListener("recalculatestart",()=>{F.to(this.position,2,{y:-8})}),B.addEventListener("recalculateend",()=>{F.to(this.position,2,{y:2})})}start(){this.position.set(Math.sin(C.time*.1)*4,2,Math.cos(C.time*.1)*4)}update(){this.position.set(Math.sin(C.time*.1)*4,this.position.y,Math.cos(C.time*.1)*4),this.lookAt(0,this.position.y-2,0)}}class be extends H{constructor(){super(new BA(1,1),new wA({color:Math.floor(Math.random()*256*256*256)}));this.rotation.set(-Math.PI/2,0,0)}to(A){const t=F.timeline(),n=this.position;t.to(this.position,.2,{x:n.x,y:n.y+.3,z:n.z,ease:_.easeOut}).to(this.position,.6,{x:A.x,y:A.y+.3,z:A.z,ease:_.easeOut}).to(this.position,.2,{x:A.x,y:A.y,z:A.z,ease:_.easeOut})}}const Ie=()=>{const e=Math.floor(Math.random()*9),A=Math.floor(Math.random()*8),t=A<e?A:A+1;return[e,t]};class Pe extends Y{constructor(){super();u(this,"children",[]);u(this,"animationTimeout",null);for(let A=-1;A<=1;A++)for(let t=-1;t<=1;t++){const n=new be;n.position.set(t,0,A),this.add(n)}}animate(){this.exchange()}exchange(){const[A,t]=Ie(),n=this.children[A];this.children[A]=this.children[t],this.children[t]=n,this.children[A].to(new mA(A%3-1,0,Math.floor(A/3)-1)),this.children[t].to(new mA(t%3-1,0,Math.floor(t/3)-1)),this.animationTimeout=setTimeout(this.exchange.bind(this),300)}stop(){!this.animationTimeout||(clearTimeout(this.animationTimeout),this.animationTimeout=null)}}class Se extends Y{constructor(){super();u(this,"recLabel");const A=new Pe;A.scale.set(.5,.5,.5),this.add(A),this.position.set(0,-10,0),this.recLabel=I.get(CA),this.recLabel.children[0].material.transparent=!0,this.recLabel.position.set(0,.5,0),this.recLabel.scale.set(1.5,1.5,1.5),this.add(this.recLabel)}start(){B.addEventListener("recalculatestart",()=>{var A;(A=this.children[0])==null||A.animate()}),B.addEventListener("recalculateend",()=>{var A;(A=this.children[0])==null||A.stop()})}update(){super.update(),this.recLabel.rotation.y+=C.deltaTime}}const Ze=async()=>{const e=await EA.initial();e.users.forEach(A=>{q.addUser(A)}),R.startTime=new Date(e.startTime),R.endTime=new Date(e.endTime)},MA=class{constructor(){u(this,"renderer",null);u(this,"camera",null);u(this,"tick",null);u(this,"_isInitialized",!1);u(this,"isStartCalled",!1)}static getInstance(){return this.instance?this.instance:(this.instance=new MA,this.instance)}get isInitialized(){return this._isInitialized}resize(A,t){!this.renderer||!this.camera||(this.renderer.setSize(A,t),this.renderer.setPixelRatio(window.devicePixelRatio),this.camera.aspect=A/t,this.camera.updateProjectionMatrix())}setup(A){const t=new OA({canvas:A,alpha:!0,antialias:!0}),n=new UA(t),s=new Ge,r=new jA;r.add(new ve,new Qe,new Ce,new Se),B.addEventListener("start",()=>{console.log("start ctf")}),B.addEventListener("end",()=>{console.log("end ctf")}),B.addEventListener("recalculatestart",async()=>{console.log("recalculatestart")}),B.addEventListener("recalculateend",async()=>{console.log("recalculateend")}),B.addEventListener("submit",()=>{}),n.addPass(new qA(r,s)),this.tick=i=>{this.tick&&requestAnimationFrame(this.tick),C.update(i),s.update(),r.children.map(o=>{(o instanceof Y||o instanceof H)&&o.update()}),t.render(r,s)},this.renderer=t,this.camera=s,Ze().then(()=>{this._isInitialized=!0,B.initialized(),this.isStartCalled&&this.start()})}start(){var A;this._isInitialized&&this.tick?(C.start(performance.now()),(A=this.camera)==null||A.start(),requestAnimationFrame(this.tick),B.visualizerStart()):this.isStartCalled=!0}};let z=MA;u(z,"instance");const Ye=({width:e,height:A})=>{const t=M.exports.useRef(null),[n,s]=M.exports.useState({width:e,height:A}),[r,i]=M.exports.useState(new Q(new y)),[o,a]=M.exports.useState("loading");D.exports.useTick(()=>{r.update()}),M.exports.useEffect(()=>{z.getInstance().resize(e,A),r.update(),s({width:e,height:A})},[e,A]);const l=()=>{const c=document.createElement("canvas");t.current=c,z.getInstance().setup(c),z.getInstance().resize(e,A),i(new Q(y.from(c))),a("splashscreen")},d=()=>{z.getInstance().start(),a("visualizer")};return w(T,{children:(c=>c==="loading"?w(he,{width:e,height:A,loadedHandler:l}):c==="splashscreen"?w(me,{width:e,height:A,onComplete:d}):w(D.exports.Sprite,{texture:r,width:n.width,height:n.height}))(o)})},tA=e=>("00"+e).slice(-2),ke=({x:e,y:A,width:t,height:n})=>{const[s,r]=M.exports.useState(""),[i,o]=M.exports.useState("");return D.exports.useTick(()=>{const a=new Date;if(r(`${a.getHours()}:${tA(a.getMinutes())}:${tA(a.getSeconds())}`),!z.getInstance().isInitialized)return;const l=Math.ceil((R.endTime.getTime()-a.getTime())/1e3/60);o(`\u6B8B\u308A: ${Math.floor(l/60)}\u6642\u9593${tA(l%60)}\u5206`)}),G(D.exports.Container,{mask:new KA().drawRect(e,A,t,n),children:[w(D.exports.Text,{text:s,anchor:.5,position:[t/2,n/2],style:new W({align:"right",fontFamily:"Roboto, Helvetica, sans-serif",fontSize:50,fill:"#000000"})}),w(D.exports.Text,{text:i,anchor:.5,position:[t/2,n/2-50],style:new W({align:"right",fontFamily:"Roboto, Helvetica, sans-serif",fontSize:30,fill:"#000000"})})]})},ze={Component:null,title:"Clock",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!1},He={visualizer:{Component:Ye,title:"Visualizer",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!0},clock:{Component:ke,title:"Clock",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!1}},L=b/4,Fe=({iconInfo:e,position:A})=>{const{windowSettings:{windows:t,update:n}}=M.exports.useContext(S),s=()=>{const r=He[e.id];t[e.id]||!r||n(e.id,r)};return G(D.exports.Container,{position:A,interactive:!0,click:s,children:[w(D.exports.Sprite,{image:e.src,position:[6,0],width:b-L,height:b-L}),w(D.exports.Text,{text:e.title,anchor:[.5,0],position:[b/2,b-L],style:new W({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:L,fill:"#000"})})]})};var ye="/Visualizer/assets/xp.3ff07b20.jpg";const nA=12,We=()=>{const{width:e,height:A}=M.exports.useContext(S),t=Math.floor((A-P-(b+nA))/b);return G(T,{children:[w(D.exports.Sprite,{image:ye,anchor:0,x:0,y:0,width:e,height:A-P}),w(D.exports.Container,{position:[b/2,b/2],children:De.map((n,s)=>w(Fe,{iconInfo:n,position:[Math.floor(s/t)*(b+nA),s%t*(b+nA)]},n.id))})]})},Re=(e,A,t,n)=>{const s=m,r=16,i=[0,0],o=[0,0];let a="none";const l={x:0,y:0};let d=!1,p="pointer",c={x:0,y:0,width:0,height:0};return{mouseDownHandler:E=>f=>{l.x=f.data.global.x,l.y=f.data.global.y,E.fullscreen?c={x:0,y:0,width:t,height:n-P}:c=E.rect,A.focus(e),!(i[0]===0&&i[1]===0&&l.y-c.y>s)&&(o[0]=i[0],o[1]=i[1],a=i[0]===0&&i[1]===0?"move":"scale",A.update(e,v(h({},E),{rect:c,fullscreen:!1})))},mouseMoveHandler:E=>f=>{if(a!=="none")if(a==="move")p="grabbing",A.update(e,v(h({},E),{rect:{x:c.x+f.offsetX-l.x,y:c.y+f.offsetY-l.y,width:E.rect.width,height:E.rect.height}}));else{const g=h({},c),O=200,U=200;o[0]===1?g.width=Math.max(O,c.width-l.x+f.offsetX):o[0]===-1&&(g.width=Math.max(O,l.x+c.width-f.offsetX),g.x=Math.min(c.x+c.width-O,c.x-l.x+f.offsetX)),o[1]===1?g.height=Math.max(U,c.height-l.y+f.offsetY):o[1]===-1&&(g.height=Math.max(U,l.y+c.height-f.offsetY),g.y=Math.min(c.y+c.height-U,c.y-l.y+f.offsetY)),g.width=Math.max(200,g.width),g.height=Math.max(m,g.height),A.update(e,v(h({},E),{rect:g}))}},mouseUpHandler:()=>()=>{a="none"},cursorMouseMoveHandler:E=>f=>{const g=E.fullscreen?{x:0,y:0,width:t,height:n-P}:E.rect;f.data.global.x-g.x<r?i[0]=-1:g.x+g.width-f.data.global.x<r?i[0]=1:i[0]=0,f.data.global.y-g.y<r?i[1]=-1:g.y+g.height-f.data.global.y<r?i[1]=1:i[1]=0,i[0]*i[1]===1?p="nwse-resize":i[0]*i[1]===-1?p="nesw-resize":i[0]!==0?p="ew-resize":i[1]!==0?p="ns-resize":f.data.global.y-g.y<s?p="grab":p="default"},mouseOverHandler:()=>{d=!0},mouseOutHandler:()=>{d=!1},getCursor:()=>d?p:""}};var Te="/Visualizer/assets/close.d415dcd5.png",Oe="/Visualizer/assets/fullscreen.f7ccf43f.png",Ue="data:image/png;base64,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",bA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB2IAAABgCAYAAADPVrKGAAAPNElEQVR4Ae3bMQ0AMQwEQfOnEizB5CgctpyXnoA13V5mfC7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAu0Fzt31uwEDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDQGRjH7I7plm7JAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAPfgBDrRbAX0QwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjhYODDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxgQfYHfGKCz+vBQAAAABJRU5ErkJggg==";const je=({width:e,height:A})=>{const t=M.exports.useCallback(n=>{n.clear(),n.beginFill(16777215),n.drawRect(0,0,e,A),n.endFill()},[e,A]);return w(D.exports.Graphics,{draw:t})},qe=({id:e,windowInfo:A})=>{const{width:t,height:n}=M.exports.useContext(S),{title:s,visible:r,fullscreen:i,Component:o}=A,a=i?{x:0,y:0,width:t,height:n-P}:A.rect,{windowSettings:l}=M.exports.useContext(S),d=M.exports.useRef(A),p=()=>{l.update(e,v(h({},A),{fullscreen:!A.fullscreen}))},c=()=>{l.minimize(e)},K=()=>{l.kill(e)};M.exports.useEffect(()=>{d.current=A},[A]);const[x,cA]=M.exports.useState({mouseDownHandler:null,cursorMouseMoveHandler:null,mouseOverHandler:null,mouseOutHandler:null,getCursor:null});return M.exports.useEffect(()=>{const{mouseDownHandler:lA,mouseMoveHandler:E,mouseUpHandler:f,cursorMouseMoveHandler:g,mouseOutHandler:O,mouseOverHandler:U,getCursor:IA}=Re(e,l,t,n);cA({mouseDownHandler:lA,cursorMouseMoveHandler:g,mouseOverHandler:U,mouseOutHandler:O,getCursor:IA});const dA=PA=>{E(d.current||A)(PA)},uA=()=>{f()()},j=document.getElementById("pixicanvas");if(!!j)return j.addEventListener("mousemove",dA),j.addEventListener("mouseup",uA),()=>{j.removeEventListener("mousemove",dA),j.removeEventListener("mouseup",uA)}},[]),D.exports.useTick(()=>{x.getCursor&&x.getCursor()&&!QA()&&ie(x.getCursor())}),G(D.exports.Container,{position:r?[a.x,a.y]:[a.x,-99999],interactive:!0,mousedown:x.mouseDownHandler?x.mouseDownHandler(A):()=>"",mousemove:x.cursorMouseMoveHandler?x.cursorMouseMoveHandler(A):()=>"",mouseover:x.mouseOverHandler?x.mouseOverHandler:()=>"",mouseout:x.mouseOutHandler?x.mouseOutHandler:()=>"",children:[G(D.exports.Container,{position:[0,0],children:[w(D.exports.Sprite,{anchor:[0,0],image:bA,width:a.width,height:m,position:[0,0]}),w(D.exports.Text,{text:s,anchor:[0,.5],position:[5,m/2],style:new W({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:m*.5,fill:"#000"})}),G(D.exports.Container,{position:[a.width,m/2],children:[w(D.exports.Sprite,{anchor:[1,.5],image:Ue,width:m,height:m,position:[-m*(e==="visualizer"?1:2),0],interactive:!0,click:c}),w(D.exports.Sprite,{anchor:[1,.5],image:Oe,width:m,height:m,position:[-m*(e==="visualizer"?0:1),0],interactive:!0,click:p}),e!=="visualizer"?w(D.exports.Sprite,{anchor:[1,.5],image:Te,width:m,height:m,position:[0,0],interactive:!0,click:K}):null]})]}),G(D.exports.Container,{position:[0,m],children:[w(je,{width:a.width,height:a.height-m}),o?w(o,{x:a.x,y:a.y+m,width:a.width,height:a.height-m}):w(D.exports.Container,{})]})]})};var Ke="/Visualizer/assets/youareanidiot_black.591803b6.png",Ne="/Visualizer/assets/youareanidiot_white.b7e9dc2a.png";const Je=({index:e,width:A,height:t,trans:n})=>{const s=A*.7,r=s/1576*994;return w(T,{children:w(D.exports.Sprite,{image:n?Ke:Ne,position:[e*1e3%(A-s),e*1e3%Math.max(1,t-r)],width:s,height:r})})},Le=({width:e,height:A})=>{const[t,n]=M.exports.useState(!1);return D.exports.useTick(()=>{const s=performance.now();n(Math.floor(s/500)%2==0)}),w(T,{children:new Array(10).fill(null).map((s,r)=>w(Je,{width:e,height:A,index:r,trans:t},r))})},Ve=()=>{const{width:e,height:A,windowSettings:{windows:t,windowIndices:n}}=M.exports.useContext(S);D.exports.useTick(()=>{document.body.style.cursor=QA()||"default",we()});const[s,r]=M.exports.useState(!1);return M.exports.useEffect(()=>{const i=()=>{const a=new Date().getTime();R.endTime.getTime()<a&&r(!0)},o=()=>{r(!0)};return B.addEventListener("initialized",i),B.addEventListener("ctfend",o),()=>{B.removeEventListener("initialized",i),B.removeEventListener("ctfend",o)}},[]),G(T,{children:[w(We,{}),n.map(i=>w(qe,{windowInfo:t[i]||ze,id:i,focus:!1},i)),s?w(Le,{width:e,height:A}):null]})};var Xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhYAAABgCAYAAABBozsmAAAFnUlEQVR4Ae3YsXFCURAEQUInDqWgIIhAMX2VEtiSMd61gfWqMLg2Znm9vz6Pj9+AAQYYYIABBgoDr+JLfAeMDDDAAAMMMPBnQFj4x8Y/VgwwwAADDGQGhAVMGSZrxVphgAEGGBAWwkJYMMAAAwwwkBkQFjBlmCwVS4UBBhhgQFgIC2HBAAMMMMBAZkBYwJRhslQsFQYYYICBf4fF98/z+PgNGGCAAQYYYGAZEBaCSTAywAADDDCQGRAWMGWYVsF6s3AYYICBGwaEhbAQFgwwwAADDGQGhAVMGSZr5MYacWd3ZoCBZUBYCAthwQADDDDAQGZAWMCUYVoF683CYYABBm4YEBbCQlgwwAADDDCQGRAWMGWYrJEba8Sd3ZkBBpYBYSEshAUDDDDAAAOZAWEBU4ZpFaw3C4cBBhi4YUBYCAthwQADDDDAQGZAWMCUYbJGbqwRd3ZnBhhYBoSFsBAWDDDAAAMMZAaEBUwZplWw3iwcBhhg4IYBYSEshAUDDDDAAAOZAWEBU4bJGrmxRtzZnRlgYBkQFsJCWDDAAAMMMJAZEBYwZZhWwXqzcBhggIEbBoSFsBAWDDDAAAMMZAaEBUwZJmvkxhpxZ3dmgIFlQFgIC2HBAAMMMMBAZkBYwJRhWgXrzcJhgAEGbhgQFsJCWDDAAAMMMJAZEBYwZZiskRtrxJ3dmQEGlgFhISyEBQMMMMAAA5kBYQFThmkVrDcLhwEGGLhhQFgIC2HBAAMMMMBAZkBYwJRhskZurBF3dmcGGFgGhIWwEBYMMMAAAwxkBoQFTBmmVbDeLBwGGGDghgFhISyEBQMMMMAAA5kBYQFThskaubFG3NmdGWBgGRAWwkJYMMAAAwwwkBkQFjBlmFbBerNwGGCAgRsGhIWwEBYMMMAAAwxkBoQFTBkma+TGGnFnd2aAgWVAWAgLYcEAAwwwwEBmQFjAlGFaBevNwmGAAQZuGBAWwkJYMMAAAwwwkBkQFjBlmKyRG2vEnd2ZAQaWAWEhLIQFAwwwwAADmQFhAVOGaRWsNwuHAQYYuGFAWAgLYcEAAwwwwEBmQFjAlGGyRm6sEXd2ZwYYWAaEhbAQFgwwwAADDGQGhAVMGaZVsN4sHAYYYOCGAWEhLIQFAwwwwAADmQFhAVOGyRq5sUbc2Z0ZYGAZEBbCQlgwwAADDDCQGRAWMGWYVsF6s3AYYICBGwaEhbAQFgwwwAADDGQGhAVMGSZr5MYacWd3ZoCBZUBYCAthwQADDDDAQGZAWMCUYVoF683CYYABBm4YEBbCQlgwwAADDDCQGRAWMGWYrJEba8Sd3ZkBBpYBYSEshAUDDDDAAAOZAWEBU4ZpFaw3C4cBBhi4YUBYCAthwQADDDDAQGZAWMCUYbJGbqwRd3ZnBhhYBoSFsBAWDDDAAAMMZAaEBUwZplWw3iwcBhhg4IYBYSEshAUDDDDAAAOZAWEBU4bJGrmxRtzZnRlgYBkQFsJCWDDAAAMMMJAZEBYwZZhWwXqzcBhggIEbBoSFsBAWDDDAAAMMZAaEBUwZJmvkxhpxZ3dmgIFlQFgIC2HBAAMMMMBAZkBYwJRhWgXrzcJhgAEGbhgQFsJCWDDAAAMMMJAZEBYwZZiskRtrxJ3dmQEGlgFhISyEBQMMMMAAA5kBYQFThmkVrDcLhwEGGLhhQFgIC2HBAAMMMMBAZkBYwJRhskZurBF3dmcGGFgGhIWwEBYMMMAAAwxkBoQFTBmmVbDeLBwGGGDghgFhISyEBQMMMMAAA5kBYQFThskaubFG3NmdGWBgGRAWwkJYMMAAAwwwkBkQFjBlmFbBerNwGGCAgRsGhIWwEBYMMMAAAwxkBoQFTBkma+TGGnFnd2aAgWVAWAgLYcEAAwwwwEBmQFjAlGFaBevNwmGAAQZuGBAWwkJYMMAAAwwwkBn4BbHYyZnBHIeHAAAAAElFTkSuQmCC",_e="data:image/png;base64,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";const $e=({id:e,index:A})=>{const{windowSettings:{windows:t,focused:n,focus:s,minimize:r}}=M.exports.useContext(S),i=t[e];if(!i)return w(T,{children:"null"});const{title:o,visible:a}=i,l=M.exports.useMemo(()=>new Q(new y(Xe)),[]),d=M.exports.useMemo(()=>new Q(new y(_e)),[]);return G(D.exports.Container,{position:[A*pA,P/2],interactive:!0,click:()=>n===e?r(e):s(e),children:[w(D.exports.Sprite,{width:pA*.9,height:P*.9,texture:a?l:d,anchor:[0,.5],position:[0,0]}),w(D.exports.Text,{text:o,anchor:[0,.5],position:[5,0],style:new W({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:P*.5*.8,fill:"#000"})})]})},At=()=>{const{width:e,height:A,windowSettings:{windowStack:t}}=M.exports.useContext(S);return G(D.exports.Container,{position:[0,A-P],children:[w(D.exports.Sprite,{image:bA,width:e,height:P,anchor:0,position:[0,0]}),w(D.exports.Container,{position:[200,0],children:t.map((n,s)=>w($e,{id:n,index:s},n))})]})};var et=`// lens distortion https://www.shadertoy.com/view/4lSGRw

precision mediump float;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec2 dimensions;

#define PI 3.14159265
const float viewAngle = PI / 7.0;
const float viewAngleCos = 0.5 / tan(viewAngle / 2.0);
vec2 lensDistortion(vec2 vUv, float colorScale) {
  float d = distance(vUv, vec2(0.5)) * colorScale;
  vec2 dir = normalize(vUv - vec2(0.5));
  return vec2(0.5) + tan(d * viewAngle) * viewAngleCos * dir;
}

vec4 getColor(vec2 uv) {
  if(uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) return vec4(0.0, 0.0, 0.0, 1.0);
  return texture2D(uSampler, uv * dimensions / filterArea.xy);
}

void main (void) {
  vec2 uv = vTextureCoord * filterArea.xy / dimensions;
  vec2 uvr = lensDistortion(uv, 1.0);
  vec2 uvg = lensDistortion(uv, 1.0);
  vec2 uvb = lensDistortion(uv, 1.0);
  
  gl_FragColor = vec4(
    getColor(uvr).r,
    getColor(uvg).g,
    getColor(uvb).b,
    1.0
  );
}`;class tt extends oA{constructor(){super(void 0,et,{dimensions:[0,0]})}apply(A,t,n,s){const{width:r,height:i}=t.filterFrame;this.uniforms.dimensions[0]=r,this.uniforms.dimensions[1]=i,A.applyFilter(this,t,n,s)}}var nt=`// lens distortion https://www.shadertoy.com/view/4lSGRw

precision mediump float;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

#define PI 3.14159265

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main (void) {
  vec2 uv = vTextureCoord * filterArea.xy / dimensions;
  float visnetting = mix(1.0, 0.7, smoothstep(0.3, 0.6, distance(uv, vec2(0.5))));
  gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(vec3(visnetting), 1.0);
}`;class st extends oA{constructor(){super(void 0,nt,{dimensions:[0,0]})}apply(A,t,n,s){const{width:r,height:i}=t.filterFrame;this.uniforms.dimensions[0]=r,this.uniforms.dimensions[1]=i,A.applyFilter(this,t,n,s)}}var rt=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float devicePixelRatio;
uniform vec2 lineWidth;
uniform vec2 lineSpacing;
uniform float blend;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord * devicePixelRatio;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord / devicePixelRatio;
}

vec4 getColor(vec2 index, vec2 size) {
  return texture2D(uSampler, unmapCoord(index * size));
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);
    float delta = mod(floor(coord.x), 2.0);
    int mode = int(mod((floor(delta * 1.5 + coord.y / 2.0)), 3.0));
    vec4 color = texture2D(uSampler, unmapCoord(floor(coord)));

    if (mode == 0) {
      gl_FragColor = mix(vec4(color.r, 0.0, 0.0, 1.0), color, blend);
    } else if (mode == 1) {
      gl_FragColor = mix(vec4(0.0, color.g, 0.0, 1.0), color, blend);
    } else if (mode == 2) {
      gl_FragColor = mix(vec4(0.0, 0.0, color.b, 1.0), color, blend);
    }
}`;class it extends oA{constructor(){super(void 0,rt,{dimensions:[0,0],devicePixelRatio:0,lineWidth:[1,0],blend:.5})}apply(A,t,n,s){const{width:r,height:i}=t.filterFrame;this.uniforms.dimensions[0]=r,this.uniforms.dimensions[1]=i,this.uniforms.devicePixelRatio=window.devicePixelRatio,A.applyFilter(this,t,n,s)}set lineWidth(A){this.uniforms.lineWidth=A}set blend(A){this.uniforms.blend=A}}const wt="_main_11f2u_1";var ot={main:wt};const at=({children:e,Context:A,render:t})=>w(A.Consumer,{children:n=>t(w(A.Provider,{value:n,children:e}))}),Dt=t=>{var n=t,{children:e}=n,A=fA(n,["children"]);return w(at,{Context:S,render:s=>w(D.exports.Stage,v(h({},A),{children:s})),children:e})},Mt=D.exports.withFilters(D.exports.Container,{hex:it,bloom:NA,colorshift:JA,lensDistortion:tt,visnetting:st}),ct=()=>{const{width:e,height:A}=M.exports.useContext(S);return w("main",{className:ot.main,children:w(Dt,{width:e,height:A,id:"pixicanvas",children:G(Mt,{hex:{lineWidth:[2,2],blend:.5},bloom:{threshold:.1,bloomScale:.5,brightness:1,blur:1,quality:4},colorshift:{red:[-2,0],green:[0,0],blue:[2,0]},children:[w(At,{}),w(Ve,{})]})})})},lt=()=>w($A,{children:w(ct,{})});LA.render(w(VA.StrictMode,{children:w(lt,{})}),document.getElementById("root"));
