var mA=Object.defineProperty,pA=Object.defineProperties;var BA=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var rA=Object.prototype.hasOwnProperty,DA=Object.prototype.propertyIsEnumerable;var J=(t,A,w)=>A in t?mA(t,A,{enumerable:!0,configurable:!0,writable:!0,value:w}):t[A]=w,u=(t,A)=>{for(var w in A||(A={}))rA.call(A,w)&&J(t,w,A[w]);if(T)for(var w of T(A))DA.call(A,w)&&J(t,w,A[w]);return t},m=(t,A)=>pA(t,BA(A));var iA=(t,A)=>{var w={};for(var e in t)rA.call(t,e)&&A.indexOf(e)<0&&(w[e]=t[e]);if(t!=null&&T)for(var e of T(t))A.indexOf(e)<0&&DA.call(t,e)&&(w[e]=t[e]);return w};var E=(t,A,w)=>(J(t,typeof A!="symbol"?A+"":A,w),w);import{r as c,j as _,M as xA,G as QA,T as EA,a as CA,F as GA,P as cA,S as ZA,g as k,b as $,B as bA,c as YA,d as N,V as oA,W as IA,E as PA,e as SA,R as zA,f as W,h as x,i as P,m as o,k as O,l as HA,n as AA,A as kA,o as WA,p as FA,q as yA}from"./vendor.8d31df7b.js";const RA=function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function w(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(n){if(n.ep)return;n.ep=!0;const s=w(n);fetch(n.href,s)}};RA();const OA=()=>{const[t,A]=c.exports.useState({width:Math.min(window.innerWidth,window.innerHeight*4/3),height:Math.min(window.innerHeight,window.innerWidth*3/4),windowSettings:{windows:{},windowIndices:[],windowStack:[],focused:"",update:(e,n)=>{A(s=>{const r=u({},s.windowSettings.windows);r[e]=n;const M=[...s.windowSettings.windowIndices],i=[...s.windowSettings.windowStack];return M.includes(e)||(i.push(e),M.push(e)),m(u({},s),{windowSettings:m(u({},s.windowSettings),{windows:r,windowIndices:M,windowStack:i})})})},kill:e=>{A(n=>{const s=u({},n.windowSettings.windows);delete s[e];const r=n.windowSettings.windowIndices.filter(a=>a!==e),M=n.windowSettings.windowStack.filter(a=>a!==e),i=r.filter(a=>{var v;return(v=s[a])==null?void 0:v.visible}),l=i.length>0?i[i.length-1]:"";return m(u({},n),{windowSettings:m(u({},n.windowSettings),{windows:s,windowIndices:r,windowStack:M,focused:l})})})},focus:e=>{A(n=>{const s=u({},n.windowSettings.windows),r=s[e];if(!r)throw new Error("invalid id");s[e]=m(u({},r),{visible:!0});const M=n.windowSettings.windowIndices.filter(i=>i!==e);return M.push(e),m(u({},n),{windowSettings:m(u({},n.windowSettings),{windows:s,windowIndices:M,focused:e})})})},minimize:e=>{A(n=>{const s=u({},n.windowSettings.windows),r=s[e];if(!r)throw new Error("invalid id");s[e]=m(u({},r),{visible:!1});const M=n.windowSettings.windowIndices.filter(l=>{var a;return l!==e&&((a=s[l])==null?void 0:a.visible)}),i=M.length>0?M[M.length-1]:"";return m(u({},n),{windowSettings:m(u({},n.windowSettings),{windows:s,focused:i})})})}}});return[t,()=>{A(e=>m(u({},e),{width:Math.min(window.innerWidth,window.innerHeight*4/3),height:Math.min(window.innerHeight,window.innerWidth*3/4)}))}]},D=_.exports.jsx,Z=_.exports.jsxs,q=_.exports.Fragment,I=c.exports.createContext({width:0,height:0,windowSettings:{windows:{},windowIndices:[],windowStack:[],focused:"",update:()=>"",kill:()=>"",focus:()=>"",minimize:()=>""}}),TA=({children:t})=>{const[A,w]=OA();return c.exports.useEffect(()=>(window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}),[]),D(I.Provider,{value:A,children:t})};let eA="";const lA=()=>eA,UA=t=>{eA=t},jA=()=>{eA=""},K=1.5,Y=54*K,f=32*K,G=64*K,MA=200*K;var qA="/Visualizer/assets/clock-icon.77140fc3.png",KA="/Visualizer/assets/visualizer-icon.4fa4c0d3.png";const JA=[{src:KA,id:"visualizer",title:"Visualizer.exe"},{src:qA,id:"clock",title:"Clock.exe"}];class Q{static get time(){return this._time}static get deltaTime(){return this._deltaTime}static start(A){this.startTime=A,this.prevTime=A}static update(A){this._time=(A-this.startTime)/1e3,this._deltaTime=(A-this.prevTime)/1e3,this.prevTime=A}}E(Q,"startTime",-1),E(Q,"_time",-1),E(Q,"_deltaTime",-1),E(Q,"prevTime",-1);class z extends xA{constructor(){super(...arguments);E(this,"initialized",!1)}start(){}update(){!this.visible||(this.initialized||(this.start(),this.initialized=!0),this.children.map(A=>{(A instanceof S||A instanceof z)&&A.update()}))}}class S extends QA{constructor(){super();E(this,"initialized",!1)}start(){}update(){!this.visible||(this.initialized||(this.start(),this.initialized=!0),this.children.map(A=>{(A instanceof S||A instanceof z)&&A.update()}))}}const NA="ws://localhost:8000";class VA extends EventTarget{constructor(){super();E(this,"websocket");this.websocket=new WebSocket(NA),this.websocket.addEventListener("message",this.messageHandler.bind(this)),this.websocket.addEventListener("error",()=>{this.dispatchEvent(new CustomEvent("disconnect"))}),this.testEvent()}testEvent(){setInterval(()=>{this.dispatchEvent(new CustomEvent("recalculate"))},3e4)}messageHandler(A){switch(A.data.type){case"submit":{this.dispatchEvent(new CustomEvent("submission",{detail:A.data.result}));break}case"start":{this.dispatchEvent(new CustomEvent("start"));break}case"end":{this.dispatchEvent(new CustomEvent("end"));break}case"recalculate":{this.dispatchEvent(new CustomEvent("recalculate"));break}}}}const H=new VA;class XA extends S{start(){}update(){super.update()}}const aA={texture:new EA,gltf:new CA,fbx:new GA},LA=(t,A,w)=>{switch(A){case"gltf":{aA.gltf.load(t,e=>{w(e.scene)});break}case"texture":{aA.texture.load(t,e=>{w(e)});break}}};class b{static addGLTF(A){this.queue.push([A,"gltf"])}static addTexture(A){this.queue.push([A,"texture"])}static addFBX(A){this.queue.push([A,"fbx"])}static load(A){return new Promise(w=>{let e=0;const n=this.queue.length;n===0&&w({}),this.queue.map(([s,r])=>{LA(s,r,M=>{e+=1,this.resources[s]={type:r,data:M},A({path:s,data:M,total:n,count:e}),e===n&&w({})})}),this.queue=[]})}static get(A){var w;return(w=this.resources[A])==null?void 0:w.data}}E(b,"resources",{}),E(b,"queue",[]);var _A=`uniform sampler2D face;
uniform sampler2D icon;
uniform int mode;
uniform float progress;
uniform float time;
varying vec2 vUv;

#define LINE_WIDTH 0.1

float rand(vec2 co) //\u5F15\u6570\u306F\u30B7\u30FC\u30C9\u5024\u3068\u547C\u3070\u308C\u308B\u3000\u540C\u3058\u5024\u3092\u6E21\u305B\u3070\u540C\u3058\u3082\u306E\u3092\u8FD4\u3059
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main() {
  vec3 value = vec3(0.0);
  vec3 delta = vec3(
    (rand(floor(vUv.yy / LINE_WIDTH))  * 0.5 - 0.2) * progress,
    (rand(floor(vUv.yy / LINE_WIDTH + 10.0))  * 0.5 - 0.2) * progress,
    (rand(floor(vUv.yy / LINE_WIDTH + 20.0))  * 0.5 - 0.2) * progress
  );
  vec2 uvr = vUv + vec2(delta.r, 0.0);
  vec2 uvg = vUv + vec2(delta.g, 0.0);
  vec2 uvb = vUv + vec2(delta.b, 0.0);
  if (mode == 0) {
    value = vec3(
      texture2D(face, uvr).r,
      texture2D(face, uvg).r,
      texture2D(face, uvb).r
    );
  } else if (mode == 1) {
    value = vec3(
      texture2D(face, uvr).g,
      texture2D(face, uvg).g,
      texture2D(face, uvb).g
    );
  } else if (mode == 2) {
    value = vec3(
      texture2D(face, uvr).b,
      texture2D(face, uvg).b,
      texture2D(face, uvb).b
    );
  } else {
    value = vec3(
      texture2D(icon, uvr).r,
      texture2D(icon, uvg).g,
      texture2D(icon, uvb).b
    );
  }

  float scanline = mix(0.5, 1.0, sin(time * 4.0 + vUv.y * 60.0) * 0.5 + 0.5);
  float visnetting = mix(1.0, 0.5, distance(vUv, vec2(0.5)) * 2.0);
  vec4 icon = texture2D(icon, vUv);
  gl_FragColor = vec4(max(value + icon.rgb * 0.6, 0.1) * scanline * visnetting, 1.0);
}`,$A=`varying vec2 vUv;

void main()
{
  vUv = uv;
  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);
}`,Ae="/Visualizer/assets/face.e8cae3d3.png",dA="/Visualizer/assets/testicon.8f219171.jpg";class ee extends z{constructor(){super(new cA(4*.5,3*.5),new ZA({vertexShader:$A,fragmentShader:_A,uniforms:{face:{value:b.get(Ae)},icon:{value:b.get(dA)},mode:{value:-1},progress:{value:0},time:{value:0}}}));this.position.set(0,1.5,1.1),this.rotation.set(-.03+Math.PI,-Math.PI,Math.PI)}start(){const A=this.material.uniforms.mode,w=this.material.uniforms.progress;!A||!w||setTimeout(()=>{setInterval(()=>{A.value=1,w.value=1,k.to(w,.3,{value:0}),setTimeout(()=>{A.value=Math.random()<.5?0:2,w.value=1,k.to(w,.3,{value:0})},2e3),setTimeout(()=>{A.value=-1,w.value=1,k.to(w,.3,{value:0})},4e3)},1e4)},Math.random()*1e4)}update(){super.update();const A=this.material.uniforms.time;A&&(A.value=Q.time)}}var uA="/Visualizer/assets/monitor.894de1ca.glb";class V extends S{constructor(){super();const A=b.get(uA).clone();A.material=new $({color:65280}),this.add(A),this.add(new ee)}start(){}update(){super.update()}}class te extends S{constructor(){super();let A=20;new Array(A).fill(null).forEach((w,e)=>{const n=new V,s=e/A*Math.PI*2;n.position.set(Math.sin(s)*4,0,Math.cos(s)*4),n.rotation.y=s+Math.PI,n.scale.set(.4,.4,.4),this.add(n)}),A=60,new Array(A).fill(null).forEach((w,e)=>{const n=new V,s=e/A*Math.PI*2;n.position.set(Math.sin(s)*4.5,1,Math.cos(s)*4.5),n.rotation.y=s+Math.PI,n.scale.set(.15,.15,.15),this.add(n)}),A=120,new Array(A).fill(null).forEach((w,e)=>{const n=new V,s=e/A*Math.PI*2;n.position.set(Math.sin(s)*5,1.5,Math.cos(s)*5),n.rotation.y=s+Math.PI,n.scale.set(.1,.1,.1),this.add(n)})}}class we extends z{constructor(){super(new bA(1,1,1),new $({color:16711680}))}start(){console.log("circuit")}update(){super.update(),this.rotation.y=Math.PI*Q.deltaTime}}class ne extends YA{constructor(){super(60,1,1,2e3);H.addEventListener("recalculate",()=>{k.to(this.position,2,{y:-8}),setTimeout(()=>{k.to(this.position,2,{y:2})},1e4)})}start(){this.position.set(Math.sin(Q.time*.1)*4,2,Math.cos(Q.time*.1)*4)}update(){this.position.set(Math.sin(Q.time*.1)*4,this.position.y,Math.cos(Q.time*.1)*4),this.lookAt(0,this.position.y-2,0)}}class se extends z{constructor(){super(new cA(1,1),new $({color:Math.floor(Math.random()*256*256*256)}));this.rotation.set(-Math.PI/2,0,0)}to(A){const w=k.timeline(),e=this.position;w.to(this.position,.2,{x:e.x,y:e.y+.3,z:e.z,ease:N.easeOut}).to(this.position,.6,{x:A.x,y:A.y+.3,z:A.z,ease:N.easeOut}).to(this.position,.2,{x:A.x,y:A.y,z:A.z,ease:N.easeOut})}}const re=()=>{const t=Math.floor(Math.random()*9),A=Math.floor(Math.random()*8),w=A<t?A:A+1;return[t,w]};class De extends S{constructor(){super();E(this,"children",[]);for(let A=-1;A<=1;A++)for(let w=-1;w<=1;w++){const e=new se;e.position.set(w,0,A),this.add(e)}}animate(){for(let A=0;A<10;A++)setTimeout(()=>{const[w,e]=re(),n=this.children[w];this.children[w]=this.children[e],this.children[e]=n,this.children[w].to(new oA(w%3-1,0,Math.floor(w/3)-1)),this.children[e].to(new oA(e%3-1,0,Math.floor(e/3)-1))},1e3*A)}}var hA="/Visualizer/assets/recalculating.60ffccdf.glb";class ie extends S{constructor(){super();E(this,"recLabel");const A=new De;A.scale.set(.5,.5,.5),this.add(A),H.addEventListener("recalculate",()=>{var w;(w=this.children[0])==null||w.animate()}),this.position.set(0,-10,0),this.recLabel=b.get(hA),this.recLabel.children[0].material.transparent=!0,this.recLabel.position.set(0,.5,0),this.recLabel.scale.set(1.5,1.5,1.5),this.add(this.recLabel)}update(){super.update(),this.recLabel.rotation.y+=Q.deltaTime}}const oe=t=>{const A=new IA({canvas:t,alpha:!0,antialias:!0}),w=new PA(A),e=new ne,n=(M,i)=>{A.setSize(M,i),A.setPixelRatio(window.devicePixelRatio),e.aspect=M/i,e.updateProjectionMatrix()},s=new SA;s.add(new XA,new te,new we,new ie),H.addEventListener("start",()=>{console.log("start ctf")}),H.addEventListener("end",()=>{console.log("end ctf")}),H.addEventListener("recalculate",async()=>{console.log("recalculate")}),H.addEventListener("submit",()=>{console.log("submit")}),w.addPass(new zA(s,e));const r=M=>{requestAnimationFrame(r),Q.update(M),e.update(),s.children.map(i=>{(i instanceof S||i instanceof z)&&i.update()}),A.render(s,e)};return{resizeHandler:n,startVisualizer:()=>{Q.start(performance.now()),e.start(),requestAnimationFrame(r)}}};var Me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABACAYAAABsv8+/AAAAAXNSR0IArs4c6QAACtlJREFUeJztnT1rXUceh/93NyZGmATUb2GBXTlE+gK+YbOoiIVxivUHcJVCIIFsNS6WLdJIG4gh3yLFNpstDF5sf4HYbKosbIr0gZhgYkJQCmfk0WjmnHk/M+c+D4h773mdZ67OPb8zc15EoEtuXL98ov5SqFleH5bLu4OvrunVe/Pz2PtSrqavWbahctmcXe99p3PVTQl/VQc+6OXy/c59Ud9DKUeA3nlr6gJAHF89/W6h3u8sN878yP3ryf/rF2iAG9cvn9Qq0+PHxyIi8sEH97zel0L39VmPKpf+6kOIj60OShD6fcd4+6DKoG8f+nYDsOoQAGaA/qN24/rlk53lxum41sLAEOZOcC64XErssGvt5ENQniEOQ+UPddO3AcIAwBsIADPD/FHTf/B6CgMi44GgpZ2covTRr6s1I2SekoQ0uccc9ad+52YYIATAKkMAmDmuroJaYSBkh6B+2GN+4H2b/FsLDCa2wJN7J1+6DkK7P0TiugFyhIHFgv0/rC5/mLoAUI+vnn63UH87yw3RuwpKrjN23pI7qhJhIOToP6a7o+eugNAyhE6vh4bSrRwAc4EAsKKoIFBrXSpwxISOXpr/UwgNBKldASUYC0DmTjolAIW0EgCAHboAoAq5uyL0nUYLzf8xfd8hlLgqoDQhJ//FBILWWjkAeoMAANUpGQZ8KLXDCC1/6KV/PV8VkBrGcgSgnHXgCnycVAg9QQCASZk6DLRGSpgJ3cHlPAck5l4PoUf9rQSgIVfznhwhEB6gNgQAaIZSYaBGU3jopX/qNebSPx+m7grQm/9rndcQ6rkocAlA7P/qznIjqBtJh+AAsRAAoElyhgHX+QI5ib35Uq2jWnO6neVGth3H2NG/rf5LXfvfSpdHKCmX5bpaHQgGMAYBAJqnVBjIia2MMUHApOTRcylir/0vdcQ/dX2UZqg7ghAAQxAAoCumvrGRD6qMucvX4qV/Q8Sut8YRf4nmf4DeIABAt7QeBlJbBUTC7wLoQ+nm/7HWjJRbH/tQ8vyHmg+2AihNcAA42ttMerzm4YNnXSdv/Nv0rxUGUv1THtTUQleA6f/k6x+Tlhd66+Mc5z/UwBZ2Qu9z0CKtbv+1mJt/UAA42ts82f90O3WdJ61Vgi/49+FfKgxk8b//8PRHILZVQCS+6Tvl6N/0//ijL73njb32v8R5AbHN/0d7myepgcdFzM2saoeJXrb/UszR3zsAKPlHjx4lrfDtP/0iR3ubTVWCD/j36e8KA6GU8M9xrkCtHYLLv/TNj8z5fCjRAqL8nwSEnpKMtfTk7OYR6Xf7z8Vc/b2eBZBLXkTk6pWLp5WQvLBK4D8Pf/1hSOqzz3yl/Us8pKnEzi+Hv43Umx+FEFO3pf1bZy7bfyxz9h8NACX++VurhCHwn6f/FDt/xZC/GQRCdlhjO9KYo0KX/xef/eB99N/Skw9z+a8Kc93+fZm7/2AXQMl//qtXLsq38nPWSsjdrII//i34qxCQ474CIZTy7+XJhz7+IQ886o1W/v99mev270uM/6SXAV69clE+/OTDnItspm/FB/zx9/Hf//015QqC3H3CIdR48I8POZ99sEp88dkPUxdhlH/++68iM93+Awj2DwoAa5euiYjIy5++OTf85U/fnL7a5rMNF5Gs6ar0CRb44y8ynf/uwfrp+5hWgVR0/5QrF0o8+MenlSA1AL32f5qyiO74+KMvm7mvxhA7yw3Zvrk26+1/jJjfP6+TAEXeSCgRVRkibypEVYJrfGlK9q3gj39L/rsH67J7sC4+5wrkOPo3/WPOUTCp+Rjn1KP/oR9xaINV2v5txPgHdwHYKkIX1CtjjuCPf0v+tVsFlK9a79qla0ldEyY9PvsAVofWtv9UvFsAzCYOW3PI2qVrZ5LPnMAf/9b9dw/WZfvmWpajc5Mhf9Uacfi368nrdt3XIPW8gNQWEP3obmjdIUzxmGaIo4ftPwavAKDLmuJmU0cvyScE/PEX6cd/ufXu6eWEi8Vikafv289fhQG9eyIWc0eecvfDFJTj0d9Xq/8fXtPb9h+C9YehhesTfXjvz388N+zb//0sr76/kHRJCP74JxWsEqvuf+/zr62tBKl3xevJXyT/nQB78xd57bt7sL5S//85tv9z5wAc7W2e3PvHYYbilef47pG1ElLAH3/8O/Hf3xKRv5wZltr835u/vhPMAf4d+WfY/s8EACX/y6tnSQutxf6n2/L5/YfZfgTxxx//vvzl/sPBaUKa/3v0P97fksePz+4EY4/+e/XPFQJ69E/d/r1PAizBi+drZ15d423D1bg7t2/Jf//za5kCFgZ//PVX13jbcPzf+L9uCejvbny5/XsD/+m3/0kDwDvvv5QXz9fknfdfishZMYX+WY3Xp1fvewR//PEv5z/l3Q994PvHf2r/MwHg8MGzxfHdI7nw9mbSQsfQpWwCuqiqJPOzmvfF87VsR0H4449/n/45jgLx79d/ufVucrl69o/d/qu0AJipxpQ2K2Qo1Ywtq0Xwx18Hf/xd4/HHv6Z/lQCgF9IU0Me7KsZWKXozSOvgj78C/zr+LTX/8/3jr2jNv2oLgNl/oY/X+z9C+jZ6SoD4448//vow9R5//KfwPxcAUvtBXAnHlB9KNHo/h6vJw6y0VvpB8cffBP86/sf7W8l3H+zdP5We/Vf9/z/GP3sLgKu5Y0jeNr/e7KFXhjl/awkQf/wV+Nf33765dnor5ESVKKb2nxr8+/Iv2gVgVoavvE+TiZpeTdPaP4II/vjjr8Aff/zb808KALbmDtc4s4BmOtKbM9T4MSkzGdUGf/x9x+GPv2s8/vhP5Z8UAFzNHT7T2+RURejvfSpiKvDHX4E//iHT44+/bXxtf2sAiDkRwiykT6HNFKRe9YpQ09kqz5znzu1b8ur7C95ldoE//vjj36P/VCcCtuK/6t9/qH90C4At8ZjD9KYJ27ihVxF3JerT6kmpJvjjPzYMf/yn8M9xV7wxWvavwVz8gwKAT+H0adU0ZoJxTTtUGaagSj01wR9/ff1j0+KPv/l+aFr88dfXU8M/KADYVmirFF3YNY+tSWNsXeYyaic//PG3lcMcjz/++OM/NE8r/slXAYwlGzMJmWlHH27OK3I+6ZjrG6ro0uCPP/74D43HH/+W/d+KmstRGCXnKpTrs615w9YMYsN3uhLgj79ZFvzxxx9/2/gW/Z0tAPqZkCmVa6YbW9oxU87Q+sZS153bt6LLqoM//vjjjz/+c/b3agGwJR19uJl8zOn0z2OievpR782kZI4vDf746+CPvz4cf/x79Y/qAhhq2lAFNitJvbelH5fQmHCNL98G/vi7PuOPP/749+KfdA6AmWh0zNQSsjx9Hv3zVF+4C/zxxx9/G/jjr6YJXV5N/+D7ANgKYQ53TaewJSb9s7lsc56h5ZUEf/zxx39sOP749+IfdR8AU9Bs5ggZppY3tL6hacbG5QR//NX68MffHK6/xx9/n2FqeUPrG5pmbNwYwV0AZtpQCUavHLMZQ803Ns7Ed7qa4I+/Dv74449/r/7eLQC2Zg7beF3UNm9IcrKVYSrwxx9//F1lwR//Hv29A4CtYKaobZhLUk8ztgryqZCx8uUEf/xN8Mcff/yHhrXuvxib4Ghv8yRqyRNy+ODZqJcv+OOfa1m1wB//XMvCf7X9AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYDJ+A678c1QUTO5wAAAAAElFTkSuQmCC",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAAgCAYAAAD0QgaeAAAAAXNSR0IArs4c6QAAAJhJREFUeJzt3TEKwkAURdE/4gotBFcYSJEtaiG5W4jgOdWUv7pM99bMzOv5eA/w17b9WEsMgNP9fGz7sa48BLjO+TG4XX0I8DsEAYggABEEIIIARBCACAIQQQAiCEAEAYggABEEIIIARBCACAIQQQAiCEAEAYggABEEIIIARBCACAIQQQAiCEAEAYggADH2CmTNmIMHvoPPHw9GED8I9d58AAAAAElFTkSuQmCC",ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAAAXNSR0IArs4c6QAAADBJREFUSIljZGBgYOCRqfvPQAb48qSJkYkcjchg1IBRA0YNGDVg1IBRA0YNGGwGAADwGARAM3CimgAAAABJRU5ErkJggg==",le="/Visualizer/assets/face.e8cae3d3.png";const de=()=>{b.addGLTF(hA),b.addGLTF(uA),b.addTexture(le),b.addTexture(dA)},ue=({width:t,height:A,loadedHandler:w})=>{const[e,n]=c.exports.useState(""),[s,r]=c.exports.useState(0),[M,i]=c.exports.useState({textures:[],index:-1});return c.exports.useEffect(()=>{(async()=>{de(),await b.load(({path:d,total:C,count:p})=>{n(d),r(p/C)}),w()})();const a=new W(Me);i({index:0,textures:[new x(a,new P(64*0,0,64,64)),new x(a,new P(64*1,0,64,64)),new x(a,new P(64*2,0,64,64)),new x(a,new P(64*3,0,64,64)),new x(a,new P(64*4,0,64,64)),new x(a,new P(64*5,0,64,64)),new x(a,new P(64*6,0,64,64)),new x(a,new P(64*7,0,64,64))]});const v=setInterval(()=>{i(d=>({index:(d.index+1)%d.textures.length,textures:d.textures}))},200);return()=>{clearInterval(v)}},[]),Z(o.exports.Container,{position:[t/2,A/2],children:[M.index<0?null:D(o.exports.Sprite,{texture:M.textures[M.index],anchor:.5,position:[0,-50],width:64,height:64}),D(o.exports.Text,{text:e,anchor:.5,position:[0,0],style:new O({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#000"})}),D(o.exports.Sprite,{image:ae,position:[0,50],anchor:.5,width:260,height:32,children:new Array(Math.floor(16*s)).fill(null).map((l,a)=>D(o.exports.Sprite,{image:ce,anchor:[0,.5],position:[(a-8)*16,0],width:16,height:32},a))})]})};var he="/Visualizer/assets/traP_logo.25c1c1d8.png";const ge=new W(he),X=50,U=24,fe=({width:t,height:A,onComplete:w})=>{const[e,n]=c.exports.useState(0);return c.exports.useEffect(()=>{const s=setInterval(()=>{n(r=>r===X+U*2?(clearInterval(s),setTimeout(()=>{w()},1),r):r+1)},1e3/U)},[]),D(o.exports.Container,{position:[t/2,A/2],children:D(o.exports.Sprite,{texture:new x(ge,new P(0,280*Math.min(e,X-1),1920,280)),alpha:1-Math.max(0,e-X-U)/U,anchor:.5,width:t*.9,height:t*.9/1920*280})})},ve=({width:t,height:A})=>{const w=c.exports.useRef(null),e=c.exports.useRef(),[n,s]=c.exports.useState({width:t,height:A}),[r,M]=c.exports.useState(new x(new W)),[i,l]=c.exports.useState("loading");o.exports.useTick(()=>{r.update()}),c.exports.useEffect(()=>{e.current&&(e.current.resizeHandler(t,A),r.update(),s({width:t,height:A}))},[t,A]);const a=()=>{const C=document.createElement("canvas");w.current=C,e.current=oe(C),e.current.resizeHandler(t,A),M(new x(W.from(C))),l("splashscreen")},v=()=>{e.current&&e.current.startVisualizer(),l("visualizer")};return D(q,{children:(C=>C==="loading"?D(ue,{width:t,height:A,loadedHandler:a}):C==="splashscreen"?D(fe,{width:t,height:A,onComplete:v}):D(o.exports.Sprite,{texture:r,width:n.width,height:n.height}))(i)})},me=({x:t,y:A,width:w,height:e})=>{const[n,s]=c.exports.useState("");return o.exports.useTick(()=>{const r=new Date;s(`${r.getHours()}:${("00"+r.getMinutes()).slice(-2)}:${("00"+r.getSeconds()).slice(-2)}`)}),D(o.exports.Container,{mask:new HA().drawRect(t,A,w,e),children:D(o.exports.Text,{text:n,anchor:.5,position:[w/2,e/2],style:new O({align:"right",fontFamily:"Roboto, Helvetica, sans-serif",fontSize:50,fill:"#000000"})})})},pe={Component:null,title:"Clock",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!1},Be={visualizer:{Component:ve,title:"Visualizer",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!0},clock:{Component:me,title:"Clock",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!1}},j=G/4,xe=({iconInfo:t,position:A})=>{const{windowSettings:{windows:w,update:e}}=c.exports.useContext(I),n=()=>{const s=Be[t.id];w[t.id]||!s||e(t.id,s)};return Z(o.exports.Container,{position:A,interactive:!0,click:n,children:[D(o.exports.Sprite,{image:t.src,position:[6,0],width:G-j,height:G-j}),D(o.exports.Text,{text:t.title,anchor:[.5,0],position:[G/2,G-j],style:new O({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:j,fill:"#000"})})]})};var Qe="/Visualizer/assets/xp.3ff07b20.jpg";const L=12,Ee=()=>{const{width:t,height:A}=c.exports.useContext(I),w=Math.floor((A-Y-(G+L))/G);return Z(q,{children:[D(o.exports.Sprite,{image:Qe,anchor:0,x:0,y:0,width:t,height:A-Y}),D(o.exports.Container,{position:[G/2,G/2],children:JA.map((e,n)=>D(xe,{iconInfo:e,position:[Math.floor(n/w)*(G+L),n%w*(G+L)]},e.id))})]})},Ce=(t,A,w,e)=>{const n=f,s=16,r=[0,0],M=[0,0];let i="none";const l={x:0,y:0};let a=!1,v="pointer",d={x:0,y:0,width:0,height:0};return{mouseDownHandler:B=>g=>{l.x=g.data.global.x,l.y=g.data.global.y,B.fullscreen?d={x:0,y:0,width:w,height:e-Y}:d=B.rect,A.focus(t),!(r[0]===0&&r[1]===0&&l.y-d.y>n)&&(M[0]=r[0],M[1]=r[1],i=r[0]===0&&r[1]===0?"move":"scale",A.update(t,m(u({},B),{rect:d,fullscreen:!1})))},mouseMoveHandler:B=>g=>{if(i!=="none")if(i==="move")v="grabbing",A.update(t,m(u({},B),{rect:{x:d.x+g.offsetX-l.x,y:d.y+g.offsetY-l.y,width:B.rect.width,height:B.rect.height}}));else{const h=u({},d),F=200,y=200;M[0]===1?h.width=Math.max(F,d.width-l.x+g.offsetX):M[0]===-1&&(h.width=Math.max(F,l.x+d.width-g.offsetX),h.x=Math.min(d.x+d.width-F,d.x-l.x+g.offsetX)),M[1]===1?h.height=Math.max(y,d.height-l.y+g.offsetY):M[1]===-1&&(h.height=Math.max(y,l.y+d.height-g.offsetY),h.y=Math.min(d.y+d.height-y,d.y-l.y+g.offsetY)),h.width=Math.max(200,h.width),h.height=Math.max(f,h.height),A.update(t,m(u({},B),{rect:h}))}},mouseUpHandler:()=>()=>{i="none"},cursorMouseMoveHandler:B=>g=>{const h=B.fullscreen?{x:0,y:0,width:w,height:e-Y}:B.rect;g.data.global.x-h.x<s?r[0]=-1:h.x+h.width-g.data.global.x<s?r[0]=1:r[0]=0,g.data.global.y-h.y<s?r[1]=-1:h.y+h.height-g.data.global.y<s?r[1]=1:r[1]=0,r[0]*r[1]===1?v="nwse-resize":r[0]*r[1]===-1?v="nesw-resize":r[0]!==0?v="ew-resize":r[1]!==0?v="ns-resize":g.data.global.y-h.y<n?v="grab":v="default"},mouseOverHandler:()=>{a=!0},mouseOutHandler:()=>{a=!1},getCursor:()=>a?v:""}};var Ge="/Visualizer/assets/close.d415dcd5.png",Ze="/Visualizer/assets/fullscreen.f7ccf43f.png",be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAT4AAAFGCAYAAADzSfOcAAANZ0lEQVR4Ae3ZQW5b1xZEUY3ZA8l8PB/Pw4EbMQIkaolFvOO9Gsb/HV+RvIv7lZyPj4+Pn/74DBhgIGbAhccu3IPOw54BX3rhZ4CBoAGXHrx0T3yrr25A+ISPAQZyBnJvuP6k8/6tPQY86YSfAQaCBlx68NI98a2+ugHhEz4GGMgZyL3h+pPO+7f2GPCkE34GGAgacOnBS/fEt/rqBoRP+BhgIGcg94brTzrv39pjwJNO+BlgIGjApQcv3RPf6qsbED7hY4CBnIHcG64/6bx/a48BTzrhZ4CBoAGXHrx0T3yrr25A+ISPAQZyBnJvuP6k8/6tPQZWT7ofP3789MdnwAADXzGw6tPH6uCvvFl/15eFAQZ+GVj1SfgsU8ucgccaED44H4vTOrPOVgaET/iEj4GcAeGDPod+tSKce2ehCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSviET/gYyBkQPuhz6Fcrwrl3lqTwCZ/wMZAzIHzQ59BbZneW2equhE/4hI+BnAHhgz6HfrUinHtnSQqf8AkfAzkDwgd9Dr1ldmeZre5K+IRP+BjIGRA+6HPoVyvCuXeWpPAJn/AxkDMgfNDn0Ftmd5bZ6q6ET/iEj4GcAeGDPod+tSKce2dJCp/wCR8DOQPCB30OvWV2Z5mt7kr4hE/4GMgZED7oc+hXK8K5d5ak8Amf8DGQMyB80OfQW2Z3ltnqroRP+ISPgZwB4YM+h361Ipx7Z0kKn/AJHwM5A8IHfQ69ZXZnma3uSvj+0PB9+/bt5/Bynf3x8fjP4JeBVTiunzv8bmxgXP/A3/X6hW/jb/iFeXlIhe/zZTu8xw28d4Xj+s8Rvo2/4RdG+N7429fwHjfwrgfpXa9f+Db+hl8Y4RO+z9G+KxzXf47wfW7oUry+8lr9qutX3dw/8gqf8Amf8Anfgf8K+ZV14+/+N/TCJ3zCJ3wv/ze0p8dW+IRP+IRP+N74Hw+e/m/kw4fWf6f3K37Y0z/Qp7w+/8a38fcKw+86w+Kz+Cw+i8/is/h+d2D48Nk8cZ+yqJ7+Oiy+jb/hF+blYbb4LL7fpX96sF71+oRP+IRP+ITPr7ovX1RPX3/CJ3zCJ3zC59/4fndg+NDa/Krxql8F//Rz/Kq78Tf8wrw8zBafxfe79H968P55f8InfMInfMLnV92XL6qnrz/hEz7hEz7h8298vzswfGhtftX451c5//v50+zXZ+NX3Y2/4Rfm5WG2+D7/jgzvcQNP8D6/zH9/NsK38Tf8wgjfGxfp8B438P795fb/P4/g9+/ff/7111/+hD+DXwZ8R/7/OyJ8b3zKQPj/CH0uPpd3GxA+4bMKGMgZED7oc+jfvS78vOctWuETPuFjIGdA+KDPobfAnrfA3n0nwid8wsdAzoDwQZ9D/+514ec9b2EKn/AJHwM5A8IHfQ69Bfa8BfbuOxE+4RM+BnIGhA/6HPp3rws/73kLU/iET/gYyBkQPuhz6C2w5y2wd9+J8Amf8DGQMyB80OfQv3td+HnPW5jCJ3zCx0DOgPBBn0NvgT1vgb37ToRP+ISPgZwB4YM+h/7d68LPe97CFD7hEz4GcgaED/ocegvseQvs3XcifMInfAzkDAgf9Dn0714Xft7zFqbwCZ/wMZAzIHzQ59BbYM9bYO++E+ETPuFjIGdA+KDPoX/3uvDznrcwhU/4hI+BnIFz4Ru+4J/O/vAZfPgMfA++ZOBLf9kX0BeQAQYuGhA+T04GGMgZyL3hi08nr9mqYuC1BoTP054BBnIGcm/Yk/O1T06fp8/zogHh87RngIGcgdwbvvh08pqtKgZea0D4PO0ZYCBnIPeGPTlf++T0efo8LxoQPk97BhjIGci94YtPJ6/ZqmLgtQaEz9OeAQZyBnJv2JPztU9On6fP86IB4fO0Z4CBnIHcG774dPKarSoGXmtA+DztGWAgZyD3hj05X/vk9Hn6PC8aED5PewYYyBnIveGLTyev2api4LUGhM/TngEGcgZyb9iT87VPTp+nz/Ocgb8BywVOkrz0pBMAAAAASUVORK5CYII=",gA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB2IAAABgCAYAAADPVrKGAAAPNElEQVR4Ae3bMQ0AMQwEQfOnEizB5CgctpyXnoA13V5mfC7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAi7gAu0Fzt31uwEDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDQGRjH7I7plm7JAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAPfgBDrRbAX0QwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjhYODDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxASE2Pqh1g3UDAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwIsUKsdQMDDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDMQGhNj4oNYN1g0MMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMCDECrHWDQwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwEBsQYuODWjdYNzDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAgBArxFo3MMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMBAbECIjQ9q3WDdwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADQqwQa93AAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAOxgQfYHfGKCz+vBQAAAABJRU5ErkJggg==";const Ye=({width:t,height:A})=>{const w=c.exports.useCallback(e=>{e.clear(),e.beginFill(16777215),e.drawRect(0,0,t,A),e.endFill()},[t,A]);return D(o.exports.Graphics,{draw:w})},Ie=({id:t,windowInfo:A})=>{const{width:w,height:e}=c.exports.useContext(I),{title:n,visible:s,fullscreen:r,Component:M}=A,i=r?{x:0,y:0,width:w,height:e-Y}:A.rect,{windowSettings:l}=c.exports.useContext(I),a=c.exports.useRef(A),v=()=>{l.update(t,m(u({},A),{fullscreen:!A.fullscreen}))},d=()=>{l.minimize(t)},C=()=>{l.kill(t)};c.exports.useEffect(()=>{a.current=A},[A]);const[p,tA]=c.exports.useState({mouseDownHandler:null,cursorMouseMoveHandler:null,mouseOverHandler:null,mouseOutHandler:null,getCursor:null});return c.exports.useEffect(()=>{const{mouseDownHandler:wA,mouseMoveHandler:B,mouseUpHandler:g,cursorMouseMoveHandler:h,mouseOutHandler:F,mouseOverHandler:y,getCursor:fA}=Ce(t,l,w,e);tA({mouseDownHandler:wA,cursorMouseMoveHandler:h,mouseOverHandler:y,mouseOutHandler:F,getCursor:fA});const nA=vA=>{B(a.current||A)(vA)},sA=()=>{g()()},R=document.getElementById("pixicanvas");if(!!R)return R.addEventListener("mousemove",nA),R.addEventListener("mouseup",sA),()=>{R.removeEventListener("mousemove",nA),R.removeEventListener("mouseup",sA)}},[]),o.exports.useTick(()=>{p.getCursor&&p.getCursor()&&!lA()&&UA(p.getCursor())}),Z(o.exports.Container,{position:s?[i.x,i.y]:[i.x,-99999],interactive:!0,mousedown:p.mouseDownHandler?p.mouseDownHandler(A):()=>"",mousemove:p.cursorMouseMoveHandler?p.cursorMouseMoveHandler(A):()=>"",mouseover:p.mouseOverHandler?p.mouseOverHandler:()=>"",mouseout:p.mouseOutHandler?p.mouseOutHandler:()=>"",children:[Z(o.exports.Container,{position:[0,0],children:[D(o.exports.Sprite,{anchor:[0,0],image:gA,width:i.width,height:f,position:[0,0]}),D(o.exports.Text,{text:n,anchor:[0,.5],position:[5,f/2],style:new O({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:f*.5,fill:"#000"})}),Z(o.exports.Container,{position:[i.width,f/2],children:[D(o.exports.Sprite,{anchor:[1,.5],image:be,width:f,height:f,position:[-f*(t==="visualizer"?1:2),0],interactive:!0,click:d}),D(o.exports.Sprite,{anchor:[1,.5],image:Ze,width:f,height:f,position:[-f*(t==="visualizer"?0:1),0],interactive:!0,click:v}),t!=="visualizer"?D(o.exports.Sprite,{anchor:[1,.5],image:Ge,width:f,height:f,position:[0,0],interactive:!0,click:C}):null]})]}),Z(o.exports.Container,{position:[0,f],children:[D(Ye,{width:i.width,height:i.height-f}),M?D(M,{x:i.x,y:i.y+f,width:i.width,height:i.height-f}):D(o.exports.Container,{})]})]})},Pe=()=>{const{windowSettings:{windows:t,windowIndices:A}}=c.exports.useContext(I);return o.exports.useTick(()=>{document.body.style.cursor=lA()||"default",jA()}),Z(q,{children:[D(Ee,{}),A.map(w=>D(Ie,{windowInfo:t[w]||pe,id:w,focus:!1},w))]})};var Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhYAAABgCAYAAABBozsmAAAFnUlEQVR4Ae3YsXFCURAEQUInDqWgIIhAMX2VEtiSMd61gfWqMLg2Znm9vz6Pj9+AAQYYYIABBgoDr+JLfAeMDDDAAAMMMPBnQFj4x8Y/VgwwwAADDGQGhAVMGSZrxVphgAEGGBAWwkJYMMAAAwwwkBkQFjBlmCwVS4UBBhhgQFgIC2HBAAMMMMBAZkBYwJRhslQsFQYYYICBf4fF98/z+PgNGGCAAQYYYGAZEBaCSTAywAADDDCQGRAWMGWYVsF6s3AYYICBGwaEhbAQFgwwwAADDGQGhAVMGSZr5MYacWd3ZoCBZUBYCAthwQADDDDAQGZAWMCUYVoF683CYYABBm4YEBbCQlgwwAADDDCQGRAWMGWYrJEba8Sd3ZkBBpYBYSEshAUDDDDAAAOZAWEBU4ZpFaw3C4cBBhi4YUBYCAthwQADDDDAQGZAWMCUYbJGbqwRd3ZnBhhYBoSFsBAWDDDAAAMMZAaEBUwZplWw3iwcBhhg4IYBYSEshAUDDDDAAAOZAWEBU4bJGrmxRtzZnRlgYBkQFsJCWDDAAAMMMJAZEBYwZZhWwXqzcBhggIEbBoSFsBAWDDDAAAMMZAaEBUwZJmvkxhpxZ3dmgIFlQFgIC2HBAAMMMMBAZkBYwJRhWgXrzcJhgAEGbhgQFsJCWDDAAAMMMJAZEBYwZZiskRtrxJ3dmQEGlgFhISyEBQMMMMAAA5kBYQFThmkVrDcLhwEGGLhhQFgIC2HBAAMMMMBAZkBYwJRhskZurBF3dmcGGFgGhIWwEBYMMMAAAwxkBoQFTBmmVbDeLBwGGGDghgFhISyEBQMMMMAAA5kBYQFThskaubFG3NmdGWBgGRAWwkJYMMAAAwwwkBkQFjBlmFbBerNwGGCAgRsGhIWwEBYMMMAAAwxkBoQFTBkma+TGGnFnd2aAgWVAWAgLYcEAAwwwwEBmQFjAlGFaBevNwmGAAQZuGBAWwkJYMMAAAwwwkBkQFjBlmKyRG2vEnd2ZAQaWAWEhLIQFAwwwwAADmQFhAVOGaRWsNwuHAQYYuGFAWAgLYcEAAwwwwEBmQFjAlGGyRm6sEXd2ZwYYWAaEhbAQFgwwwAADDGQGhAVMGaZVsN4sHAYYYOCGAWEhLIQFAwwwwAADmQFhAVOGyRq5sUbc2Z0ZYGAZEBbCQlgwwAADDDCQGRAWMGWYVsF6s3AYYICBGwaEhbAQFgwwwAADDGQGhAVMGSZr5MYacWd3ZoCBZUBYCAthwQADDDDAQGZAWMCUYVoF683CYYABBm4YEBbCQlgwwAADDDCQGRAWMGWYrJEba8Sd3ZkBBpYBYSEshAUDDDDAAAOZAWEBU4ZpFaw3C4cBBhi4YUBYCAthwQADDDDAQGZAWMCUYbJGbqwRd3ZnBhhYBoSFsBAWDDDAAAMMZAaEBUwZplWw3iwcBhhg4IYBYSEshAUDDDDAAAOZAWEBU4bJGrmxRtzZnRlgYBkQFsJCWDDAAAMMMJAZEBYwZZhWwXqzcBhggIEbBoSFsBAWDDDAAAMMZAaEBUwZJmvkxhpxZ3dmgIFlQFgIC2HBAAMMMMBAZkBYwJRhWgXrzcJhgAEGbhgQFsJCWDDAAAMMMJAZEBYwZZiskRtrxJ3dmQEGlgFhISyEBQMMMMAAA5kBYQFThmkVrDcLhwEGGLhhQFgIC2HBAAMMMMBAZkBYwJRhskZurBF3dmcGGFgGhIWwEBYMMMAAAwxkBoQFTBmmVbDeLBwGGGDghgFhISyEBQMMMMAAA5kBYQFThskaubFG3NmdGWBgGRAWwkJYMMAAAwwwkBkQFjBlmFbBerNwGGCAgRsGhIWwEBYMMMAAAwxkBoQFTBkma+TGGnFnd2aAgWVAWAgLYcEAAwwwwEBmQFjAlGFaBevNwmGAAQZuGBAWwkJYMMAAAwwwkBn4BbHYyZnBHIeHAAAAAElFTkSuQmCC",ze="data:image/png;base64,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";const He=({id:t,index:A})=>{const{windowSettings:{windows:w,focused:e,focus:n,minimize:s}}=c.exports.useContext(I),r=w[t];if(!r)return D(q,{children:"null"});const{title:M,visible:i}=r,l=c.exports.useMemo(()=>new x(new W(Se)),[]),a=c.exports.useMemo(()=>new x(new W(ze)),[]);return Z(o.exports.Container,{position:[A*MA,Y/2],interactive:!0,click:()=>e===t?s(t):n(t),children:[D(o.exports.Sprite,{width:MA*.9,height:Y*.9,texture:i?l:a,anchor:[0,.5],position:[0,0]}),D(o.exports.Text,{text:M,anchor:[0,.5],position:[5,0],style:new O({align:"center",fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:Y*.5*.8,fill:"#000"})})]})},ke=()=>{const{width:t,height:A,windowSettings:{windowStack:w}}=c.exports.useContext(I);return Z(o.exports.Container,{position:[0,A-Y],children:[D(o.exports.Sprite,{image:gA,width:t,height:Y,anchor:0,position:[0,0]}),D(o.exports.Container,{position:[200,0],children:w.map((e,n)=>D(He,{id:e,index:n},e))})]})};var We=`// lens distortion https://www.shadertoy.com/view/4lSGRw

precision mediump float;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec2 dimensions;

#define PI 3.14159265
const float viewAngle = PI / 7.0;
const float viewAngleCos = 0.5 / tan(viewAngle / 2.0);
vec2 lensDistortion(vec2 vUv, float colorScale) {
  float d = distance(vUv, vec2(0.5)) * colorScale;
  vec2 dir = normalize(vUv - vec2(0.5));
  return vec2(0.5) + tan(d * viewAngle) * viewAngleCos * dir;
}

vec4 getColor(vec2 uv) {
  if(uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) return vec4(0.0, 0.0, 0.0, 1.0);
  return texture2D(uSampler, uv * dimensions / filterArea.xy);
}

void main (void) {
  vec2 uv = vTextureCoord * filterArea.xy / dimensions;
  vec2 uvr = lensDistortion(uv, 1.0);
  vec2 uvg = lensDistortion(uv, 1.0);
  vec2 uvb = lensDistortion(uv, 1.0);
  
  gl_FragColor = vec4(
    getColor(uvr).r,
    getColor(uvg).g,
    getColor(uvb).b,
    1.0
  );
}`;class Fe extends AA{constructor(){super(void 0,We,{dimensions:[0,0]})}apply(A,w,e,n){const{width:s,height:r}=w.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=r,A.applyFilter(this,w,e,n)}}var ye=`// lens distortion https://www.shadertoy.com/view/4lSGRw

precision mediump float;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

#define PI 3.14159265

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main (void) {
  vec2 uv = vTextureCoord * filterArea.xy / dimensions;
  float visnetting = mix(1.0, 0.7, smoothstep(0.3, 0.6, distance(uv, vec2(0.5))));
  gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(vec3(visnetting), 1.0);
}`;class Re extends AA{constructor(){super(void 0,ye,{dimensions:[0,0]})}apply(A,w,e,n){const{width:s,height:r}=w.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=r,A.applyFilter(this,w,e,n)}}var Oe=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float devicePixelRatio;
uniform vec2 lineWidth;
uniform vec2 lineSpacing;
uniform float blend;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord * devicePixelRatio;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord / devicePixelRatio;
}

vec4 getColor(vec2 index, vec2 size) {
  return texture2D(uSampler, unmapCoord(index * size));
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);
    float delta = mod(floor(coord.x), 2.0);
    int mode = int(mod((floor(delta * 1.5 + coord.y / 2.0)), 3.0));
    vec4 color = texture2D(uSampler, unmapCoord(floor(coord)));

    if (mode == 0) {
      gl_FragColor = mix(vec4(color.r, 0.0, 0.0, 1.0), color, blend);
    } else if (mode == 1) {
      gl_FragColor = mix(vec4(0.0, color.g, 0.0, 1.0), color, blend);
    } else if (mode == 2) {
      gl_FragColor = mix(vec4(0.0, 0.0, color.b, 1.0), color, blend);
    }
}`;class Te extends AA{constructor(){super(void 0,Oe,{dimensions:[0,0],devicePixelRatio:0,lineWidth:[1,0],blend:.5})}apply(A,w,e,n){const{width:s,height:r}=w.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=r,this.uniforms.devicePixelRatio=window.devicePixelRatio,A.applyFilter(this,w,e,n)}set lineWidth(A){this.uniforms.lineWidth=A}set blend(A){this.uniforms.blend=A}}const Ue="_main_11f2u_1";var je={main:Ue};const qe=({children:t,Context:A,render:w})=>D(A.Consumer,{children:e=>w(D(A.Provider,{value:e,children:t}))}),Ke=w=>{var e=w,{children:t}=e,A=iA(e,["children"]);return D(qe,{Context:I,render:n=>D(o.exports.Stage,m(u({},A),{children:n})),children:t})},Je=o.exports.withFilters(o.exports.Container,{hex:Te,bloom:kA,colorshift:WA,lensDistortion:Fe,visnetting:Re}),Ne=()=>{const{width:t,height:A}=c.exports.useContext(I);return D("main",{className:je.main,children:D(Ke,{width:t,height:A,id:"pixicanvas",children:Z(Je,{hex:{lineWidth:[2,2],blend:.5},bloom:{threshold:.1,bloomScale:.5,brightness:1,blur:1,quality:4},colorshift:{red:[-2,0],green:[0,0],blue:[2,0]},children:[D(ke,{}),D(Pe,{})]})})})},Ve=()=>D(TA,{children:D(Ne,{})});FA.render(D(yA.StrictMode,{children:D(Ve,{})}),document.getElementById("root"));
