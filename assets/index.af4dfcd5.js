var Ks=Object.defineProperty,Qs=Object.defineProperties;var Js=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols;var ps=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable;var Le=(i,e,s)=>e in i?Ks(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s,z=(i,e)=>{for(var s in e||(e={}))ps.call(e,s)&&Le(i,s,e[s]);if(Ie)for(var s of Ie(e))vs.call(e,s)&&Le(i,s,e[s]);return i},F=(i,e)=>Qs(i,Js(e));var Ye=(i,e)=>{var s={};for(var t in i)ps.call(i,t)&&e.indexOf(t)<0&&(s[t]=i[t]);if(i!=null&&Ie)for(var t of Ie(i))e.indexOf(t)<0&&vs.call(i,t)&&(s[t]=i[t]);return s};var u=(i,e,s)=>(Le(i,typeof e!="symbol"?e+"":e,s),s);import{r as x,j as us,T as Bs,G as Zs,F as _s,m as $s,a as w,B as Ce,b as E,R as W,c as V,M as ze,d as Rs,S as et,e as xe,C as D,V as H,E as st,f as Hs,P as Fe,D as tt,g as _,h as ds,i as it,k as rt,l as nt,A as at,n as gs,o as ot,p as ke,q as As,s as Ws,t as Vs,u as ct,v as Oe,w as zs,U as ys,x as Ss,y as lt,z as ut,H as dt,W as wt,I as ht,J as mt,K as ft,L as xt,N as je,O as bs,Q as ws,X as pt,Y as vt,Z as gt,_ as At}from"./vendor.341bf12e.js";const zt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}};zt();const Te=1.5,O=64*Te,yt=200*Te,A=6*Te,De=A/3*2,M=A/6*26,X=M*1.2,Ps=30*Te;let Ns=0;const Cs=i=>{Ns=i},Be=()=>Ns;var St="/Visualizer/assets/clickup.207be81c.mp3",bt="/Visualizer/assets/clickdown.92e482ed.mp3";const Y={mouseup:new Audio(St),mousedown:new Audio(bt)},Re=i=>{Be()!==0&&(!Y[i]||(Y[i].paused||(Y[i].pause(),Y[i].currentTime=0),Y[i].volume=Be(),Y[i].play()))},Je=i=>{Be()!==0&&(!Y[i]||(Y[i].paused||(Y[i].pause(),Y[i].currentTime=Math.min(Y[i].currentTime,5)),Y[i].volume=Be(),Y[i].play()))},Pt=()=>{const[i,e]=x.exports.useState(()=>({width:Math.min(window.innerWidth,window.innerHeight*4/3),height:Math.min(window.innerHeight,window.innerWidth*3/4),windowSettings:{windows:{},windowIndices:[],windowStack:[],focused:"",starting:"",update:(t,r)=>{e(n=>{if(n.windowSettings.starting)return n;if(!n.windowSettings.windowIndices.includes(t))return Je("hdd"),setTimeout(()=>{e(d=>{const h=z({},d.windowSettings.windows);h[t]=r;const f=[...d.windowSettings.windowIndices],m=[...d.windowSettings.windowStack];return f.includes(t)||(m.push(t),f.push(t)),F(z({},d),{windowSettings:F(z({},d.windowSettings),{windows:h,windowIndices:f,windowStack:m,starting:""})})})},2e3),F(z({},n),{windowSettings:F(z({},n.windowSettings),{starting:t})});const a=z({},n.windowSettings.windows);a[t]=r;const o=[...n.windowSettings.windowIndices],c=[...n.windowSettings.windowStack];return o.includes(t)||(c.push(t),o.push(t),Je("hdd")),F(z({},n),{windowSettings:F(z({},n.windowSettings),{windows:a,windowIndices:o,windowStack:c})})})},kill:t=>{e(r=>{const n=z({},r.windowSettings.windows);delete n[t];const a=r.windowSettings.windowIndices.filter(h=>h!==t),o=r.windowSettings.windowStack.filter(h=>h!==t),c=a.filter(h=>{var f;return(f=n[h])==null?void 0:f.visible}),d=c.length>0?c[c.length-1]:"";return F(z({},r),{windowSettings:F(z({},r.windowSettings),{windows:n,windowIndices:a,windowStack:o,focused:d})})})},focus:t=>{e(r=>{const n=z({},r.windowSettings.windows),a=n[t];if(!a)throw new Error("invalid id");n[t]=F(z({},a),{visible:!0});const o=r.windowSettings.windowIndices.filter(c=>c!==t);return o.push(t),F(z({},r),{windowSettings:F(z({},r.windowSettings),{windows:n,windowIndices:o,focused:t})})})},minimize:t=>{e(r=>{const n=z({},r.windowSettings.windows),a=n[t];if(!a)throw new Error("invalid id");n[t]=F(z({},a),{visible:!1});const o=r.windowSettings.windowIndices.filter(d=>{var h;return d!==t&&((h=n[d])==null?void 0:h.visible)}),c=o.length>0?o[o.length-1]:"";return F(z({},r),{windowSettings:F(z({},r.windowSettings),{windows:n,focused:c})})})}}}));return[i,()=>{e(t=>F(z({},t),{width:Math.min(window.innerWidth,window.innerHeight*4/3),height:Math.min(window.innerHeight,window.innerWidth*3/4)}))}]},l=us.exports.jsx,T=us.exports.jsxs,N=us.exports.Fragment,J=x.exports.createContext({width:0,height:0,windowSettings:{windows:{},windowIndices:[],windowStack:[],starting:"",focused:"",update:()=>"",kill:()=>"",focus:()=>"",minimize:()=>""}}),Ct=({children:i})=>{const[e,s]=Pt();return x.exports.useEffect(()=>(window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}),[]),l(J.Provider,{value:e,children:i})},we=["PPC","Web","Crypto","Binary","Pwn","Misc","Shell","Forensics","OSINT"];var Ft=[{class:"basis",sizeX:46,sizeY:46},{class:"parts",x:23,z:23,isBig:!1,category:""},{class:"parts",x:36,z:6,isBig:!1,category:"PPC"},{class:"parts",x:12,z:4,isBig:!1,category:"Web"},{class:"parts",x:26,z:41,isBig:!1,category:"Crypto"},{class:"parts",x:10,z:24,isBig:!1,category:"Binary"},{class:"parts",x:43,z:17,isBig:!1,category:"Pwn"},{class:"parts",x:22,z:30,isBig:!1,category:"Misc"},{class:"parts",x:0,z:27,isBig:!1,category:"Shell"},{class:"parts",x:0,z:1,isBig:!1,category:"Forensics"},{class:"parts",x:10,z:4,isBig:!1,category:"OSINT"},{class:"wires",x:40,z:0,wires:[[0,23],[1,22],[2,21]]},{class:"wires",x:41,z:0,wires:[[5,18]]},{class:"wires",x:42,z:0,wires:[[6,-1],[7,-1]]},{class:"wires",x:38,z:1,wires:[[0,15],[1,14],[2,13],[3,12],[4,11]]},{class:"wires",x:39,z:1,wires:[[24,15],[25,14],[26,13],[27,12],[28,11]]},{class:"wires",x:40,z:1,wires:[[24,23],[25,22],[26,21],[27,12],[28,11]]},{class:"wires",x:41,z:1,wires:[[5,18],[6,9],[27,4],[28,3]]},{class:"wires",x:42,z:1,wires:[[7,16],[30,17]]},{class:"wires",x:3,z:2,wires:[[15,-1]]},{class:"wires",x:4,z:2,wires:[[15,24]]},{class:"wires",x:5,z:2,wires:[[15,24]]},{class:"wires",x:6,z:2,wires:[[15,24]]},{class:"wires",x:7,z:2,wires:[[15,24]]},{class:"wires",x:8,z:2,wires:[[15,24]]},{class:"wires",x:9,z:2,wires:[[15,24]]},{class:"wires",x:10,z:2,wires:[[15,24]]},{class:"wires",x:11,z:2,wires:[[15,24]]},{class:"wires",x:12,z:2,wires:[[7,24],[15,-1]]},{class:"wires",x:13,z:2,wires:[[15,24]]},{class:"wires",x:14,z:2,wires:[[7,24],[11,-1],[13,-1],[15,-1]]},{class:"wires",x:15,z:2,wires:[[3,28],[5,26],[7,24],[15,-1]]},{class:"wires",x:16,z:2,wires:[[7,24],[9,-1],[11,-1],[13,-1],[15,-1]]},{class:"wires",x:17,z:2,wires:[[1,30],[3,28],[5,26],[7,24],[9,-1],[11,-1],[13,-1],[15,-1]]},{class:"wires",x:18,z:2,wires:[[1,30],[3,28],[5,26],[7,24]]},{class:"wires",x:30,z:2,wires:[[14,-1],[15,-1]]},{class:"wires",x:31,z:2,wires:[[14,25],[15,24]]},{class:"wires",x:32,z:2,wires:[[14,25],[15,24]]},{class:"wires",x:33,z:2,wires:[[14,25],[15,24]]},{class:"wires",x:34,z:2,wires:[[14,25],[15,24]]},{class:"wires",x:35,z:2,wires:[[14,25],[15,24]]},{class:"wires",x:36,z:2,wires:[[14,25],[15,24]]},{class:"wires",x:37,z:2,wires:[[6,25],[7,24]]},{class:"wires",x:38,z:2,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,10]]},{class:"wires",x:39,z:2,wires:[[29,10]]},{class:"wires",x:40,z:2,wires:[[11,-1],[12,-1],[29,10]]},{class:"wires",x:41,z:2,wires:[[6,17],[19,28],[20,27],[29,18]]},{class:"wires",x:42,z:2,wires:[[7,16]]},{class:"wires",x:2,z:3,wires:[[9,-1],[11,-1],[13,-1]]},{class:"wires",x:3,z:3,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:4,z:3,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:5,z:3,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:6,z:3,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:7,z:3,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:8,z:3,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:9,z:3,wires:[[3,-1],[5,-1],[7,8],[9,30],[11,28],[13,26]]},{class:"wires",x:10,z:3,wires:[[1,-1],[3,-1],[5,-1],[7,-1],[9,30],[11,28],[13,26],[31,0]]},{class:"wires",x:11,z:3,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:12,z:3,wires:[[1,30],[3,28],[5,26],[7,16],[9,-1],[11,-1],[13,-1],[15,-1]]},{class:"wires",x:13,z:3,wires:[[1,30],[3,28],[5,26],[7,24],[9,-1],[11,-1],[13,-1]]},{class:"wires",x:14,z:3,wires:[[1,30],[3,28],[5,26],[7,16],[9,-1]]},{class:"wires",x:15,z:3,wires:[[1,30],[3,20],[5,18],[7,16],[9,-1],[11,-1],[13,-1]]},{class:"wires",x:16,z:3,wires:[[1,30],[3,28],[5,26],[7,16]]},{class:"wires",x:17,z:3,wires:[[1,22],[3,20],[5,18],[7,16]]},{class:"wires",x:18,z:3,wires:[[1,22],[3,20],[5,18],[7,16],[9,-1],[11,-1],[13,-1],[15,-1]]},{class:"wires",x:19,z:3,wires:[[1,30],[3,28],[5,26],[7,24]]},{class:"wires",x:29,z:3,wires:[[12,-1],[13,-1]]},{class:"wires",x:30,z:3,wires:[[12,27],[13,26]]},{class:"wires",x:31,z:3,wires:[[12,27],[13,26]]},{class:"wires",x:32,z:3,wires:[[12,27],[13,26]]},{class:"wires",x:33,z:3,wires:[[12,27],[13,26]]},{class:"wires",x:34,z:3,wires:[[12,27],[13,26]]},{class:"wires",x:35,z:3,wires:[[12,27],[13,26]]},{class:"wires",x:36,z:3,wires:[[12,27],[13,26]]},{class:"wires",x:37,z:3,wires:[[4,27],[5,26],[6,17],[7,16]]},{class:"wires",x:38,z:3,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,9],[7,8]]},{class:"wires",x:39,z:3,wires:[[0,-1],[30,9],[31,8]]},{class:"wires",x:40,z:3,wires:[[1,-1],[2,-1],[5,-1],[6,-1],[30,9],[31,8]]},{class:"wires",x:41,z:3,wires:[[30,17],[31,8]]},{class:"wires",x:42,z:3,wires:[[31,16]]},{class:"wires",x:8,z:4,wires:[[3,12]]},{class:"wires",x:9,z:4,wires:[[5,10],[7,8],[9,6],[11,4],[13,18],[15,16],[27,20]]},{class:"wires",x:11,z:4,wires:[[1,-1],[3,-1],[5,-1],[7,-1],[25,14],[27,12],[29,10],[31,8]]},{class:"wires",x:28,z:4,wires:[[10,-1],[11,-1]]},{class:"wires",x:29,z:4,wires:[[10,29],[11,28]]},{class:"wires",x:30,z:4,wires:[[10,29],[11,28]]},{class:"wires",x:31,z:4,wires:[[10,29],[11,28]]},{class:"wires",x:32,z:4,wires:[[10,29],[11,28]]},{class:"wires",x:33,z:4,wires:[[10,29],[11,28]]},{class:"wires",x:34,z:4,wires:[[10,29],[11,28]]},{class:"wires",x:35,z:4,wires:[[10,29],[11,28]]},{class:"wires",x:36,z:4,wires:[[10,29],[11,28]]},{class:"wires",x:37,z:4,wires:[[2,29],[3,28],[4,19],[5,18],[6,17],[7,16]]},{class:"wires",x:38,z:4,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,17],[7,16]]},{class:"wires",x:39,z:4,wires:[[0,23],[1,14],[2,13],[3,12],[4,11]]},{class:"wires",x:40,z:4,wires:[[5,18],[6,17],[25,22],[26,21],[27,4],[28,3]]},{class:"wires",x:7,z:5,wires:[[3,12]]},{class:"wires",x:8,z:5,wires:[[5,10],[11,4],[27,20]]},{class:"wires",x:9,z:5,wires:[[7,8],[9,6],[11,4],[13,2],[15,16],[17,14],[19,28],[29,18]]},{class:"wires",x:11,z:5,wires:[[1,14],[3,12],[25,22],[27,20],[29,18],[31,16]]},{class:"wires",x:26,z:5,wires:[[8,-1],[9,-1],[10,-1],[11,-1],[12,-1],[13,-1],[14,-1],[15,-1]]},{class:"wires",x:27,z:5,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:28,z:5,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:29,z:5,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:30,z:5,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:31,z:5,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:32,z:5,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:33,z:5,wires:[[4,-1],[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:34,z:5,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:35,z:5,wires:[[5,-1],[6,-1],[7,-1],[8,31],[9,30],[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:36,z:5,wires:[[0,31],[1,30],[2,29],[3,28],[4,27],[5,26],[6,25],[7,24],[8,-1],[9,-1]]},{class:"wires",x:37,z:5,wires:[[0,31],[1,30],[2,21],[3,20],[4,19],[5,18],[6,17],[7,16]]},{class:"wires",x:38,z:5,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,17],[7,16]]},{class:"wires",x:39,z:5,wires:[[0,23],[1,22],[2,21],[3,20],[4,19]]},{class:"wires",x:40,z:5,wires:[[5,18],[6,17],[7,8],[19,4],[20,3]]},{class:"wires",x:41,z:5,wires:[[31,8]]},{class:"wires",x:42,z:5,wires:[[31,8]]},{class:"wires",x:43,z:5,wires:[[31,0]]},{class:"wires",x:7,z:6,wires:[[11,20]]},{class:"wires",x:8,z:6,wires:[[9,6],[11,4],[13,18],[19,28]]},{class:"wires",x:9,z:6,wires:[[1,30],[3,12],[5,10],[7,8],[9,6],[11,4],[13,2],[15,16],[17,14],[19,28],[21,26]]},{class:"wires",x:11,z:6,wires:[[25,22],[27,20],[29,10],[31,8]]},{class:"wires",x:32,z:6,wires:[[4,11]]},{class:"wires",x:33,z:6,wires:[[28,19]]},{class:"wires",x:34,z:6,wires:[[5,10]]},{class:"wires",x:35,z:6,wires:[[8,7],[9,6],[10,5],[11,4],[12,3],[13,2],[14,17],[15,16],[29,18]]},{class:"wires",x:38,z:6,wires:[[0,15],[1,14],[24,23],[25,22],[26,21],[27,20],[28,19],[29,18],[30,17],[31,16]]},{class:"wires",x:39,z:6,wires:[[2,21],[3,20],[4,19],[24,23],[25,22]]},{class:"wires",x:40,z:6,wires:[[5,18],[6,17],[7,16],[19,4],[20,3]]},{class:"wires",x:43,z:6,wires:[[23,0]]},{class:"wires",x:7,z:7,wires:[[3,12],[5,10],[9,6],[11,4]]},{class:"wires",x:8,z:7,wires:[[7,8],[9,6],[11,4],[13,2],[17,30],[19,28],[27,-1],[29,-1]]},{class:"wires",x:9,z:7,wires:[[1,30],[3,28],[5,26],[7,8],[9,22],[11,20],[13,18],[15,16],[17,14],[19,12],[21,10],[31,0]]},{class:"wires",x:11,z:7,wires:[[25,14],[27,12],[29,2],[31,0]]},{class:"wires",x:32,z:7,wires:[[12,19]]},{class:"wires",x:33,z:7,wires:[[4,27]]},{class:"wires",x:34,z:7,wires:[[7,8],[12,3],[13,18]]},{class:"wires",x:35,z:7,wires:[[8,-1],[9,-1],[10,-1],[11,-1],[12,-1],[13,-1],[14,-1],[15,-1],[16,15],[17,14],[18,13],[19,12],[20,27],[21,26],[31,8]]},{class:"wires",x:38,z:7,wires:[[24,23],[25,22],[26,13],[27,12],[28,11],[29,10],[30,9],[31,8]]},{class:"wires",x:39,z:7,wires:[[11,-1],[12,-1],[26,21],[27,20],[28,19],[29,10],[30,9],[31,8]]},{class:"wires",x:40,z:7,wires:[[19,28],[20,27],[29,18],[30,17],[31,16]]},{class:"wires",x:43,z:7,wires:[[23,0]]},{class:"wires",x:7,z:8,wires:[[11,20],[13,18],[17,14],[19,12]]},{class:"wires",x:8,z:8,wires:[[3,28],[5,26],[9,-1],[11,-1],[15,16],[17,14],[19,12],[21,10],[25,6],[27,4]]},{class:"wires",x:9,z:8,wires:[[1,30],[3,28],[7,24],[9,22],[11,20],[13,18],[15,16],[23,8],[25,6],[27,4],[29,2]]},{class:"wires",x:11,z:8,wires:[[9,30],[15,24],[21,-1],[23,-1],[25,14],[27,12],[29,10],[31,8]]},{class:"wires",x:12,z:8,wires:[[1,30],[3,20],[7,16],[17,6],[19,4],[21,2],[23,24],[25,22],[27,-1],[29,-1],[31,0]]},{class:"wires",x:13,z:8,wires:[[7,16],[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:14,z:8,wires:[[15,16],[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:15,z:8,wires:[[7,16],[17,6],[19,4],[21,2],[23,24]]},{class:"wires",x:16,z:8,wires:[[7,16],[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:17,z:8,wires:[[15,16],[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:18,z:8,wires:[[7,16],[17,6],[19,4],[21,2],[23,24]]},{class:"wires",x:19,z:8,wires:[[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:33,z:8,wires:[[12,19]]},{class:"wires",x:34,z:8,wires:[[15,16],[20,27]]},{class:"wires",x:35,z:8,wires:[[15,24]]},{class:"wires",x:36,z:8,wires:[[16,7],[17,6],[18,5],[19,4],[20,3],[21,2],[22,1],[23,24]]},{class:"wires",x:37,z:8,wires:[[16,7],[17,6],[18,5],[19,4],[20,3],[21,2],[22,1],[23,0]]},{class:"wires",x:43,z:8,wires:[[23,-1]]},{class:"wires",x:8,z:9,wires:[[11,20],[13,18],[17,14],[19,12]]},{class:"wires",x:9,z:9,wires:[[9,6],[11,4],[13,2],[15,16],[17,14],[19,28],[21,26],[25,22],[27,20]]},{class:"wires",x:11,z:9,wires:[[11,28],[13,26],[15,24],[25,14],[27,12],[29,10],[31,8]]},{class:"wires",x:12,z:9,wires:[[15,16],[17,6],[19,28],[21,26],[23,24],[25,22],[27,20],[29,2],[31,0]]},{class:"wires",x:13,z:9,wires:[[13,-1],[15,16],[17,6],[19,4],[21,2],[23,24]]},{class:"wires",x:14,z:9,wires:[[17,6],[19,4],[21,26],[23,24]]},{class:"wires",x:15,z:9,wires:[[7,16],[17,6],[19,4],[21,2]]},{class:"wires",x:16,z:9,wires:[[9,-1],[11,-1],[13,-1],[15,16],[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:17,z:9,wires:[[9,-1],[11,-1],[13,-1],[17,30],[19,28],[21,26],[23,24]]},{class:"wires",x:18,z:9,wires:[[15,16],[17,30],[19,28],[21,26]]},{class:"wires",x:19,z:9,wires:[[17,6],[19,4],[21,2],[23,24]]},{class:"wires",x:36,z:9,wires:[[13,-1],[14,-1],[15,-1],[16,7],[17,6],[18,5],[19,4],[20,3],[21,2],[22,1]]},{class:"wires",x:37,z:9,wires:[[16,7],[17,6],[18,5],[19,4],[20,3],[21,26],[22,25],[23,24]]},{class:"wires",x:0,z:10,wires:[[13,-1],[15,-1]]},{class:"wires",x:1,z:10,wires:[[13,26],[15,24]]},{class:"wires",x:2,z:10,wires:[[13,26],[15,24]]},{class:"wires",x:3,z:10,wires:[[13,26],[15,24]]},{class:"wires",x:4,z:10,wires:[[13,26],[15,24]]},{class:"wires",x:5,z:10,wires:[[13,26],[15,24]]},{class:"wires",x:6,z:10,wires:[[13,26],[15,24]]},{class:"wires",x:7,z:10,wires:[[13,26],[15,24]]},{class:"wires",x:8,z:10,wires:[[13,26],[15,24]]},{class:"wires",x:9,z:10,wires:[[13,26],[15,24],[17,-1],[19,-1],[21,-1]]},{class:"wires",x:10,z:10,wires:[[5,18],[7,16],[17,6],[19,4],[21,26],[23,24]]},{class:"wires",x:12,z:10,wires:[[9,-1],[11,-1],[13,-1],[17,6],[21,2],[23,0]]},{class:"wires",x:13,z:10,wires:[[11,-1],[17,30],[19,28],[21,26]]},{class:"wires",x:14,z:10,wires:[[17,6],[19,28]]},{class:"wires",x:15,z:10,wires:[[13,-1],[15,16],[17,6],[19,4],[21,2]]},{class:"wires",x:16,z:10,wires:[[17,6],[19,4],[21,26],[23,24]]},{class:"wires",x:19,z:10,wires:[[17,6],[19,4],[21,2]]},{class:"wires",x:28,z:10,wires:[[14,-1]]},{class:"wires",x:29,z:10,wires:[[14,25]]},{class:"wires",x:30,z:10,wires:[[14,25]]},{class:"wires",x:31,z:10,wires:[[14,25]]},{class:"wires",x:32,z:10,wires:[[14,25]]},{class:"wires",x:33,z:10,wires:[[14,25]]},{class:"wires",x:34,z:10,wires:[[14,25]]},{class:"wires",x:35,z:10,wires:[[14,25]]},{class:"wires",x:36,z:10,wires:[[11,-1],[12,-1],[16,7],[17,6],[18,5],[19,4],[20,3],[21,2],[22,25]]},{class:"wires",x:37,z:10,wires:[[16,7],[17,6],[18,5],[19,28],[20,27]]},{class:"wires",x:1,z:11,wires:[[11,-1]]},{class:"wires",x:2,z:11,wires:[[11,28]]},{class:"wires",x:3,z:11,wires:[[11,28]]},{class:"wires",x:4,z:11,wires:[[11,28]]},{class:"wires",x:5,z:11,wires:[[9,-1],[11,28]]},{class:"wires",x:6,z:11,wires:[[9,30],[11,28]]},{class:"wires",x:7,z:11,wires:[[9,30],[11,28]]},{class:"wires",x:8,z:11,wires:[[9,30],[11,28]]},{class:"wires",x:9,z:11,wires:[[9,30],[11,28]]},{class:"wires",x:10,z:11,wires:[[9,30],[13,18],[15,16],[17,-1],[19,28]]},{class:"wires",x:11,z:11,wires:[[9,30],[13,26],[15,24]]},{class:"wires",x:12,z:11,wires:[[9,-1],[17,30],[21,26],[23,24]]},{class:"wires",x:13,z:11,wires:[[9,30]]},{class:"wires",x:14,z:11,wires:[[9,-1],[11,-1],[13,-1],[17,30]]},{class:"wires",x:15,z:11,wires:[[9,-1],[11,-1],[17,30],[19,28],[21,26]]},{class:"wires",x:16,z:11,wires:[[9,-1],[11,-1],[13,-1],[17,30],[19,28]]},{class:"wires",x:17,z:11,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:18,z:11,wires:[[9,30],[11,28],[13,26]]},{class:"wires",x:19,z:11,wires:[[17,30],[19,28],[21,26]]},{class:"wires",x:29,z:11,wires:[[8,-1],[9,-1],[10,-1],[11,-1],[12,-1],[13,-1]]},{class:"wires",x:30,z:11,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:31,z:11,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:32,z:11,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:33,z:11,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:34,z:11,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:35,z:11,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:36,z:11,wires:[[8,-1],[9,-1],[10,-1],[16,31],[17,30],[18,29],[19,28],[20,27],[21,26]]},{class:"wires",x:37,z:11,wires:[[16,31],[17,30],[18,29]]},{class:"wires",x:27,z:15,wires:[[0,-1],[1,-1],[2,-1],[3,-1],[4,-1],[5,-1]]},{class:"wires",x:27,z:16,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18]]},{class:"wires",x:27,z:17,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18]]},{class:"wires",x:25,z:18,wires:[[0,15],[1,14],[2,13],[3,12],[4,11]]},{class:"wires",x:26,z:18,wires:[[24,15],[25,14],[26,13],[27,12],[28,11]]},{class:"wires",x:27,z:18,wires:[[5,18],[6,9],[24,23],[25,22],[26,21],[27,20],[28,19]]},{class:"wires",x:28,z:18,wires:[[30,9]]},{class:"wires",x:29,z:18,wires:[[30,9]]},{class:"wires",x:30,z:18,wires:[[30,-1]]},{class:"wires",x:16,z:19,wires:[[15,-1]]},{class:"wires",x:17,z:19,wires:[[15,24]]},{class:"wires",x:18,z:19,wires:[[15,24]]},{class:"wires",x:19,z:19,wires:[[15,24]]},{class:"wires",x:20,z:19,wires:[[15,24]]},{class:"wires",x:21,z:19,wires:[[15,24]]},{class:"wires",x:22,z:19,wires:[[15,24]]},{class:"wires",x:23,z:19,wires:[[7,24]]},{class:"wires",x:25,z:19,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,10]]},{class:"wires",x:26,z:19,wires:[[29,10]]},{class:"wires",x:27,z:19,wires:[[6,17],[29,18]]},{class:"wires",x:9,z:20,wires:[[0,-1],[1,-1],[2,-1],[3,-1],[4,-1]]},{class:"wires",x:23,z:20,wires:[[7,16]]},{class:"wires",x:25,z:20,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18]]},{class:"wires",x:27,z:20,wires:[[6,17],[7,8]]},{class:"wires",x:28,z:20,wires:[[31,8]]},{class:"wires",x:29,z:20,wires:[[4,-1],[31,8]]},{class:"wires",x:30,z:20,wires:[[31,0]]},{class:"wires",x:9,z:21,wires:[[0,23],[1,22],[2,21],[3,20],[4,19]]},{class:"wires",x:14,z:21,wires:[[14,-1]]},{class:"wires",x:15,z:21,wires:[[14,25]]},{class:"wires",x:16,z:21,wires:[[14,25]]},{class:"wires",x:17,z:21,wires:[[14,25]]},{class:"wires",x:18,z:21,wires:[[14,25]]},{class:"wires",x:19,z:21,wires:[[14,25]]},{class:"wires",x:20,z:21,wires:[[14,25]]},{class:"wires",x:21,z:21,wires:[[14,25]]},{class:"wires",x:22,z:21,wires:[[14,25]]},{class:"wires",x:23,z:21,wires:[[6,25],[7,16],[15,-1]]},{class:"wires",x:24,z:21,wires:[[7,24]]},{class:"wires",x:25,z:21,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,9]]},{class:"wires",x:26,z:21,wires:[[30,9]]},{class:"wires",x:27,z:21,wires:[[7,16],[30,17]]},{class:"wires",x:29,z:21,wires:[[4,19],[5,10]]},{class:"wires",x:30,z:21,wires:[[23,0],[29,-1]]},{class:"wires",x:6,z:22,wires:[[0,15],[1,14],[2,13],[3,12],[4,11],[5,10],[6,9]]},{class:"wires",x:7,z:22,wires:[[24,15],[25,14],[26,13],[27,12],[28,11],[29,10],[30,9]]},{class:"wires",x:8,z:22,wires:[[24,15],[25,14],[26,13],[27,12],[28,11],[29,10],[30,1]]},{class:"wires",x:9,z:22,wires:[[24,23],[25,22],[26,21],[27,20],[28,19],[29,10]]},{class:"wires",x:10,z:22,wires:[[29,2]]},{class:"wires",x:13,z:22,wires:[[8,-1],[9,-1],[10,-1],[11,-1],[12,-1],[13,-1]]},{class:"wires",x:14,z:22,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:15,z:22,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:16,z:22,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:17,z:22,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:18,z:22,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:19,z:22,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:20,z:22,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:21,z:22,wires:[[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:22,z:22,wires:[[7,-1],[8,31],[9,30],[10,29],[11,28],[12,27],[13,26]]},{class:"wires",x:23,z:22,wires:[[0,31],[1,30],[2,29],[3,28],[4,27],[5,26],[6,17],[7,16],[8,-1],[9,-1],[10,-1],[11,-1],[12,-1],[13,-1],[14,-1]]},{class:"wires",x:24,z:22,wires:[[0,31],[1,30],[2,29],[3,28],[4,27],[5,26],[6,25],[7,16]]},{class:"wires",x:25,z:22,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,17]]},{class:"wires",x:27,z:22,wires:[[7,16]]},{class:"wires",x:29,z:22,wires:[[4,19],[5,18]]},{class:"wires",x:30,z:22,wires:[[23,-1]]},{class:"wires",x:6,z:23,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,17]]},{class:"wires",x:8,z:23,wires:[[22,1]]},{class:"wires",x:10,z:23,wires:[[21,-1]]},{class:"wires",x:22,z:23,wires:[[8,7],[9,6],[10,5],[11,4],[12,3],[13,2],[14,1],[15,16]]},{class:"wires",x:25,z:23,wires:[[24,23],[25,22],[26,21],[27,20],[28,19],[29,18],[30,17],[31,8]]},{class:"wires",x:26,z:23,wires:[[0,-1],[1,-1],[2,-1],[3,-1],[31,8]]},{class:"wires",x:27,z:23,wires:[[4,11],[5,10],[6,9],[7,8],[31,16]]},{class:"wires",x:28,z:23,wires:[[28,11],[29,10],[30,9],[31,8]]},{class:"wires",x:29,z:23,wires:[[28,19],[29,18],[30,9],[31,0]]},{class:"wires",x:30,z:23,wires:[[30,1]]},{class:"wires",x:6,z:24,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,17],[9,-1]]},{class:"wires",x:7,z:24,wires:[[1,30]]},{class:"wires",x:8,z:24,wires:[[9,6],[22,1]]},{class:"wires",x:9,z:24,wires:[[1,30],[2,13],[3,12]]},{class:"wires",x:22,z:24,wires:[[8,7],[9,-1],[10,-1],[11,-1],[12,-1],[13,-1],[14,-1],[15,-1],[16,15],[17,14],[18,13],[19,12],[20,11],[21,10],[22,9]]},{class:"wires",x:25,z:24,wires:[[24,15],[25,14],[26,13],[27,12],[28,11],[29,10],[30,9],[31,8]]},{class:"wires",x:26,z:24,wires:[[24,23],[25,22],[26,21],[27,20],[28,11],[29,10],[30,9],[31,8]]},{class:"wires",x:27,z:24,wires:[[28,19],[29,18],[30,17],[31,16]]},{class:"wires",x:29,z:24,wires:[[23,0]]},{class:"wires",x:30,z:24,wires:[[22,1]]},{class:"wires",x:6,z:25,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,17],[9,-1],[10,-1],[11,-1],[12,-1],[13,-1],[14,-1]]},{class:"wires",x:7,z:25,wires:[[1,30],[2,29],[3,28],[4,27],[5,26],[6,25],[9,22]]},{class:"wires",x:8,z:25,wires:[[1,30],[17,14],[22,-1]]},{class:"wires",x:9,z:25,wires:[[8,7],[9,22],[10,21],[11,20],[25,6]]},{class:"wires",x:22,z:25,wires:[[16,15]]},{class:"wires",x:23,z:25,wires:[[16,7],[17,6],[18,5],[19,4],[20,3],[21,2],[22,1],[23,0],[24,-1]]},{class:"wires",x:24,z:25,wires:[[16,7],[17,6],[18,5],[19,4],[20,3],[21,2],[22,1],[23,0]]},{class:"wires",x:29,z:25,wires:[[23,0]]},{class:"wires",x:30,z:25,wires:[[22,1]]},{class:"wires",x:6,z:26,wires:[[0,23],[1,22],[2,21],[3,20],[4,19],[5,18],[6,17]]},{class:"wires",x:7,z:26,wires:[[1,22],[2,21],[3,20],[4,19],[5,18],[6,17]]},{class:"wires",x:8,z:26,wires:[[8,7],[9,22]]},{class:"wires",x:9,z:26,wires:[[16,31],[17,30]]},{class:"wires",x:23,z:26,wires:[[12,-1],[13,-1],[14,-1],[15,-1],[16,7],[17,6],[18,5],[19,4],[20,3],[21,2],[22,1],[23,0]]},{class:"wires",x:24,z:26,wires:[[16,7],[17,6],[18,5],[19,4],[20,27],[21,26],[22,25],[23,24]]},{class:"wires",x:29,z:26,wires:[[23,0]]},{class:"wires",x:30,z:26,wires:[[22,1]]},{class:"wires",x:6,z:27,wires:[[24,23],[25,22],[26,21],[27,20],[28,19],[29,18],[30,17],[31,8]]},{class:"wires",x:7,z:27,wires:[[1,22],[2,21],[3,20],[4,19],[5,18],[6,17],[8,7],[31,0]]},{class:"wires",x:8,z:27,wires:[[16,31]]},{class:"wires",x:15,z:27,wires:[[10,-1],[11,-1],[12,-1],[13,-1],[14,-1],[15,-1]]},{class:"wires",x:16,z:27,wires:[[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:17,z:27,wires:[[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:18,z:27,wires:[[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:19,z:27,wires:[[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:20,z:27,wires:[[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:21,z:27,wires:[[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:22,z:27,wires:[[10,29],[11,28],[12,27],[13,26],[14,25],[15,24]]},{class:"wires",x:23,z:27,wires:[[10,-1],[11,-1],[16,7],[17,6],[18,29],[19,28],[20,27],[21,26],[22,25],[23,24]]},{class:"wires",x:24,z:27,wires:[[16,7],[17,6],[18,29],[19,28]]},{class:"wires",x:29,z:27,wires:[[23,8]]},{class:"wires",x:30,z:27,wires:[[22,-1],[31,-1]]},{class:"wires",x:6,z:28,wires:[[8,7],[15,24],[24,-1],[25,14],[26,13],[27,12],[28,11],[29,10],[30,9],[31,0]]},{class:"wires",x:7,z:28,wires:[[0,15],[16,31],[23,24],[25,22],[26,21],[27,20],[28,19],[29,18],[30,17]]},{class:"wires",x:8,z:28,wires:[[24,-1]]},{class:"wires",x:16,z:28,wires:[[8,-1],[9,-1]]},{class:"wires",x:17,z:28,wires:[[8,31],[9,30]]},{class:"wires",x:18,z:28,wires:[[8,31],[9,30]]},{class:"wires",x:19,z:28,wires:[[8,31],[9,30]]},{class:"wires",x:20,z:28,wires:[[8,31],[9,30]]},{class:"wires",x:21,z:28,wires:[[8,31],[9,30]]},{class:"wires",x:22,z:28,wires:[[8,31],[9,30]]},{class:"wires",x:23,z:28,wires:[[8,-1],[9,-1],[16,31],[17,30]]},{class:"wires",x:24,z:28,wires:[[16,31],[17,30]]},{class:"wires",x:6,z:29,wires:[[16,15],[23,0]]},{class:"wires",x:7,z:29,wires:[[24,23]]},{class:"wires",x:6,z:30,wires:[[4,-1],[5,-1],[6,-1],[23,8],[24,7],[25,-1],[26,-1],[27,-1],[28,3],[29,2],[30,1],[31,0]]},{class:"wires",x:7,z:30,wires:[[31,8]]},{class:"wires",x:8,z:30,wires:[[31,0]]},{class:"wires",x:6,z:31,wires:[[4,19],[5,18],[6,17],[16,7],[20,3],[21,2],[22,1],[23,0],[24,-1],[25,-1],[26,-1],[27,-1],[28,-1],[29,-1],[30,-1],[31,-1]]},{class:"wires",x:8,z:31,wires:[[23,0]]},{class:"wires",x:11,z:31,wires:[[7,-1]]},{class:"wires",x:6,z:32,wires:[[12,19],[13,18],[14,17],[16,15],[20,3],[21,2],[22,1],[23,0]]},{class:"wires",x:7,z:32,wires:[[12,27],[13,26],[14,25],[24,15]]},{class:"wires",x:8,z:32,wires:[[4,27],[5,26],[6,25],[23,8],[24,7]]},{class:"wires",x:9,z:32,wires:[[31,8]]},{class:"wires",x:10,z:32,wires:[[31,8]]},{class:"wires",x:11,z:32,wires:[[31,16]]},{class:"wires",x:12,z:32,wires:[[0,-1]]},{class:"wires",x:6,z:33,wires:[[20,11],[21,10],[22,9],[23,8]]},{class:"wires",x:7,z:33,wires:[[28,11],[29,10],[30,9],[31,8]]},{class:"wires",x:8,z:33,wires:[[16,15],[28,19],[29,18],[30,17],[31,8]]},{class:"wires",x:9,z:33,wires:[[24,15],[31,8]]},{class:"wires",x:10,z:33,wires:[[24,15],[31,0]]},{class:"wires",x:11,z:33,wires:[[24,15]]},{class:"wires",x:12,z:33,wires:[[24,23]]},{class:"wires",x:10,z:34,wires:[[23,0]]},{class:"wires",x:10,z:35,wires:[[23,0]]},{class:"wires",x:10,z:36,wires:[[23,-1]]},{class:"wires",x:26,z:43,wires:[[15,16],[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:27,z:43,wires:[[15,16],[17,6],[19,4],[21,2],[23,24]]},{class:"wires",x:28,z:43,wires:[[17,6],[19,4],[21,2],[23,24]]},{class:"wires",x:26,z:44,wires:[[13,-1],[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:27,z:44,wires:[[17,6],[19,4],[21,26]]},{class:"wires",x:28,z:44,wires:[[17,6],[19,4],[21,2]]},{class:"wires",x:26,z:45,wires:[[9,-1],[11,-1],[17,6],[19,4],[21,2],[23,0]]},{class:"wires",x:27,z:45,wires:[[9,-1],[11,-1],[13,-1],[17,30],[19,28]]},{class:"wires",x:28,z:45,wires:[[17,30],[19,28],[21,26]]}];const Tt=location.pathname.replace(/index\.html.*/gm,""),me=new Array(100).fill(null).map((i,e)=>({id:`user${e}`,name:`USER${e}`,iconUrl:`${location.protocol}//${location.host}${Tt}icons/user${e}.png`,point:0,rank:-1})),Mt=()=>({userId:me[Math.floor(Math.random()*me.length)].id,point:Math.random()*1e3,genre:Math.floor(Math.random()*we.length),challengeName:"Dummy Problem Title"}),It=()=>(me.forEach(i=>{i.point+=Math.random()*1e3}),me.sort((i,e)=>e.point-i.point),me.forEach((i,e)=>{i.rank=e+1}),{ranking:me.map(({id:i,point:e})=>({id:i,score:e,scoreLogs:[]})),circuit:Ft}),kt=()=>{const i=new Date;i.setMinutes(i.getMinutes()-15);const e=new Date;return e.setMinutes(e.getMinutes()+15),{users:me.map(({id:s,name:t,iconUrl:r})=>({id:s,userName:t,iconUrl:r})),startTime:i.toString(),endTime:e.toString()}},Xe=i=>z({data:"{ type: 0, data: null }",lastEventId:"",origin:"",ports:[],source:null,initMessageEvent:function(e,s,t,r,n,a,o,c){throw new Error("Function not implemented.")},bubbles:!1,cancelBubble:!1,cancelable:!1,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!1,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:"",composedPath:function(){throw new Error("Function not implemented.")},initEvent:function(e,s,t){throw new Error("Function not implemented.")},preventDefault:function(){throw new Error("Function not implemented.")},stopImmediatePropagation:function(){throw new Error("Function not implemented.")},stopPropagation:function(){throw new Error("Function not implemented.")},AT_TARGET:0,BUBBLING_PHASE:0,CAPTURING_PHASE:0,NONE:0},i),He=i=>new Promise(e=>{setTimeout(()=>e(),i)}),te={startTime:new Date,endTime:new Date,cameraNumber:0},Et=!0,Dt=()=>{S.emit("start")},Bt=()=>{S.emit("end")},Ze={texture:new Bs,gltf:new Zs,fbx:new _s},Fs=(i,e)=>new Promise((s,t)=>{switch(e){case"gltf":{Ze.gltf.load(i,r=>{s(r.scene)},()=>0,r=>{t(r)});break}case"texture":{Ze.texture.load(i,r=>{s(r)},()=>0,r=>{t(r)});break}}});class y{static addGLTF(e){this.queue.push([e,"gltf"])}static addTexture(e){this.queue.push([e,"texture"])}static addFBX(e){this.queue.push([e,"fbx"])}static load(e){let s=null,t=0;const r=this.queue.length;if(r!==0)return this.queue.map(([n,a])=>{s?s=s.then(()=>Fs(n,a)):s=Fs(n,a),s=s.then((o=>{t+=1,this.resources[n]={type:a,data:o},e({path:n,data:o,total:r,count:t})}).bind(this)).catch(o=>{console.log("loaderror",o)})}),this.queue=[],s}static get(e){var s;return(s=this.resources[e])==null?void 0:s.data}}u(y,"resources",{}),u(y,"queue",[]);class Rt extends EventTarget{constructor(e){super();u(this,"id");u(this,"_score",0);u(this,"_displayName","");u(this,"_icon",null);u(this,"_iconPath","");this.id=e}get score(){return this._score}get displayName(){return this._displayName}get icon(){if(!this._icon)throw new Error("Icon is not initialized.");return this._icon}get iconPath(){return this._iconPath}updateInfo(e,s){var t;if(this._displayName=e,s&&(!this._iconPath||this._iconPath!==s)){const r=new URL(s),n=r.hostname==="pbs.twimg.com"?r.href:r.pathname;this._iconPath=n,(t=this._icon)==null||t.dispose(),this._icon=Ze.texture.load(n)}}updateScore(e){this._score=e}}class Z{static get ranking(){return this._ranking}static addUser({id:e,userName:s,iconUrl:t}){const r=new Rt(e);this.users.set(e,r),r.updateInfo(s,t)}static updateUser({id:e,userName:s,iconUrl:t}){var r;!this.users.has(e)||(r=this.users.get(e))==null||r.updateInfo(s,t)}static updateRanking(e){this._ranking=e.map(({id:s,score:t})=>{const r=this.getUser(s);if(!r)throw Error(`This user does not exist : ${s}`);return r.updateScore(t),r})}static updateUserScore({id:e,score:s}){var t;(t=this.users.get(e))==null||t.updateScore(s)}static getUser(e){return this.users.get(e)}static size(){return this.users.size}}u(Z,"users",new Map),u(Z,"_ranking",[]);const Ht=({userId:i,name:e,iconUrl:s})=>{Z.addUser({id:i,userName:e,iconUrl:s})},Wt=({userId:i,point:e,genre:s,challengeName:t})=>{S.emit("submit",{userId:i,point:e,genre:we[s],title:t})},Vt=({userId:i,name:e,iconUrl:s})=>{!Z.getUser(i)||Z.updateUser({id:i,userName:e,iconUrl:s})};class Us{static async initial(){return await He(1e3),kt()}static async recalculate(){return await He(1e3),It()}}class Ts{constructor(e,s){this.sizeX=e,this.sizeY=s}}class Nt{constructor(e,s,t,r){this.x=e,this.z=s,this.isBig=t,this.category=r}}class Ut{constructor(e,s,t){this.x=e,this.z=s,this.wires=t}}class jt{static jsonToInfo(e){const s=JSON.parse(e);let t=new Ts(0,0);const r=new Array(0),n=new Array(0);return s.forEach(a=>{if(a.class=="basis"){const o=a;t=new Ts(o.sizeX,o.sizeY)}else if(a.class=="parts"){const o=a;r.push(new Nt(o.x,o.z,o.isBig,o.category))}else if(a.class=="wires"){const o=a;n.push(new Ut(o.x,o.z,o.wires))}}),[t,r,n]}}class Ae{static getBasisSize(){var e,s;return this.circuitBasisInfo==null?this.initBasisSize:[Math.max((e=this.circuitBasisInfo)==null?void 0:e.sizeX,this.initBasisSize[0]),Math.max((s=this.circuitBasisInfo)==null?void 0:s.sizeY,this.initBasisSize[1])]}static setCircuitInfo(e){[this.circuitBasisInfo,this.circuitPartsInfos,this.circuitWiresInfos]=jt.jsonToInfo(e)}static getCircuitInfo(){return[this.circuitBasisInfo,this.circuitPartsInfos,this.circuitWiresInfos]}}u(Ae,"circuitBasisInfo"),u(Ae,"circuitPartsInfos"),u(Ae,"circuitWiresInfos"),u(Ae,"initBasisSize",[30,30]);const js=()=>{(async()=>{S.emit("recalculatestart"),await Gt(),S.emit("recalculateend")})()},Gt=async()=>{const i=await Us.recalculate();if(!i)return;const{ranking:e,circuit:s}=i;Z.updateRanking(e),await He(3e3),Ae.setCircuitInfo(JSON.stringify(s)),await He(1e3)},S=$s(),Lt=()=>{try{Et&&Ot()}catch(i){console.log(i)}},Yt=()=>{S.emit("initialized")},Ot=()=>{setInterval(()=>{qe(Xe({data:'{ "type": 7 }'}))},18e4),setTimeout(()=>{qe(Xe({data:'{ "type": 6 }'}))},9e5);const i=()=>{qe(Xe({data:JSON.stringify({type:2,data:Mt()})})),setTimeout(i,Math.random()*1e4+1e4)};i()},qe=i=>{if(!i.data)return;const{type:e,data:s}=JSON.parse(i.data);if(!!e)switch(Number(e)){case 0:break;case 1:{Ht(s);break}case 2:{Wt(s);break}case 3:break;case 4:{Vt(s);break}case 5:{Dt();break}case 6:{Bt();break}case 7:{js();break}}};var Xt="data:image/png;base64,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",qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAAgCAYAAAD0QgaeAAAAAXNSR0IArs4c6QAAAJhJREFUeJzt3TEKwkAURdE/4gotBFcYSJEtaiG5W4jgOdWUv7pM99bMzOv5eA/w17b9WEsMgNP9fGz7sa48BLjO+TG4XX0I8DsEAYggABEEIIIARBCACAIQQQAiCEAEAYggABEEIIIARBCACAIQQQAiCEAEAYggABEEIIIARBCACAIQQQAiCEAEAYggADH2CmTNmIMHvoPPHw9GED8I9d58AAAAAElFTkSuQmCC",Kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAYAAAAbifjMAAAAAXNSR0IArs4c6QAAADBJREFUSIljZGBgYOCRqfvPQAb48qSJkYkcjchg1IBRA0YNGDVg1IBRA0YNGGwGAADwGARAM3CimgAAAABJRU5ErkJggg==",Qt="/Visualizer/assets/recalculating.60ffccdf.glb",Gs="/Visualizer/assets/monitor.81b9fd78.glb",Jt="/Visualizer/assets/face.e8cae3d3.png",Ls="/Visualizer/assets/testicon.8f219171.jpg",Ys="/Visualizer/assets/cpu.57abf837.glb",_e="/Visualizer/assets/graphicBoard.4a06ae3d.glb",$e="/Visualizer/assets/hdd.caa7427b.glb",es="/Visualizer/assets/memory.83673af4.glb",ss="/Visualizer/assets/powerSupply.4d848de2.glb",ts="/Visualizer/assets/tipSet.fad5f9b9.glb",is="/Visualizer/assets/audio.3c50633a.glb",rs="/Visualizer/assets/condenser.654b5786.glb",ns="/Visualizer/assets/ports.6ad72da3.glb",as="/Visualizer/assets/ssd.447a4b88.glb",os="/Visualizer/assets/symbols.3d122568.glb",cs="/Visualizer/assets/emergency.19e4efc2.glb";const Zt=()=>{y.addGLTF(Qt),y.addGLTF(Gs),y.addTexture(Jt),y.addTexture(Ls),y.addGLTF(Ys),y.addGLTF(_e),y.addGLTF($e),y.addGLTF(es),y.addGLTF(ss),y.addGLTF(ts),y.addGLTF(is),y.addGLTF(rs),y.addGLTF(ns),y.addGLTF(as),y.addGLTF(os),y.addGLTF(cs)},fe=({width:i,height:e,bgColor:s=16777215})=>{const t=x.exports.useCallback(r=>{r.clear(),r.beginFill(s),r.drawRect(0,0,i,e),r.endFill()},[i,e]);return l(w.exports.Graphics,{draw:t})},_t=({width:i,height:e,loadedHandler:s})=>{const[t,r]=x.exports.useState(""),[n,a]=x.exports.useState(0),[o,c]=x.exports.useState({textures:[],index:-1});return x.exports.useEffect(()=>{(async()=>{Zt(),await y.load(({path:m,total:b,count:C})=>{r(m),a(C/b)}),s()})();const h=new Ce(Xt);c({index:0,textures:[new E(h,new W(64*0,0,64,64)),new E(h,new W(64*1,0,64,64)),new E(h,new W(64*2,0,64,64)),new E(h,new W(64*3,0,64,64)),new E(h,new W(64*4,0,64,64)),new E(h,new W(64*5,0,64,64)),new E(h,new W(64*6,0,64,64)),new E(h,new W(64*7,0,64,64))]});const f=setInterval(()=>{c(m=>({index:(m.index+1)%m.textures.length,textures:m.textures}))},200);return()=>{clearInterval(f)}},[]),T(N,{children:[l(fe,{bgColor:16777215,width:i,height:e}),T(w.exports.Container,{position:[i/2,e/2],children:[o.index<0?null:l(w.exports.Sprite,{texture:o.textures[o.index],anchor:.5,position:[0,-50],width:64,height:64}),l(w.exports.Text,{text:t,anchor:.5,position:[0,0],style:new V({align:"center",fontFamily:'DotGothic16, "Source Sans Pro", Helvetica, sans-serif',fontSize:20,fill:"#000"})}),l(w.exports.Sprite,{image:qt,position:[0,50],anchor:.5,width:260,height:32,children:new Array(Math.floor(16*n)).fill(null).map((d,h)=>l(w.exports.Sprite,{image:Kt,anchor:[0,.5],position:[(h-8)*16,0],width:16,height:32},h))})]})]})};var $t="/Visualizer/assets/traP_logo.25c1c1d8.png";const ei=new Ce($t),Ke=50,Ee=24,si=({width:i,height:e,onComplete:s})=>{const[t,r]=x.exports.useState(0);return x.exports.useEffect(()=>{const n=setInterval(()=>{r(a=>a===Ke+Ee*2?(clearInterval(n),setTimeout(()=>{s()},1),a):a+1)},1e3/Ee)},[]),T(N,{children:[l(fe,{bgColor:16777215,width:i,height:e}),l(w.exports.Container,{position:[i/2,e/2],children:l(w.exports.Sprite,{texture:new E(ei,new W(0,280*Math.min(t,Ke-1),1920,280)),alpha:1-Math.max(0,t-Ke-Ee)/Ee,anchor:.5,width:i*.9,height:i*.9/1920*280})})]})};class I{static get time(){return this._time}static get deltaTime(){return this._deltaTime}static start(e){this.startTime=e,this.prevTime=e}static update(e){this._time=(e-this.startTime)/1e3,this._deltaTime=(e-this.prevTime)/1e3,this.prevTime=e}}u(I,"startTime",-1),u(I,"_time",-1),u(I,"_deltaTime",-1),u(I,"prevTime",-1);class ae extends ze{constructor(e,s){super(e,s);u(this,"initialized",!1);this.name=this.constructor.name}start(){}update(){!this.visible||(this.initialized||(this.start(),this.initialized=!0),this.children.map(e=>{(e instanceof G||e instanceof ae)&&e.update()}))}}class G extends Rs{constructor(){super();u(this,"initialized",!1);this.name=this.constructor.name}start(){}update(){!this.visible||(this.initialized||(this.start(),this.initialized=!0),this.children.map(e=>{(e instanceof G||e instanceof ae)&&e.update()}))}}const ti=`
uniform float time;
varying vec3 vUv;
varying vec4 vWorldPos;
varying vec4 vViewPos;
varying vec4 vScreenPos;

void main() {
  vUv = position; 

  vWorldPos =  modelMatrix * vec4(position, 1.0);
  vViewPos = viewMatrix * vWorldPos;
  vec4 pos = projectionMatrix * vViewPos;
  vScreenPos = gl_Position = pos;
}
`,ii=`
uniform vec3 colorA; 
uniform vec3 colorB;
uniform vec3 sunColorA;
uniform vec3 sunColorB;
uniform vec3 sunPos;
uniform float time;
uniform float radius;
varying vec3 vUv;
varying vec4 vWorldPos;
varying vec4 vViewPos;
varying vec4 vScreenPos;

void main() {
  vec4 sky = vec4(mix(colorA, colorB, 1.0 - pow(1.0 - smoothstep(0.0, radius, vWorldPos.y), 16.0)), 1.0);
  vec4 sun = vec4(mix(sunColorA, sunColorB, smoothstep(0.0, radius * 0.1, vWorldPos.y)), 1.0);
  vec4 sunBloom = sun * exp(-distance(vWorldPos.xyz, sunPos) / radius * 5.0);
  sun = sun * step(distance(vWorldPos.xyz, sunPos), radius * 0.3) + sunBloom;
  gl_FragColor = sky + sun;
}
`;class ri extends ae{constructor(){super(new et(100),new xe({uniforms:{radius:{value:100},colorA:{value:new D("#db2784")},colorB:{value:new D("#1c1330")},sunColorA:{value:new D("#db2784")},sunColorB:{value:new D("#f2ca2b")},sunPos:{value:new H(-100,0,0).applyEuler(new st(0,0,-Math.PI*.06))},time:{value:0}},side:Hs,vertexShader:ti,fragmentShader:ii}))}update(){super.update(),this.material.uniforms.time.value=I.time}}const ni=`
uniform float time;
varying vec3 vUv;
varying vec4 vWorldPos;
varying vec4 vViewPos;
varying vec4 vScreenPos;
varying vec3 vWorldNormal;


float random (in vec2 st) {
  return fract(sin(dot(st.xy,
                       vec2(12.9898,78.233)))*
      43758.5453123);
}

// Based on Morgan McGuire @morgan3d
// https://www.shadertoy.com/view/4dS3Wd
float noise (in vec2 st) {
  vec2 i = floor(st);
  vec2 f = fract(st);

  // Four corners in 2D of a tile
  float a = random(i);
  float b = random(i + vec2(1.0, 0.0));
  float c = random(i + vec2(0.0, 1.0));
  float d = random(i + vec2(1.0, 1.0));

  vec2 u = f * f * (3.0 - 2.0 * f);

  return mix(a, b, u.x) +
          (c - a)* u.y * (1.0 - u.x) +
          (d - b) * u.x * u.y;
}

#define OCTAVES 6
float fbm (in vec2 st) {
  // Initial values
  float value = 0.0;
  float amplitude = .5;
  float frequency = 0.;
  //
  // Loop of octaves
  for (int i = 0; i < OCTAVES; i++) {
      value += amplitude * abs(noise(st) * 2.0 - 1.0);
      st *= 2.;
      amplitude *= .5;
  }
  return value;
}

float getValue(in vec3 pos) {
  return fbm(pos.xz / 10.0) * min(pow(length(pos.xz) / 10.0, 2.0), 10.0);
}

vec3 getNorm(in vec3 pos) {
  vec2 d = vec2(0.0, 0.000001);
  vec3 center = vec3(pos.x, pos.y + getValue(pos), pos.z);
  vec3 dx = vec3(pos.x + d.y, pos.y + getValue(pos + d.yxx), pos.z) - center;
  vec3 dz = vec3(pos.x, pos.y + getValue(pos + d.xxy), pos.z + d.y) - center;
  return normalize(cross(
    normalize(dx),
    normalize(dz)
  ));
}

void main() {
  vUv = position;

  vWorldPos =  modelMatrix * vec4(position, 1.0);
  vWorldNormal = getNorm(vWorldPos.xyz);
  vViewPos = viewMatrix * (vWorldPos + vec4(0.0, getValue(vWorldPos.xyz), 0.0, 0.0));
  vec4 pos = projectionMatrix * vViewPos;
  vScreenPos = gl_Position = pos;
}
`,ai=`
uniform vec3 colorA; 
uniform vec3 colorB; 
uniform float time;
varying vec3 vUv;
varying vec4 vWorldPos;
varying vec4 vViewPos;
varying vec4 vScreenPos;
varying vec3 vWorldNormal;

float line(in float v) {
  return pow(abs(mod(v, 1.0) * 2.0 - 1.0), 16.0);
}

void main() {
  float dark = mix(0.1, 1.0, max(max(0.0, line(vUv.x)), line(vUv.y)));
  float light = clamp(0.0, 1.0, dot(vWorldNormal, normalize(vec3(9.0, 1.0, 0.0))));
  vec3 bright = colorB;
  gl_FragColor = vec4(mix(colorA, colorB, min(length(vWorldPos.xyz) / 40.0, 1.0)) * dark + mix(colorA * 0.1, colorB, max(light, 0.0)), 1.0);
}
`;class oi extends ae{constructor(){super(new Fe(100,100,50,50),new xe({uniforms:{colorA:{value:new D(16729343)},colorB:{value:new D(1127423)},time:{value:0}},vertexShader:ni,fragmentShader:ai,side:tt}));this.rotation.x=-Math.PI*.5}update(){super.update(),this.material.uniforms.time.value=I.time}}class ci extends G{constructor(){super();const e=new oi;e.position.setY(-1),this.add(e),this.add(new ri)}start(){}update(){super.update()}}var li=`uniform sampler2D face;
uniform sampler2D icon;
uniform int mode;
uniform float progress;
uniform float time;
varying vec2 vUv;

#define LINE_WIDTH 0.1

float rand(vec2 co) //\u5F15\u6570\u306F\u30B7\u30FC\u30C9\u5024\u3068\u547C\u3070\u308C\u308B\u3000\u540C\u3058\u5024\u3092\u6E21\u305B\u3070\u540C\u3058\u3082\u306E\u3092\u8FD4\u3059
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main() {
  vec3 value = vec3(0.0);
  vec3 delta = vec3(
    (rand(floor(vUv.yy / LINE_WIDTH))  * 0.5 - 0.2) * progress,
    (rand(floor(vUv.yy / LINE_WIDTH + 10.0))  * 0.5 - 0.2) * progress,
    (rand(floor(vUv.yy / LINE_WIDTH + 20.0))  * 0.5 - 0.2) * progress
  );
  vec2 uvr = vUv + vec2(delta.r, 0.0);
  vec2 uvg = vUv + vec2(delta.g, 0.0);
  vec2 uvb = vUv + vec2(delta.b, 0.0);
  if (mode == 0) {
    value = vec3(
      texture2D(face, uvr).r,
      texture2D(face, uvg).r,
      texture2D(face, uvb).r
    );
  } else if (mode == 1) {
    value = vec3(
      texture2D(face, uvr).g,
      texture2D(face, uvg).g,
      texture2D(face, uvb).g
    );
  } else if (mode == 2) {
    value = vec3(
      texture2D(face, uvr).b,
      texture2D(face, uvg).b,
      texture2D(face, uvb).b
    );
  } else {
    value = vec3(
      texture2D(icon, uvr).r,
      texture2D(icon, uvg).g,
      texture2D(icon, uvb).b
    );
  }

  float scanline = mix(0.5, 1.0, sin(time * 4.0 + vUv.y * 60.0) * 0.5 + 0.5);
  float visnetting = mix(1.0, 0.5, distance(vUv, vec2(0.5)) * 2.0);
  vec4 icon = texture2D(icon, vUv);
  gl_FragColor = vec4(max(value + icon.rgb * 0.6, 0.1) * scanline * visnetting, 1.0);
}`,ui=`varying vec2 vUv;

void main()
{
  vUv = uv;
  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);
}`,di="/Visualizer/assets/face.e8cae3d3.png";class wi extends ae{constructor(){super(new Fe(4.2*.5,2.8*.5),new xe({vertexShader:ui,fragmentShader:li,uniforms:{face:{value:y.get(di)},icon:{value:null},mode:{value:-1},progress:{value:0},time:{value:0}}}));this.position.set(0,1.5,.9),this.rotation.set(-.03+Math.PI,-Math.PI,Math.PI)}setIcon(e){this.material.uniforms.icon.value=e||y.get(Ls)}start(){}animation(){const e=this.material.uniforms.mode,s=this.material.uniforms.progress;if(!e||!s)return;e.value=1,s.value=1;const t=_.timeline();t.to(s,.3,{value:0}),t.call(()=>{e.value=Math.random()<.5?0:2,s.value=1},[],"+=1.7"),t.to(s,.3,{value:0}),t.set({},{},1.7),t.call(()=>{e.value=-1,s.value=1},[],"+=1.7"),t.to(s,.3,{value:0})}update(){super.update();const e=this.material.uniforms.time;e&&(e.value=I.time)}}class hi extends G{constructor(){super();u(this,"display");u(this,"user",null);const e=y.get(Gs).clone();this.add(e),this.display=new wi,this.add(this.display)}get userid(){var e;return(e=this.user)==null?void 0:e.id}animation(){this.display.animation()}updateUser(e){e?(this.user=e,this.display.setIcon(e.icon)):this.user=null}start(){}update(){super.update()}}const se=class extends G{constructor(){super();u(this,"radius",10);u(this,"radian",Math.PI);u(this,"dir",3);u(this,"dirToNumWH",[[4,3],[8,5],[16,8]]);u(this,"displaySizeWH",[2.8,2.5]);u(this,"startY",0);u(this,"endY",3);u(this,"animationDuration",3);se.users=[]}start(){this.createDisplayObjects(),Z.ranking.forEach((e,s)=>{s>=se.users.length||se.users[s].updateUser(e)}),S.on("recalculatestart",()=>{_.to(this.position,this.animationDuration,{y:this.endY})}),S.on("recalculateend",()=>{_.to(this.position,this.animationDuration,{y:this.startY})}),S.on("submit",({userId:e})=>{const s=se.users.filter(t=>t.userid===e);!s.length||s[0].animation()}),S.on("recalculateend",()=>{Z.ranking.forEach((e,s)=>{s>=se.users.length||se.users[s].updateUser(e)})})}createDisplayObjects(){for(let e=0;e<this.dir;e++){const[s,t]=this.displaySizeWH,[r,n]=this.dirToNumWH[e],a=this.radian/this.dir/r,c=Math.sqrt(2*this.radius*this.radius*(1-Math.cos(a)))/s,d=t*c;new Array(r*n).fill(0).map((h,f)=>f).sort(()=>Math.random()-.5).forEach(h=>{const f=h%r,m=Math.floor(h/r),C=f-r/2<0?-1:1;let B=a*f+a/2;B+=this.radian/2-this.radian/this.dir/2;const L=B+C*e*this.radian/this.dir/2,[g,v]=[Math.cos(L)*this.radius,Math.sin(L)*this.radius],p=d*m,R=new hi;R.position.set(g,p,v),R.scale.setScalar(c),R.lookAt(0,p,0),this.add(R),se.users.push(R)})}}static getUserDisplay(e){const s=se.users.filter(t=>t.userid===e);if(!!s.length)return s[0]}};let We=se;u(We,"users");class mi{constructor(e,s){this.sizeX=e,this.sizeY=s}}class fi{constructor(e,s,t,r){this.x=e,this.z=s,this.isBig=t,this.category=r}}class xi{constructor(e,s,t){this.x=e,this.z=s,this.wires=t}}class pi{constructor(e,s){this.x=e,this.y=s,this.wirePoints=new Array(4*8).fill(!1),this.wires=new Array(4*8),new Array(4*8).fill(null).forEach((t,r)=>{this.wires[r]=new gi(r)})}isParts(){return this.parts!=null}setParts(e,s,t){this.parts=t;const r=t.getWirePointsInt(e,s);this.wirePoints.forEach((n,a)=>{this.wirePoints[a]=r[a]==1}),this.wires.forEach(n=>{n.cantTo()})}getActiveWirePointsIndex(){const e=new Array(0);return this.wirePoints.forEach((s,t)=>{s&&e.push(t)}),e}setWire(e){if(this.isParts())return-1;const s=this.wires[e.wireInd],t=s.setTo(e.notdir,e.priority,e.end);return this.updateWires(s),this.updateWirePoints(s),t}getAllWires(){return this.wires}updateWires(e){this.wires.forEach(s=>{s.updateCanTo(e)})}updateWirePoints(e){e.isHole()?this.wirePoints[e.ind]=!0:(this.wirePoints[e.from]=!0,this.wirePoints[e.to]=!0)}logWiresCanto(){console.log("(x:%d,y:%d)\u306E\u30BB\u30EB",this.x,this.y),this.wires.forEach(e=>{let s=`Wire %d:
CanTo:`;e.canTo.forEach(t=>s+=`
`+t.toString()),console.log(s,e.ind)})}}class vi{constructor(e){this.wireInd=0,this.priority=[0,1,2],this.end=!1,this.counter=0,this.straightCounter=0,this.straightMin=4,this.straightMax=10,this.counterMax=200,this.dir=e,this.beforeDir=e,this.notdir=(e+2)%4}update(e,s){if(this.counter++,this.wireInd=e,this.beforeDir==s?this.straightCounter++:this.straightCounter=0,this.counter>this.counterMax){this.end=!0;return}this.rand(this.straightCounter/this.straightMax)&&this.straightCounter>this.straightMin?s==this.dir?this.rand(.5)?this.priority=[0,2,1]:this.priority=[2,0,1]:s==(this.dir+1)%4?this.priority=[0,1,2]:this.priority=[2,1,0]:this.rand(.5)?this.priority=[1,0,2]:this.priority=[1,2,0],this.beforeDir=s}rand(e){return Math.random()<=e}}class gi{constructor(e){this.ind=e,this.from=e,this.to=-1;const s=e%8,t=(e-s)/8;this.canTo=[15-s,23-s,31-s],this.shift(t)}isCanTo(){return this.canTo.length!=0}cantTo(){this.canTo=new Array(0)}eraseCanTo(e){this.canTo.forEach((s,t)=>{s==e&&(this.canTo[t]=-1)})}isFull(){return this.from==this.ind&&this.to!=-1}isHole(){return this.from==-1}isEmpty(){return this.from==this.ind&&this.to==-1}setTo(e,s,t){let r=-1;if(!this.isCanTo()){if(this.isHole()||this.isFull())return-1;if(this.isEmpty())return this.from=-1,-1}if(t)return this.cantTo(),this.from=-1,-1;for(let n=0;n<3;n++){const a=s[n];if(this.canTo[a]!=-1&&a!=e){r=this.canTo[a];break}}return this.cantTo(),r==-1?(this.from=-1,-1):(this.to=r,r)}updateCanTo(e){if(!this.isCanTo())return;if(e.isHole()){this.eraseCanTo(e.ind);return}if(this.ind==e.ind||this.ind==e.to){this.cantTo();return}this.eraseCanTo(e.from),this.eraseCanTo(e.to);const s=new Array(3).fill(-1);let t=0,r=0;for(let a=0;a<32;a++){const o=(e.from+a)%32;if(o==e.to){r++;continue}if(o==this.from){t=r;continue}const c=this.canTo.findIndex(d=>d==o);c!=-1&&(s[c]=r)}const n=new Array(3).fill(-1);this.canTo.forEach((a,o)=>{t==s[o]?n[o]=a:n[o]=-1}),this.canTo=n}shift(e){this.canTo.forEach((s,t)=>{this.canTo[t]=((s+8*e)%32+32)%32})}}const ls=class{constructor(i,e){this.partsCellDict={},this.parts=new Array(0),this.sizeX=i,this.sizeY=e,this.cells=new Array(this.sizeY*this.sizeX);for(let s=0;s<e;s++)for(let t=0;t<i;t++)this.cells[s*i+t]=new pi(t,s)}putParts(i,e,s){if(!this.canPutParts(i,e,s))return!1;const t=s.SizeY(),r=s.SizeX(),n=new Array(0);for(let a=0;a<t;a++)for(let o=0;o<r;o++){const c=e+a,d=i+o,h=this.getCell(d,c);h.setParts(o,a,s),n.push(h)}return s.setPosition(i,e),this.partsCellDict[s.id]=n,this.parts.push(s),!0}getPartsCells(i){return i.id in this.partsCellDict?this.partsCellDict[i.id]:new Array(0)}getAllPartsCells(){const i=new Array(0);for(const e in this.partsCellDict)i.push(this.partsCellDict[e]);return i}extendWires(i){const e=i.x,s=i.y;i.getActiveWirePointsIndex().forEach(r=>{let n=e,a=s;const o=r%8,c=(r-o)/8,d=new vi(c);for(;r!=-1;){const[h,f]=this.indexConvertToAroundIndex(r);n+=ls.dx[h],a+=ls.dy[h];const m=this.getCell(n,a);if(m==null||(d.update(f,h),r=m.setWire(d),r==-1))break}})}convertToCircuitInfos(){const i=new mi(this.sizeX,this.sizeY),e=new Array(0),s=new Array(0);return this.cells.forEach(t=>{const r=new Array(0);t.getAllWires().forEach(n=>{n.isEmpty()||(n.isHole()?r.push([n.ind,n.to]):r.push([n.from,n.to]))}),r.length!=0&&s.push(new xi(t.x,t.y,r))}),this.parts.forEach(t=>{const[r,n]=t.getPosition();e.push(new fi(r,n,t.isBig,t.problemCategory!=null?t.problemCategory:""))}),[i,e,s]}canPutParts(i,e,s){const t=s.SizeY(),r=s.SizeX();for(let n=0;n<t;n++)for(let a=0;a<r;a++){const o=e+n,c=i+a,d=this.getCell(c,o);if(d==null)return!1;if(d.isParts())return!1}return!0}getCell(i,e){if(0<=e&&e<this.sizeY&&0<=i&&i<this.sizeX)return this.cells[e*this.sizeX+i]}indexConvertToAroundIndex(i){const e=i%8,s=(i-e)/8,r=((s+2)%4+1)*8-e-1;return[s,r]}};let Ve=ls;Ve.dy=[1,0,-1,0];Ve.dx=[0,1,0,-1];const K=class extends ae{constructor(e){const s=K.createWireGeometry(e);super(s,K.material)}start(){}update(){super.update()}static createWireGeometry(e){let s=new it;const t=1,r=.25,n=.5,a=.25,o=16,[c,d]=e;if(d==-1){const h=t*n/8/2,f=t*a/8/2,m=new rt(f,h,o);m.rotateX(-Math.PI/2);let[b,C]=this.wireIndexToPosition(c,t);const B=(c-c%8)/8;B==0||B==2?C-=Math.sign(C)*(h-f):b-=Math.sign(b)*(h-f);const L=m.attributes.position.count;for(let g=0;g<L;g++){const v=m.attributes.position.getX(g),p=m.attributes.position.getZ(g);m.attributes.position.setXYZ(g,v+b,0,p+C)}s=m}else{const[h,f]=K.wireIndexToPositionPair(c,t,r),[m,b]=K.wireIndexToPositionPair(d,t,r),C=new Float32Array([h[0],0,h[1],f[0],0,f[1],m[0],0,m[1],m[0],0,m[1],b[0],0,b[1],h[0],0,h[1]]);s.setAttribute("position",new nt(C,3))}return s}static wireIndexToPosition(e,s=1){const t=e%8,r=(e-t)/8,n=s/8,a=n*t-n*7/2,o=Ve.dx[r]/2+K.sx[r]*a,c=Ve.dy[r]/2+K.sy[r]*a;return[o,c]}static wireIndexToPositionPair(e,s=1,t=.5){const r=e%8,n=(e-r)/8,a=s/8,[o,c]=this.wireIndexToPosition(e,s),d=[o-K.sx[n]*t*a/2,c-K.sy[n]*t*a/2],h=[o+K.sx[n]*t*a/2,c+K.sy[n]*t*a/2];return[d,h]}};let Pe=K;u(Pe,"sx",[1,0,-1,0]),u(Pe,"sy",[0,-1,0,1]),u(Pe,"material",new ds({color:16777215}));class le{}u(le,"cpuPath",Ys),u(le,"partsPath",{PPC:ts,Web:es,Crypto:ss,Binary:$e,Pwn:ns,Misc:is,Shell:as,Forensics:rs,OSINT:_e}),u(le,"partsBigPath",{PPC:ts,Web:es,Crypto:ss,Binary:$e,Pwn:ns,Misc:is,Shell:as,Forensics:rs,OSINT:_e});const Ai=`
uniform float time;
varying vec3 vUv;
varying vec4 vWorldPos;
varying vec4 vViewPos;
varying vec4 vScreenPos;

void main() {
  vUv = position; 

  vWorldPos =  modelMatrix * vec4(position, 1.0);
  vViewPos = modelViewMatrix * vec4(position, 1.0);
  vec4 pos = projectionMatrix * vViewPos;
  vScreenPos = gl_Position = pos;
}
`,zi=`
uniform vec3 colorA; 
uniform vec3 colorB; 
uniform float time;
varying vec3 vUv;
varying vec4 vWorldPos;
varying vec4 vViewPos;
varying vec4 vScreenPos;

void main() {
  float dark = mix(0.7, 1.0, step(0.0, sin(vScreenPos.y / vScreenPos.w * 300.0 + time * 20.0)));
  float alpha = mix(0.8, 1.0, step(0.05, mod(vScreenPos.y / vScreenPos.w + time * 10000.0, 1.0)));
  gl_FragColor = vec4(colorA * dark, alpha * 0.7);
}
`,yi=`
uniform float time;
varying vec3 vUv;
varying vec4 vWorldPos;
varying vec4 vViewPos;
varying vec4 vScreenPos;
varying vec3 vNormal;

void main() {
  vUv = position; 
  vNormal = normal;

  vWorldPos = modelMatrix * vec4(position + normal * 0.03, 1.0);
  vViewPos = viewMatrix * vWorldPos;
  vScreenPos = projectionMatrix * vViewPos;
  gl_Position = vScreenPos;
}
`,Si=`
uniform vec3 colorA; 
uniform float time;
varying vec3 vUv;
varying vec4 vWorldPos;
varying vec4 vViewPos;
varying vec4 vScreenPos;
varying vec3 vNormal;

void main() {
  float dark = mix(0.5, 0.7, step(0.0, sin(vScreenPos.y / vScreenPos.w * 300.0 + time * 20.0)));
  float alpha = mix(0.8, 1.0, step(0.05, mod(vScreenPos.y / vScreenPos.w + time * 10000.0, 1.0)));
  gl_FragColor = vec4(colorA * dark, alpha * 0.7);
}
`,bi=i=>new xe({uniforms:{colorA:{value:i},time:{value:0}},fragmentShader:zi,vertexShader:Ai,transparent:!0}),Pi=i=>new xe({uniforms:{colorA:{value:i},time:{value:0}},fragmentShader:Si,vertexShader:yi,transparent:!0,side:Hs}),Ne=(i,e)=>{const s=i.geometry;s.clearGroups(),s.addGroup(0,1/0,0),s.addGroup(0,1/0,1),i.material=[bi(e),Pi(e)]};class Ci extends G{constructor(){super();u(this,"app");u(this,"texture");u(this,"nameText");u(this,"titleText");u(this,"needsUpdate",!1);const e=1024,s=48;this.app=new at({width:e,height:s,autoStart:!1,backgroundAlpha:0}),this.nameText=new gs("string"),this.nameText.anchor.set(.5,0),this.nameText.position.set(e/2,0),this.app.stage.addChild(this.nameText),this.titleText=new gs("string"),this.titleText.anchor.set(.5,0),this.titleText.position.set(e/2,24),this.app.stage.addChild(this.titleText);const t=new ze(new Fe(e,s),new ds({map:null,transparent:!0}));t.position.z=1e-4;const r=t.clone();r.rotation.y=Math.PI,r.position.z=-1e-5,this.texture=new ot(this.app.view),t.material.map=this.texture,r.material.map=this.texture,this.add(t,r)}redraw(e,s,t){const r=t.getStyle(),n=t.clone().multiplyScalar(.8).getStyle();this.nameText.text=e,this.nameText.style=new V({fontFamily:"DotGothic16",dropShadowAngle:6.7,dropShadowDistance:3,fill:r,fontSize:20,lineJoin:"round",stroke:n,strokeThickness:2}),this.nameText.style.fill=r,this.nameText.style.stroke=n,this.titleText.text=s,this.titleText.style=new V({fontFamily:"DotGothic16",dropShadowAngle:6.7,dropShadowDistance:3,fill:r,fontSize:20,lineJoin:"round",stroke:n,strokeThickness:2}),this.needsUpdate=!0}update(){super.update(),this.needsUpdate&&(this.app.render(),this.texture.needsUpdate=!0,this.needsUpdate=!1)}}class Fi extends G{constructor(){super();u(this,"question");u(this,"exclamation");u(this,"submissionInfo");u(this,"objects");u(this,"animationTimeline",null);this.objects=new Rs,this.question=y.get(os).children[0],this.exclamation=y.get(os).children[1],this.question.position.y=.4,this.exclamation.position.y=.4,this.question.visible=!1,this.exclamation.visible=!1,Ne(this.question,new D(16711680)),Ne(this.exclamation,new D(65280)),this.objects.add(this.question),this.objects.add(this.exclamation),this.add(this.objects),this.add(this.submissionInfo=new Ci),this.submissionInfo.scale.set(.01,.01,.01),this.position.y=.5}start(){S.on("submit",e=>{const s=_.timeline();s.timeScale(1/5),s.call(()=>{var t;this.question.visible=!0,this.exclamation.visible=!1,this.objects.rotation.x=Math.PI*.3,this.objects.position.z=0,this.submissionInfo.visible=!0,this.submissionInfo.redraw((t=Z.getUser(e.userId))==null?void 0:t.displayName,e.title,new D(16711680))}),s.to(this.objects.rotation,.3,{x:0,ease:ke.easeOut.config(1,.3)}),s.to(this.objects.position,.15,{z:.1,ease:ke.easeIn.config(1,.3)},"+=0.1"),s.call(()=>{this.question.visible=!1,this.exclamation.visible=!0,this.submissionInfo.redraw("Solved!","",new D(65280))}),s.to(this.objects.position,.15,{z:0,ease:ke.easeOut.config(1,.3)}),s.to(this.objects.position,.15,{z:-.1,ease:ke.easeIn.config(1,.3)},"+=0.15"),s.call(()=>{this.exclamation.visible=!1,this.submissionInfo.visible=!1}),this.animationTimeline&&this.animationTimeline.kill(),this.animationTimeline=s})}update(){super.update(),this.rotation.y+=Math.PI*I.deltaTime*.3,this.position.y=Math.sin(I.time*Math.PI/2)*.1+.5,this.question.material[0].uniforms.time.value=I.time,this.exclamation.material[0].uniforms.time.value=I.time,this.question.material[1].uniforms.time.value=I.time,this.exclamation.material[1].uniforms.time.value=I.time}}const P=class extends G{constructor(){super();u(this,"basisPlane");u(this,"maxBasisScale",1);u(this,"basisSize",13);P.randomPartsObjectKeys=new Array(we.length*2).fill("").map((s,t)=>t<we.length?we[t]:"Big"+we[t-we.length]).sort(()=>Math.random()-.5);const e=new ze(new Fe(1,1,1,1),new ds({color:272143}));e.rotation.x=-Math.PI*.5,e.position.set(0,-.1,0),e.scale.set(10,10,0),this.basisPlane=e,this.add(e),this.add(new Fi)}start(){super.start(),this.setPrefabs(),S.on("recalculatestart",()=>{}),S.on("recalculateend",()=>{this.removeAllObject(),this.createCircuit()}),this.createObject("CPU").position.set(-.5,0,-.5)}update(){super.update()}static getCPUBox(){if(P.objectPool.CPU==null)return;const s=P.objectPool.CPU[0][1];return new As().setFromObject(s)}static getRandomPartsBox(){for(let e=0;e<P.randomPartsObjectKeys.length;e++){P.randomIndex=(P.randomIndex+1)%P.randomPartsObjectKeys.length;const s=P.randomPartsObjectKeys[P.randomIndex];if(P.objectPool[s]==null)continue;const t=P.objectPool[s][0];if(t.length>0){let r=0;for(const n of t)n.visible&&(r+=1);if(r>0){const n=t[Math.floor(Math.random()*r)+1];return new As().setFromObject(n)}else continue}}}createCircuit(){const[e,s,t]=Ae.getCircuitInfo(),r=Math.min(this.basisSize/e.sizeX,this.maxBasisScale);P.currentBasisScale=r,this.basisPlane.scale.set(e.sizeX+4,e.sizeY+4,1);const n=-e.sizeX/2-.5,a=0,o=-e.sizeY/2-.5;s.forEach(c=>{let d="",h=0,f=0;c.category==""?d="CPU":c.isBig?(d="Big"+c.category,h=.5,f=.5):d=c.category;const m=this.createObject(d);m!=null&&m.position.set(c.x+n+h,0+a,c.z+o+f)}),t.forEach(c=>{c.wires.forEach(d=>{const h=this.createObject("Wire"+d.toString());h!=null&&h.position.set(c.x+n,0+a,c.z+o)})}),this.scale.setScalar(r)}setPrefabs(){var t,r,n;const e=(t=y.get(le.cpuPath))==null?void 0:t.clone();e.visible=!1,P.objectPool.CPU=[[e],1],this.add(e);for(const a in le.partsBigPath){const o=(r=y.get(le.partsBigPath[a]))==null?void 0:r.clone();o!=null&&(o.visible=!1,o.scale.set(2,2,2),P.objectPool["Big"+a]=[[o],1],this.add(o))}for(const a in le.partsPath){const o=(n=y.get(le.partsPath[a]))==null?void 0:n.clone();o!=null&&(o.visible=!1,P.objectPool[a]=[[o],1],this.add(o))}const s=a=>{const o=new Pe(a),c=new ze(o.geometry,o.material);c.visible=!1,P.objectPool["Wire"+a.toString()]=[[c],1],this.add(c)};for(let a=0;a<32;a++){let o=[a,-1];s(o);const c=a%8,d=(a-c)/8;[15-c,23-c,31-c].forEach(f=>{const m=((f+8*d)%32+32)%32;o=[a,m],s(o)})}}createObject(e){if(P.objectPool[e]==null)return;const[s,t]=P.objectPool[e];let r;t>=s.length?(r=s[0].clone(),s.push(r),this.add(r)):r=s[t],r.visible=!0;const n=t+1;return P.objectPool[e]=[s,n],r}removeAllObject(){for(const e in P.objectPool)P.objectPool[e][0].forEach(s=>s.visible=!1),P.objectPool[e][1]=1}};let ie=P;u(ie,"objectPool",{}),u(ie,"currentBasisScale",1),u(ie,"randomPartsObjectKeys"),u(ie,"randomIndex",0);class Ti extends Ws{constructor(){super(60,1,.01,500);u(this,"state","parts");u(this,"timeline",_.timeline());u(this,"defaultPosY",5);u(this,"minR",2);u(this,"maxR",3);u(this,"cpuCamWaitTime",5);u(this,"partsCamMinWaitTime",5);u(this,"partsCamMaxWaitTime",15);u(this,"userId","")}start(){this.position.set(0,3,-6),this.lookAt(0,0,0),S.on("submit",({userId:e})=>{this.state=="cpu"||this.state=="display"||this.state=="recalculate"||(this.userId=e,this.changeState("cpu"),_.delayedCall(2,()=>{this.changeState("display")}))}),S.on("recalculatestart",()=>{this.changeState("recalculate")}),S.on("recalculateend",()=>{_.delayedCall(4,()=>{this.changeState("parts")})})}cpuCam(){const e=ie.getCPUBox();if(e!=null)this.setCamFromBox(e);else{const s=new H(0,0,0),t=this.defaultPosY*Math.random()*(this.maxR-this.minR)+this.minR,r=Math.random()*2*Math.PI,n=new H(t*Math.cos(r),this.defaultPosY,t*Math.sin(r));n.multiplyScalar(1);const a=s.clone().add(n);a.setY(this.defaultPosY*ie.currentBasisScale),this.position.set(a.x,a.y,a.z),this.lookAt(s)}this.setRandomDelay(this.cpuCamWaitTime,this.cpuCamWaitTime)}partsCam(){const e=ie.getRandomPartsBox();e!=null?this.setCamFromBox(e):this.cpuCam(),this.setRandomDelay(this.partsCamMinWaitTime,this.partsCamMaxWaitTime)}recalculateCam(){this.position.set(0,10,-10),this.lookAt(0,0,5),this.setRandomDelay(1e5,1e5)}displayCam(){const e=We.getUserDisplay(this.userId);if(e!=null){const s=new H;e.getWorldDirection(s);const t=e.position.clone().add(s.multiplyScalar(e.scale.z*5));t.add(new H(0,e.scale.y*2.5/2,0)),this.position.set(t.x,t.y,t.z);const r=e.position.clone().add(new H(0,e.scale.y*2.5/2,0));this.lookAt(r),this.setRandomDelay(3,3),_.delayedCall(3,()=>{this.changeState("parts")})}else this.changeState("parts")}setCamFromBox(e){const s=e.min.clone().add(e.max).multiplyScalar(.5),t=e.max.clone().sub(e.min),r=Math.max(t.x,t.z),n=Math.random()*(this.maxR-this.minR)+this.minR,a=Math.random()*2*Math.PI,o=new H(n*Math.cos(a),this.defaultPosY,n*Math.sin(a));o.multiplyScalar(r);const c=s.clone().add(o);c.setY(this.defaultPosY*ie.currentBasisScale),this.position.set(c.x,c.y,c.z),this.lookAt(s)}setRandomDelay(e,s){const t=_.timeline();t.call(()=>{}).delay(Math.random()*(s-e)+e),this.timeline.add(t,0)}stateMethods(){switch(this.state){case"cpu":this.cpuCam();return;case"parts":this.partsCam();return;case"recalculate":this.recalculateCam();return;case"display":this.displayCam();return}}stateMachine(){this.timeline.isActive()||(this.timeline.clear(),this.stateMethods(),this.timeline.play(0))}changeState(e){this.state=="recalculate"&&e!=="parts"||(this.timeline.clear(),this.state=e,te.cameraNumber=Mi.indexOf(e))}update(){this.stateMachine()}}const Mi=["cpu","parts","recalculate","display"],j=class extends G{constructor(e=0){super();u(this,"emergencyBlack");u(this,"emergencyRed");u(this,"offsetTime");u(this,"loopTime",2);var s,t;if(j.emergencyBlackGeom==null){const r=(s=y.get(cs))==null?void 0:s.clone();j.emergencyBlackGeom=r.children[0].geometry}if(j.emergencyRedGeom==null){const r=(t=y.get(cs))==null?void 0:t.clone();j.emergencyRedGeom=r.children[1].geometry}this.offsetTime=e,this.emergencyBlack=new ze(j.emergencyBlackGeom),this.emergencyRed=new ze(j.emergencyRedGeom),j.emergencyBlackMaterial==null?(Ne(this.emergencyBlack,new D(0)),j.emergencyBlackMaterial=this.emergencyBlack.material):this.emergencyBlack.material=j.emergencyBlackMaterial,j.emergencyRedMaterial==null?(Ne(this.emergencyRed,new D(16711680)),j.emergencyRedMaterial=this.emergencyRed.material):this.emergencyRed.material=j.emergencyRedMaterial,this.add(this.emergencyBlack),this.add(this.emergencyRed)}start(){super.start()}update(){super.update();let e=Math.sin((I.time+this.offsetTime)/this.loopTime*Math.PI*2);e=e<0?0:e,this.scale.set(e,e,e)}};let re=j;u(re,"emergencyBlackGeom"),u(re,"emergencyRedGeom"),u(re,"emergencyBlackMaterial"),u(re,"emergencyRedMaterial");class Ii extends G{constructor(){super();u(this,"size",30);u(this,"positionOffset",2/Math.sqrt(3));u(this,"offsetTimeUnit",.1);u(this,"emergencies",new Array(0));for(let e=0;e<this.size;e++){const s=e*(this.positionOffset*3/2)-Math.floor(this.size/2),t=e*this.offsetTimeUnit;for(let r=0;r<this.size;r++){const n=r*(Math.sqrt(3)*this.positionOffset)+(e%2==1?this.positionOffset*(Math.sqrt(3)/2):0)-Math.floor(this.size/2),a=new re(t);a.position.setX(n),a.position.setZ(s),this.emergencies.push(a),this.add(a)}}}start(){super.start()}update(){super.update(),re.emergencyBlackMaterial[0].uniforms.time.value=I.time,re.emergencyRedMaterial[0].uniforms.time.value=I.time,re.emergencyBlackMaterial[1].uniforms.time.value=I.time,re.emergencyRedMaterial[1].uniforms.time.value=I.time}}class Os extends ae{constructor(e){const s=e.clipBias!==void 0?e.clipBias:0,t=e.alpha!==void 0?e.alpha:1,r=e.time!==void 0?e.time:0,n=e.waterNormals!==void 0?e.waterNormals:null,a=e.sunDirection!==void 0?e.sunDirection:new H(.70707,.70707,0),o=new D(e.sunColor!==void 0?e.sunColor:16777215),c=new D(e.waterColor!==void 0?e.waterColor:8355711),d=e.eye!==void 0?e.eye:new H(0,0,0),h=e.distortionScale!==void 0?e.distortionScale:100,f=e.side!==void 0?e.side:Vs,m=e.fog!==void 0?e.fog:!1,b=new ct,C=new H,B=new H,L=new H,g=new Oe,v=new H(0,0,-1),p=new zs,R=new H,$=new H,ue=new zs,pe=new Oe,U=new Ws,ye={uniforms:ys.merge([Ss.fog,Ss.lights,{normalSampler:{value:null},mirrorSampler:{value:null},alpha:{value:1},time:{value:0},size:{value:1},distortionScale:{value:20},textureMatrix:{value:new Oe},sunColor:{value:new D(8355711)},sunDirection:{value:new H(.70707,.70707,0)},eye:{value:new H},waterColor:{value:new D(5592405)}}]),vertexShader:`
				uniform mat4 textureMatrix;
				uniform float time;
				varying vec4 mirrorCoord;
				varying vec4 worldPosition;
				#include <common>
				#include <fog_pars_vertex>
				#include <shadowmap_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				void main() {
					mirrorCoord = modelMatrix * vec4( position, 1.0 );
					worldPosition = mirrorCoord.xyzw;
					mirrorCoord = textureMatrix * mirrorCoord;
					vec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );
					gl_Position = projectionMatrix * mvPosition;
				#include <beginnormal_vertex>
				#include <defaultnormal_vertex>
				#include <logdepthbuf_vertex>
				#include <fog_vertex>
				#include <shadowmap_vertex>
			}`,fragmentShader:`
				uniform float alpha;
				uniform float time;
				uniform float size;
				uniform float distortionScale;
				uniform sampler2D normalSampler;
				uniform vec3 sunColor;
				uniform vec3 sunDirection;
				uniform vec3 eye;
				uniform vec3 waterColor;
				varying vec4 mirrorCoord;
				varying vec4 worldPosition;
				vec4 getNoise( vec2 uv ) {
					vec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);
					vec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );
					vec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );
					vec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );
					vec4 noise = texture2D( normalSampler, uv0 ) +
						texture2D( normalSampler, uv1 ) +
						texture2D( normalSampler, uv2 ) +
						texture2D( normalSampler, uv3 );
					return noise * 0.5 - 1.0;
				}
				void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {
					vec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );
					float direction = max( 0.0, dot( eyeDirection, reflection ) );
					specularColor += pow( direction, shiny ) * sunColor * spec;
					diffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;
				}
				#include <common>
				#include <packing>
				#include <bsdfs>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <lights_pars_begin>
				#include <shadowmap_pars_fragment>
				#include <shadowmask_pars_fragment>
				void main() {
					#include <logdepthbuf_fragment>
					vec4 noise = getNoise( worldPosition.xz * size );
					vec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );
					vec3 diffuseLight = vec3(0.0);
					vec3 specularLight = vec3(0.0);
					vec3 worldToEye = eye-worldPosition.xyz;
					vec3 eyeDirection = normalize( worldToEye );
					sunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );
					float distance = length(worldToEye);
					vec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;
					vec3 reflectionSample = vec3( 0.0 , 0.0 , 0.0 );
					float theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );
					float rf0 = 0.3;
					float reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );
					vec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;
					vec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);
					vec3 outgoingLight = albedo;
					gl_FragColor = vec4( outgoingLight, alpha );
					#include <tonemapping_fragment>
					#include <fog_fragment>
				}`},q=new xe({fragmentShader:ye.fragmentShader,vertexShader:ye.vertexShader,uniforms:ys.clone(ye.uniforms),lights:!0,side:f,fog:m});q.uniforms.textureMatrix.value=pe,q.uniforms.alpha.value=t,q.uniforms.time.value=r,q.uniforms.normalSampler.value=n,q.uniforms.sunColor.value=o,q.uniforms.waterColor.value=c,q.uniforms.sunDirection.value=a,q.uniforms.distortionScale.value=h,q.uniforms.eye.value=d;const Me=new Fe(100,100);super(Me,q);u(this,"isWater",!0);this.onBeforeRender=function(Ge,ve,de){if(B.setFromMatrixPosition(this.matrixWorld),L.setFromMatrixPosition(de.matrixWorld),g.extractRotation(this.matrixWorld),C.set(0,0,1),C.applyMatrix4(g),R.subVectors(B,L),R.dot(C)>0)return;R.reflect(C).negate(),R.add(B),g.extractRotation(de.matrixWorld),v.set(0,0,-1),v.applyMatrix4(g),v.add(L),$.subVectors(B,v),$.reflect(C).negate(),$.add(B),U.position.copy(R),U.up.set(0,1,0),U.up.applyMatrix4(g),U.up.reflect(C),U.lookAt($),U.far=de.far,U.updateMatrixWorld(),U.projectionMatrix.copy(de.projectionMatrix),pe.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),pe.multiply(U.projectionMatrix),pe.multiply(U.matrixWorldInverse),b.setFromNormalAndCoplanarPoint(C,B),b.applyMatrix4(U.matrixWorldInverse),p.set(b.normal.x,b.normal.y,b.normal.z,b.constant);const ee=U.projectionMatrix;ue.x=(Math.sign(p.x)+ee.elements[8])/ee.elements[0],ue.y=(Math.sign(p.y)+ee.elements[9])/ee.elements[5],ue.z=-1,ue.w=(1+ee.elements[10])/ee.elements[14],p.multiplyScalar(2/p.dot(ue)),ee.elements[2]=p.x,ee.elements[6]=p.y,ee.elements[10]=p.z+1-s,ee.elements[14]=p.w,d.setFromMatrixPosition(de.matrixWorld)}}}Os.prototype.isWater=!0;var ki="/Visualizer/assets/Water_1_M_Normal.6d782546.jpg";class Ei extends G{constructor(){super();u(this,"water");const e={textureWidth:512,textureHeight:512,waterNormals:new Bs().load(ki,function(s){s.wrapS=s.wrapT=lt}),alpha:1,waterColor:4098510,distortionScale:20,fog:void 0,sunDirection:void 0,sunColor:void 0,clipBias:void 0,time:void 0,eye:void 0,side:Vs};this.water=new Os(e),this.water.rotation.x=-Math.PI/2,this.add(this.water)}start(){super.start()}update(){super.update(),this.water.material.uniforms.time.value=I.time}}class Di extends G{constructor(){super();u(this,"startY",-2);u(this,"endY",1);u(this,"animationDuration",3);u(this,"emergencyAnimation");u(this,"waterAnimation");this.emergencyAnimation=new Ii,this.waterAnimation=new Ei,this.add(this.emergencyAnimation),this.add(this.waterAnimation),this.rotateY(Math.PI)}start(){super.start(),this.visible=!1,this.emergencyAnimation.position.y=.5,this.position.y=this.startY,S.on("recalculatestart",()=>{this.visible=!0,_.to(this.position,this.animationDuration,{y:this.endY})}),S.on("recalculateend",()=>{_.to(this.position,this.animationDuration,{y:this.startY}).eventCallback("onComplete",()=>{this.visible=!1})})}update(){super.update()}}const Bi=async()=>{const i=await Us.initial();i.users.forEach(e=>{Z.addUser(e)}),te.startTime=new Date(i.startTime),te.endTime=new Date(i.endTime),setTimeout(()=>{js()},4500)},Ms={uniforms:{tDiffuse:{value:null},progress:{value:0}},vertexShader:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}
  `,fragmentShader:`
uniform sampler2D tDiffuse;
uniform float near;
uniform float far;
uniform float progress;

varying vec2 vUv;

float absmax(vec4 _v) {
  vec4 v = vec4(_v);
  return max(max(v.x, v.y), v.z);
}

void main() {
  vec2 d = vec2(0.001, 0.0);
  vec4 texeln = texture2D( tDiffuse, floor(vUv * 100.0) / 100.0 );
  texeln = floor(texeln * 4.0) / 4.0;
  vec4 texel = texture2D( tDiffuse, vUv );

  vec4 edge = texeln;

  vec4 main = mix(texel, edge, step(vUv.y, 1.0 - progress));
  float gray = main.r * 0.3 + main.g * 0.59 + main.b * 0.11;
  main = mix(main, vec4(gray, gray, gray, 1.0), 0.3);
  gl_FragColor = vec4(main.rgb, 1.0);
}
  `};class Ri extends ut{constructor(e){super();u(this,"camera");u(this,"material");u(this,"oldClearColor");u(this,"fsQuad");u(this,"progress",0);this.camera=e,this.material=new xe({defines:{DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},near:{value:e.near},far:{value:e.far},progress:{value:0}},vertexShader:Ms.vertexShader,fragmentShader:Ms.fragmentShader}),this.oldClearColor=new D,this.fsQuad=new dt(this.material)}render(e,s,t){e.getClearColor(this.oldClearColor);const r=e.getClearAlpha(),n=e.autoClear;e.autoClear=!1,this.material.uniforms.tDiffuse.value=t.texture,this.material.uniforms.near.value=this.camera.near,this.material.uniforms.far.value=this.camera.far,this.progress=Math.min(1,this.progress+(Math.random()<.05?Math.random()*.1:0)),this.material.uniforms.progress.value=this.progress,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(s),e.clear(),this.fsQuad.render(e)),e.setClearColor(this.oldClearColor),e.setClearAlpha(r),e.autoClear=n}}const xs=class{constructor(){u(this,"renderer",null);u(this,"camera",null);u(this,"composer",null);u(this,"_tick",null);u(this,"isLoaded",!1);u(this,"isStartCalled",!1);u(this,"isFirstTickCalled",!1)}static getInstance(){return this.instance?this.instance:(this.instance=new xs,this.instance)}get tick(){return this._tick}get isInitialized(){return this.isLoaded}resize(e,s){!this.renderer||!this.camera||!this.composer||(this.renderer.setSize(e,s),this.renderer.setPixelRatio(window.devicePixelRatio),this.camera.aspect=e/s,this.camera.updateProjectionMatrix(),this.composer.setSize(e,s))}setup(e){const s=new wt({canvas:e,antialias:!0});s.setClearColor(new D(1114129));const t=new ht(s);this.composer=t;const r=new Ti,n=new mt;n.add(new ci,new We,new Di,new ie),Lt(),t.addPass(new ft(n,r)),t.addPass(new xt(.7,.3,void 0,0));const a=new Ri(r);t.addPass(a),this._tick=()=>{var o;!this.isLoaded||!this.isStartCalled||(this.isFirstTickCalled||(I.start(performance.now()),(o=this.camera)==null||o.start(),this.isFirstTickCalled=!0),I.update(performance.now()),r.update(),n.children.map(c=>{(c instanceof G||c instanceof ae)&&c.update()}),t.render())},this.renderer=s,this.camera=r,Bi().then(()=>{this.isLoaded=!0,Yt()})}start(){this.isStartCalled=!0}};let ne=xs;u(ne,"instance");const Se=i=>("00"+i).slice(-2),Hi=({x:i,y:e,width:s,height:t})=>{const r=x.exports.useRef(null),[n,a]=x.exports.useState({width:s,height:t}),[o,c]=x.exports.useState(new E(new Ce)),[d,h]=x.exports.useState("loading"),f=x.exports.useRef(null),m=x.exports.useRef(null),b=x.exports.useRef(null),C=x.exports.useMemo(()=>new je().drawRect(i,e,s,t),[i,e,s,t]);w.exports.useTick(()=>{o.update();const v=ne.getInstance().tick;if(v&&v(),f.current&&m.current){const p=new Date;f.current.text=`${p.getFullYear()}-${Se(p.getMonth())}-${Se(p.getDate())} ${Se(p.getHours())}:${Se(p.getMinutes())}:${Se(p.getSeconds())}`,te.startTime&&te.endTime&&te.startTime<p&&p<te.endTime?m.current.text=`
\uFF8B\uFF9E\uFF7C\uFF9E\uFF6D\uFF71\uFF97\uFF72\uFF7B\uFF9E-\uFF77\uFF6E\uFF73\uFF77\uFF9E\uFF81\uFF6D\uFF73`:m.current.text=`
\uFF8B\uFF9E\uFF7C\uFF9E\uFF6D\uFF71\uFF97\uFF72\uFF7B\uFF9E`}b.current&&(b.current.text=`CAMERA ${te.cameraNumber}`)}),x.exports.useEffect(()=>{ne.getInstance().resize(s,t),o.update(),a({width:s,height:t})},[s,t]);const B=()=>{const v=document.createElement("canvas");document.body.appendChild(v),r.current=v,ne.getInstance().setup(v),ne.getInstance().resize(s,t),c(new E(Ce.from(v))),h("splashscreen")},L=()=>{ne.getInstance().start(),h("visualizer")};return l(N,{children:(v=>v==="loading"?l(_t,{width:s,height:t,loadedHandler:B}):v==="splashscreen"?l(si,{width:s,height:t,onComplete:L}):T(w.exports.Container,{mask:C,children:[l(w.exports.Sprite,{texture:o,width:n.width,height:n.height}),l(w.exports.Text,{ref:m,text:`
\uFF8B\uFF9E\uFF7C\uFF9E\uFF6D\uFF71\uFF97\uFF72\uFF7B\uFF9E`,anchor:[0,0],position:[20,20],style:new V({align:"left",fontFamily:"DotGothic16, Roboto, Helvetica, sans-serif",fontSize:48,fill:"#ffffff"})}),l(w.exports.Text,{ref:f,text:"",anchor:[0,0],position:[20,10],style:new V({align:"left",fontFamily:"DotGothic16, Roboto, Helvetica, sans-serif",fontSize:48,fill:"#ffffff"})}),l(w.exports.Text,{ref:b,text:"",anchor:[1,1],position:[s-20,t-10],style:new V({align:"left",fontFamily:"DotGothic16, Roboto, Helvetica, sans-serif",fontSize:48,fill:"#ffffff"})})]}))(d)})};var Wi="/Visualizer/assets/kusodasaBackGround.aa7102d2.png",Vi="/Visualizer/assets/kusodasaTitle.1b5d3374.png",Ni="/Visualizer/assets/kusodasaTitle2.25e09b49.png",Ui="/Visualizer/assets/nazoCat.7266b510.png",ji="data:image/png;base64,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";const Is=i=>("00"+i).slice(-2),Gi=i=>("0000"+i).slice(-4),Li=({x:i,y:e,width:s,height:t})=>{const[r,n]=x.exports.useState(""),[a,o]=x.exports.useState("");w.exports.useTick(()=>{const d=new Date;if(n(`${d.getHours()}\u6642${Is(d.getMinutes())}\u5206`),!ne.getInstance().isInitialized)return;const h=Math.ceil((te.endTime.getTime()-d.getTime())/1e3/60);o(`${Math.floor(h/60)}\u6642\u9593${Is(h%60)}\u5206`)});const c=Math.max(750,s);return T(w.exports.Container,{mask:x.exports.useMemo(()=>new je().drawRect(i,e,s,t),[i,e,s,t]),children:[l(fe,{bgColor:16777215,width:s,height:t}),T(w.exports.Container,{scale:s/c,children:[l(w.exports.Sprite,{image:Wi,position:[0,0],width:c,height:c}),a?l(w.exports.Sprite,{image:Vi,anchor:[.5,0],position:[c/2,40]}):l(w.exports.Sprite,{image:Ni,anchor:[.5,0],position:[c/2,40]}),l(w.exports.Text,{text:a||r,anchor:[.5,0],position:[c/2,190],style:new V({dropShadow:!0,dropShadowAlpha:.6,dropShadowBlur:8,dropShadowDistance:16,fill:["fuchsia","blue","lime","yellow","#ff8000","red"],fillGradientType:1,fontFamily:"HGRPP1",fontSize:128,letterSpacing:3})}),l(w.exports.Sprite,{image:Ui,anchor:[.5,0],position:[c/2,400]}),a?T(N,{children:[l(w.exports.Sprite,{image:ji,anchor:[.5,0],position:[c/2,550]}),l(w.exports.Text,{text:`${Gi(Z.size())}`,anchor:.5,position:[c/2-60,603],style:new V({align:"right",fontFamily:"DotGothic16, Roboto, Helvetica, sans-serif",fontSize:24,fill:"yellow"})})]}):null]})]})},Yi=`# VisualizerOS(\u4EEE\u79F0)
\u305B\u3044\u3055\u304F\u3057\u3083: Fogrex, Renard, Uzaki

## \u4F7F\u3044\u65B9
\u30A2\u30A4\u30B3\u30F3\u3092\u30C0\u30D6\u30EB\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u3092\u8D77\u52D5
(\u6CE8\u610F: Visualizer\u306F\u4E00\u5EA6\u3057\u304B\u8D77\u52D5\u3067\u304D\u307E\u305B\u3093)

\u30A6\u30A4\u30F3\u30C9\u30A6\u306E\u30D8\u30C3\u30C0\u30FC\u306B\u3042\u308B\u30DC\u30BF\u30F3\u306F
\u305D\u308C\u305E\u308C\u6700\u5C0F\u5316\u3001\u6700\u5927\u5316\u3001\u30D7\u30ED\u30BB\u30B9\u7D42\u4E86\u3067\u3059\u3002
\u30A6\u30A4\u30F3\u30C9\u30A6\u306E\u30D8\u30C3\u30C0\u30FC\u3092\u3064\u304B\u3093\u3067\u30C9\u30E9\u30C3\u30B0\u3059\u308C\u3070
\u30A6\u30A4\u30F3\u30C9\u30A6\u306E\u79FB\u52D5\u304C\u51FA\u6765\u307E\u3059\u3057\u3001
\u30A6\u30A4\u30F3\u30C9\u30A6\u7AEF\u3092\u30C9\u30E9\u30C3\u30B0\u3059\u308C\u3070
\u30A6\u30A4\u30F3\u30C9\u30A6\u306E\u30B5\u30A4\u30BA\u3092\u5909\u3048\u3089\u308C\u307E\u3059\u3002`,Oi=({x:i,y:e,width:s,height:t})=>T(w.exports.Container,{mask:x.exports.useMemo(()=>new je().drawRect(i,e,s,t),[i,e,s,t]),children:[l(fe,{bgColor:16777215,width:s,height:t}),l(w.exports.Text,{text:Yi,anchor:0,position:[0,0],style:new V({align:"left",fontFamily:"DotGothic16, Roboto, Helvetica, sans-serif",fontSize:32,lineHeight:43,fill:"#000000"})})]}),Ue=class{static initialize(){if(Ue.sheet===null){const e=location.pathname.replace(/index\.html.*/gm,"");bs.shared.add("uisprites",`${e}sprites/spritesheet.json`).load(()=>{var s;Ue.sheet=(s=bs.shared.resources.uisprites.spritesheet)!=null?s:null,this.loaded=!0,this.onLoadFunc&&this.onLoadFunc()})}}static get(e){return this.sheet?this.sheet.textures[e]:null}static onLoad(e){this.loaded?e():this.onLoadFunc=e}};let k=Ue;u(k,"sheet",null),u(k,"loaded",!1),u(k,"onLoadFunc",null);k.initialize();const Xi=i=>("00"+i).slice(-2),qi=i=>{const e=new Date;return`C:\xA5CPCTF\xA5Visualizer\xA5apps> .\xA5ranking
Welcome to Visualizer, USERNAME !

${i?`Ranking (Last Updated ${e.getHours()}:${Xi(e.getMinutes())}):`:"Fetching..."}`},Ki=["1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th","13th","14th","15th","16th","17th","18th","19th","20th"],Qi=({x:i,y:e,width:s,height:t})=>{const[r,n]=x.exports.useState(!1);x.exports.useEffect(()=>{const c=()=>{n(!0)},d=()=>{n(!1)};return S.on("recalculatestart",c),S.on("recalculateend",d),()=>{S.off("recalculatestart",c),S.off("recalculateend",d)}},[]);const a=x.exports.useMemo(()=>new je().drawRect(i,e,s,t),[i,e,s,t]),o=!r&&ne.getInstance().isInitialized;return T(w.exports.Container,{mask:a,children:[l(fe,{width:s,height:t,bgColor:0}),l(w.exports.Text,{text:qi(o),anchor:0,position:[0,0],style:new V({align:"left",fontFamily:"DotGothic16, Roboto, Helvetica, sans-serif",fontSize:30,fill:"#ffffff"})}),o?Z.ranking.slice(0,20).map((c,d)=>{const h=d==0?"red":d==1||d==2?"yellow":"white";return l(w.exports.Text,{text:`${Ki[d]} : ${c.displayName} / ${Math.floor(c.score)}pts`,anchor:0,position:[0,124+d*26],style:new V({align:"left",fontFamily:"DotGothic16, Roboto, Helvetica, sans-serif",fontSize:30,fill:h})},c.id)}):null]})},Ji={Component:null,icon:()=>k.get("Clock.png"),title:"Clock",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!1},Xs={visualizer:{Component:Hi,icon:()=>k.get("Visualizer.png"),title:"Visualizer",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!0},clock:{Component:Li,icon:()=>k.get("Clock.png"),title:"Clock",rect:{x:0,y:0,width:500,height:500},visible:!0,fullscreen:!1},readme:{Component:Oi,icon:()=>k.get("ReadMe.png"),title:"Readme.txt",rect:{x:0,y:0,width:850,height:600},visible:!0,fullscreen:!1},ranking:{Component:Qi,icon:()=>k.get("Ranking.png"),title:"Ranking",rect:{x:0,y:0,width:850,height:600},visible:!0,fullscreen:!1}},be=O/5,Zi=({id:i,iconInfo:e,position:s})=>{const{windowSettings:{windows:t,update:r,starting:n}}=x.exports.useContext(J),a=x.exports.useRef(0),o=()=>{const h=a.current;if(a.current=performance.now(),a.current-h>600)return;const f=Xs[i];t[i]||!f||r(i,f)},c=x.exports.useCallback(h=>{h.clear(),n===i&&(h.beginFill(11184895,.5),h.drawRect(0,0,O,O))},[n]),d=e.icon();return T(w.exports.Container,{position:s,interactive:!0,click:o,children:[l(w.exports.Graphics,{draw:c}),d?l(w.exports.Sprite,{texture:d,position:[be/2,0],width:O-be,height:O-be}):null,l(w.exports.Text,{text:e.title,anchor:[.5,0],position:[O/2,O-be],style:new V({align:"center",fontFamily:'DotGothic16, "Source Sans Pro", Helvetica, sans-serif',fontSize:be,fill:"#000",fontWeight:"bold",stroke:"#ffffff",strokeThickness:4})})]})};var _i="/Visualizer/assets/BackGround.6ba2a63c.png";const Qe=12,$i=()=>{const{width:i,height:e}=x.exports.useContext(J),s=Math.max(1,Math.floor((e-X-(O+Qe))/O));return T(N,{children:[l(w.exports.Sprite,{image:_i,anchor:0,x:0,y:0,width:i,height:e-X}),l(w.exports.Container,{position:[O/2,O/2],children:Object.entries(Xs).map(([t,r],n)=>l(Zi,{id:t,iconInfo:r,position:[Math.floor(n/s)*(O+Qe),n%s*(O+Qe)]},t))})]})},er=(i,e,s,t)=>{const r=M,n=16,a=[0,0],o=[0,0];let c="none";const d={x:0,y:0};let h=!1,f="pointer",m={x:0,y:0,width:0,height:0};return{mouseDownHandler:g=>v=>{d.x=v.data.global.x,d.y=v.data.global.y,g.fullscreen?m={x:0,y:0,width:s,height:t-X}:m=g.rect,e.focus(i),!(a[0]===0&&a[1]===0&&d.y-m.y>r)&&(o[0]=a[0],o[1]=a[1],c=a[0]===0&&a[1]===0?"move":"scale",e.update(i,F(z({},g),{rect:m,fullscreen:!1})))},mouseMoveHandler:g=>v=>{if(c!=="none")if(c==="move")f="grabbing",e.update(i,F(z({},g),{rect:{x:m.x+v.offsetX-d.x,y:m.y+v.offsetY-d.y,width:g.rect.width,height:g.rect.height}}));else{const p=z({},m),R=200,$=200;o[0]===1?p.width=Math.max(R,m.width-d.x+v.offsetX):o[0]===-1&&(p.width=Math.max(R,d.x+m.width-v.offsetX),p.x=Math.min(m.x+m.width-R,m.x-d.x+v.offsetX)),o[1]===1?p.height=Math.max($,m.height-d.y+v.offsetY):o[1]===-1&&(p.height=Math.max($,d.y+m.height-v.offsetY),p.y=Math.min(m.y+m.height-$,m.y-d.y+v.offsetY)),p.width=Math.max(200,p.width),p.height=Math.max(M,p.height),e.update(i,F(z({},g),{rect:p}))}},mouseUpHandler:()=>()=>{c="none"},cursorMouseMoveHandler:g=>v=>{const p=g.fullscreen?{x:0,y:0,width:s,height:t-X}:g.rect;v.data.global.x-p.x<n?a[0]=-1:p.x+p.width-v.data.global.x<n?a[0]=1:a[0]=0,v.data.global.y-p.y<n?a[1]=-1:p.y+p.height-v.data.global.y<n?a[1]=1:a[1]=0,a[0]*a[1]===1?f="nwse-resize":a[0]*a[1]===-1?f="nesw-resize":a[0]!==0?f="ew-resize":a[1]!==0?f="ns-resize":v.data.global.y-p.y<r?f="grab":f="default"},mouseOverHandler:()=>{h=!0},mouseOutHandler:()=>{h=!1},getCursor:()=>h?f:""}};let hs="";const qs=()=>hs,sr=i=>{hs=i},tr=()=>{hs=""};var ir="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAjCAYAAABLuFAHAAAAAXNSR0IArs4c6QAAAMpJREFUSIntljEKwjAARV9sT+AJnARBB49gRzf1GuLkVpykm5N4Dt1cSuPgroNFwVnEycHZUgeplIYqqQoi/eMnj08I/B+x3axCMqjb62MCVKp1LdAZOgB3GGDnr7XTC9pETGbSCPZFAGqdkoi8i38KAQ7h8XPJOZzDOfw/sNIkRvkMQLxVkw3yneTpbJ56uN1qPoe5Gsilq9ie9JR6VmEzAEAu5KM901blh54KYDIeAbwcQAW2B3b2ZJ3Be//O0d7qSlgNK9PPAOAGSlQ1kR+eHVUAAAAASUVORK5CYII=";const oe=new Ce(ir),ce={topLeft:new E(oe,new W(0,0,6,26)),top:new E(oe,new W(6,0,3,26)),topRight:new E(oe,new W(9,0,6,26)),right:new E(oe,new W(9,26,6,3)),bottomRight:new E(oe,new W(9,29,6,6)),bottom:new E(oe,new W(6,29,3,6)),bottomLeft:new E(oe,new W(0,29,6,6)),left:new E(oe,new W(0,26,6,3))},rr=({width:i,height:e})=>T(N,{children:[l(w.exports.Sprite,{texture:ce.topLeft,position:[0,0],width:A,height:M}),l(w.exports.Sprite,{texture:ce.top,position:[A,0],width:i-A*2,height:M}),l(w.exports.Sprite,{texture:ce.topRight,position:[i-A,0],width:A,height:M}),l(w.exports.Sprite,{texture:ce.right,position:[i-A,M],width:A,height:e-M-A}),l(w.exports.Sprite,{texture:ce.bottomRight,position:[i-A,e-A],width:A,height:A}),l(w.exports.Sprite,{texture:ce.bottom,position:[A,e-A],width:i-A*2,height:A}),l(w.exports.Sprite,{texture:ce.bottomLeft,position:[0,e-A],width:A,height:A}),l(w.exports.Sprite,{texture:ce.left,position:[0,M],width:A,height:e-M-A})]}),Q=()=>(M-De*2)*.9,ge=16/14,nr=({onKill:i,onMinimize:e,onMaximize:s})=>{const t=[];let r=0,n=0;const a=k.get("WindowButtonClose.png"),o=k.get("WindowButtonMaximize.png"),c=k.get("WindowButtonMinimize.png");return!a||!o||!c?l(N,{children:null}):(i&&(t.push(l(w.exports.Sprite,{anchor:[1,.5],texture:a,width:Q()*ge,height:Q(),position:[-r*Q()*ge,0],interactive:!0,click:i},"kill")),r++,n=-2*Te),s&&(t.push(l(w.exports.Sprite,{anchor:[1,.5],texture:o,width:Q()*ge,height:Q(),position:[-r*Q()*ge+n,0],interactive:!0,click:s},"maximize")),r++),e&&(t.push(l(w.exports.Sprite,{anchor:[1,.5],texture:c,width:Q()*ge,height:Q(),position:[-r*Q()*ge+n,0],interactive:!0,click:e},"minimize")),r++),l(N,{children:t}))},ms=i=>i-A*2,he=i=>i-M-A,fs=({icon:i,width:e,height:s,title:t,isActive:r=!0,onMinimize:n,onMaximize:a,onKill:o,children:c})=>{const d=k.get(r?"WindowTitleBarActive.png":"WindowTitleBarInactive.png");return T(N,{children:[T(w.exports.Container,{position:[0,0],children:[l(rr,{width:e,height:s}),d?l(w.exports.Sprite,{texture:d,width:e-A*2,height:M-De*2,position:[A,De]}):null,i?l(w.exports.Sprite,{texture:i,width:Q(),height:Q(),position:[A+2,De]}):null,l(w.exports.Text,{text:t,anchor:[0,.5],position:[A+2+(i?Q()+2:0),M/2],style:new V({align:"center",fontFamily:'DotGothic16, "Source Sans Pro", Helvetica, sans-serif',fontSize:M*.5,fill:"#000"})}),l(w.exports.Container,{position:[e-A,M/2],children:l(nr,{onKill:o,onMaximize:a,onMinimize:n})})]}),l(w.exports.Container,{position:[A,M],children:c})]})},ar=({id:i,windowInfo:e,focus:s})=>{const{width:t,height:r}=x.exports.useContext(J),{title:n,visible:a,fullscreen:o,Component:c}=e,[d,h]=x.exports.useState(!1),f=o?{x:0,y:0,width:t,height:r-X}:e.rect,{windowSettings:m}=x.exports.useContext(J),b=x.exports.useRef(e),C=()=>{m.update(i,F(z({},e),{fullscreen:!e.fullscreen}))},B=()=>{m.minimize(i)},L=()=>{m.kill(i)};x.exports.useEffect(()=>{b.current=e},[e]);const[g,v]=x.exports.useState({mouseDownHandler:null,cursorMouseMoveHandler:null,mouseOverHandler:null,mouseOutHandler:null,getCursor:null});return x.exports.useEffect(()=>{const p=setTimeout(()=>{h(!0)},1500),{mouseDownHandler:R,mouseMoveHandler:$,mouseUpHandler:ue,cursorMouseMoveHandler:pe,mouseOutHandler:U,mouseOverHandler:ye,getCursor:q}=er(i,m,t,r);v({mouseDownHandler:R,cursorMouseMoveHandler:pe,mouseOverHandler:ye,mouseOutHandler:U,getCursor:q});const Me=de=>{$(b.current||e)(de)},Ge=()=>{ue()()},ve=document.getElementById("pixicanvas");if(!!ve)return ve.addEventListener("mousemove",Me),ve.addEventListener("mouseup",Ge),()=>{clearTimeout(p),ve.removeEventListener("mousemove",Me),ve.removeEventListener("mouseup",Ge)}},[]),w.exports.useTick(()=>{g.getCursor&&g.getCursor()&&!qs()&&sr(g.getCursor())}),l(w.exports.Container,{position:a?[f.x,f.y]:[f.x,-99999],interactive:!0,mousedown:g.mouseDownHandler?g.mouseDownHandler(e):()=>"",mousemove:g.cursorMouseMoveHandler?g.cursorMouseMoveHandler(e):()=>"",mouseover:g.mouseOverHandler?g.mouseOverHandler:()=>"",mouseout:g.mouseOutHandler?g.mouseOutHandler:()=>"",children:l(fs,{width:f.width,height:f.height,title:n,icon:e.icon(),isActive:s,onMinimize:B,onMaximize:C,onKill:i==="visualizer"?void 0:L,children:d?c?l(c,{x:f.x+A,y:f.y+M,width:ms(f.width),height:he(f.height)}):l(w.exports.Container,{}):null})})};var or="/Visualizer/assets/youareanidiot_black.591803b6.png",cr="/Visualizer/assets/youareanidiot_white.b7e9dc2a.png";const lr=({width:i,height:e,trans:s})=>{const t=i*.7,r=t/1576*994,n=x.exports.useRef(null),a=x.exports.useRef([0,0]),o=x.exports.useRef([0,0]);return x.exports.useEffect(()=>{const c=Math.PI*Math.random();o.current=[Math.cos(c)*90,Math.sin(c)*90]},[]),w.exports.useTick(c=>{if(!n.current||!a.current||!o.current)return;o.current[1]+=98*c/30;const d=[a.current[0]+o.current[0]*c/30,a.current[1]+o.current[1]*c/30];d[0]<0?(d[0]=0,o.current[0]*=-1):d[0]>i-t?(d[0]=i-t,o.current[0]*=-1):d[1]>Math.max(1,e-r)&&(d[1]=Math.max(1,e-r),o.current[1]*=-1),a.current=d,n.current.position.set(d[0],d[1])}),l(w.exports.Container,{ref:n,children:l(fs,{width:t,height:r,title:"Hahahahahaha",children:l(w.exports.Sprite,{image:s?or:cr,width:ms(t),height:he(r)})})})},ur=({width:i,height:e})=>{const[s,t]=x.exports.useState(!1);return w.exports.useTick(()=>{const r=performance.now();t(Math.floor(r/500)%2==0)}),l(N,{children:new Array(10).fill(null).map((r,n)=>l(lr,{width:i,height:e,index:n,trans:s},n))})},dr=()=>{const{width:i,height:e,windowSettings:{windows:s,windowIndices:t}}=x.exports.useContext(J),[r,n]=x.exports.useState(!1);return x.exports.useEffect(()=>{const a=()=>{const c=new Date().getTime();te.endTime.getTime()<c&&n(!0)},o=()=>{n(!0)};return S.on("initialized",a),S.on("end",o),()=>{S.off("initialized",a),S.off("end",o)}},[]),T(N,{children:[l($i,{}),t.map((a,o)=>l(ar,{windowInfo:s[a]||Ji,id:a,focus:o===t.length-1},a)),r?l(ur,{width:i,height:e}):null]})},wr=({id:i,index:e,tabWidth:s})=>{const{windowSettings:{windows:t,focused:r,focus:n,minimize:a}}=x.exports.useContext(J),o=t[i];if(!o)return l(N,{children:null});const{title:c,visible:d}=o,h=d?k.get("TaskbarButtonActive.png"):k.get("TaskbarButtonInactive.png"),f=o.icon();return T(w.exports.Container,{position:[e*s,X/2],interactive:!0,click:()=>r===i?a(i):n(i),children:[h?l(w.exports.Sprite,{width:s*.96,height:X*.9,texture:h,anchor:[0,.5],position:[0,0]}):null,f?l(w.exports.Sprite,{width:X*.6,height:X*.6,texture:f,anchor:[0,.5],position:[7,0]}):null,l(w.exports.Text,{text:c,anchor:[0,.5],position:[14+X*.6,0],style:new V({align:"center",fontFamily:'DotGothic16, "Source Sans Pro", Helvetica, sans-serif',fontSize:X*.5*.8,fill:"#000"})})]})},hr=()=>{const{width:i,height:e,windowSettings:{windowStack:s}}=x.exports.useContext(J),t=k.get("WindowTitleBarActive.png"),r=Math.min(i/s.length,yt);return T(w.exports.Container,{position:[0,e-X],children:[t?l(w.exports.Sprite,{texture:t,width:i,height:X,anchor:0,position:[0,0]}):null,l(w.exports.Container,{position:[5,0],children:s.map((n,a)=>l(wr,{id:n,index:a,tabWidth:r},n))})]})};var mr=`// lens distortion https://www.shadertoy.com/view/4lSGRw

precision mediump float;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec2 dimensions;

#define PI 3.14159265
const float viewAngle = PI / 7.0;
const float viewAngleCos = 0.5 / tan(viewAngle / 2.0);
vec2 lensDistortion(vec2 vUv, float colorScale) {
  float d = distance(vUv, vec2(0.5)) * colorScale;
  vec2 dir = normalize(vUv - vec2(0.5));
  return vec2(0.5) + tan(d * viewAngle) * viewAngleCos * dir;
}

vec4 getColor(vec2 uv) {
  if(uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) return vec4(0.0, 0.0, 0.0, 1.0);
  return texture2D(uSampler, uv * dimensions / filterArea.xy);
}

void main (void) {
  vec2 uv = vTextureCoord * filterArea.xy / dimensions;
  vec2 uvr = lensDistortion(uv, 1.0);
  vec2 uvg = lensDistortion(uv, 1.0);
  vec2 uvb = lensDistortion(uv, 1.0);
  
  gl_FragColor = vec4(
    getColor(uvr).r,
    getColor(uvg).g,
    getColor(uvb).b,
    1.0
  );
}`;class fr extends ws{constructor(){super(void 0,mr,{dimensions:[0,0]})}apply(e,s,t,r){const{width:n,height:a}=s.filterFrame;this.uniforms.dimensions[0]=n,this.uniforms.dimensions[1]=a,e.applyFilter(this,s,t,r)}}var xr=`// lens distortion https://www.shadertoy.com/view/4lSGRw

precision mediump float;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

#define PI 3.14159265

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main (void) {
  vec2 uv = vTextureCoord * filterArea.xy / dimensions;
  float visnetting = mix(1.0, 0.7, smoothstep(0.3, 0.6, distance(uv, vec2(0.5))));
  gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(vec3(visnetting), 1.0);
}`;class pr extends ws{constructor(){super(void 0,xr,{dimensions:[0,0]})}apply(e,s,t,r){const{width:n,height:a}=s.filterFrame;this.uniforms.dimensions[0]=n,this.uniforms.dimensions[1]=a,e.applyFilter(this,s,t,r)}}var vr=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float devicePixelRatio;
uniform vec2 lineWidth;
uniform vec2 lineSpacing;
uniform float blend;

uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord * devicePixelRatio;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord / devicePixelRatio;
}

vec4 getColor(vec2 index, vec2 size) {
  return texture2D(uSampler, unmapCoord(index * size));
}

void main(void)
{
    vec2 coord = mapCoord(vTextureCoord);
    float delta = mod(floor(coord.x), 2.0);
    int mode = int(mod((floor(delta * 1.5 + coord.y / 2.0)), 3.0));
    vec4 color = texture2D(uSampler, unmapCoord(floor(coord)));

    if (mode == 0) {
      gl_FragColor = mix(vec4(color.r, 0.0, 0.0, 1.0), color, blend);
    } else if (mode == 1) {
      gl_FragColor = mix(vec4(0.0, color.g, 0.0, 1.0), color, blend);
    } else if (mode == 2) {
      gl_FragColor = mix(vec4(0.0, 0.0, color.b, 1.0), color, blend);
    }
}`;class gr extends ws{constructor(){super(void 0,vr,{dimensions:[0,0],devicePixelRatio:0,lineWidth:[1,0],blend:.5})}apply(e,s,t,r){const{width:n,height:a}=s.filterFrame;this.uniforms.dimensions[0]=n,this.uniforms.dimensions[1]=a,this.uniforms.devicePixelRatio=window.devicePixelRatio,e.applyFilter(this,s,t,r)}set lineWidth(e){this.uniforms.lineWidth=e}set blend(e){this.uniforms.blend=e}}const Ar="_main_11f2u_1";var zr={main:Ar};const ks=t=>{var r=t,{text:i,click:e}=r,s=Ye(r,["text","click"]);const n=k.get("InButton.png");return n?T(w.exports.Container,F(z({},s),{children:[l(w.exports.Sprite,{width:150,height:M,texture:n,anchor:[.5,.5],position:[0,0],interactive:!0,click:e}),l(w.exports.Text,{text:i,anchor:.5,position:0,style:new V({align:"center",fontFamily:'DotGothic16, "Source Sans Pro", Helvetica, sans-serif',fontSize:M*.5,fill:"#000"})})]})):l(N,{})},yr=()=>{const{width:i,height:e}=x.exports.useContext(J),[s,t]=x.exports.useState(!0),r={width:500,height:180,left:i*.5-250,top:e*.5-90};return s?T(w.exports.Container,{children:[l(fe,{bgColor:0,width:i,height:e}),l(w.exports.Container,{position:[r.left,r.top],children:T(fs,{width:r.width,height:r.height,title:"\u97F3\u306E\u78BA\u8A8D",children:[l(fe,{bgColor:13027014,width:ms(r.width),height:he(r.height)}),l(w.exports.Text,{text:"\u97F3\u3092\u9CF4\u3089\u3057\u3066\u3082\uFF1F",anchor:[0,0],position:[5,5],style:new V({align:"center",fontFamily:'DotGothic16, "Source Sans Pro", Helvetica, sans-serif',fontSize:M*.5,fill:"#000"})}),l(ks,{text:"\u3044\u3044\u306D",anchor:[1,.5],position:[he(r.width)-215,he(r.height)-30],click:()=>{Cs(1),t(!1),Re("mousedown"),Re("mouseup"),Je("hdd")}}),l(ks,{text:"\u3088\u304F\u306A\u3044\u306D",anchor:[1,.5],position:[he(r.width)-60,he(r.height)-30],click:()=>{Cs(0),t(!1)}})]})})]}):null},Es={default:"CursorDefault.png","ns-resize":"CursorNsResize.png","ew-resize":"CursorEwResize.png","nesw-resize":"CursorNeswResize.png","nwse-resize":"CursorNwseResize.png",grab:"CursorGrab.png",grabbing:"CursorGrabbing.png",wait:"CursorWait.png"},Ds=i=>{let e=i?"wait":qs();return Es[e]||(e="default"),k.get(Es[e])},Sr=()=>{const i=x.exports.useRef(null),{windowSettings:{starting:e}}=x.exports.useContext(J),s=w.exports.useApp();w.exports.useTick(()=>{const r=s.renderer.plugins.interaction.mouse.global,n=Ds(e);i.current&&n&&(i.current.texture=n,i.current.x=r.x,i.current.y=r.y,tr())});const t=Ds("default");return t?l(w.exports.Sprite,{ref:i,anchor:.5,width:Ps,height:Ps,texture:t}):l(N,{})},br=({children:i,Context:e,render:s})=>l(e.Consumer,{children:t=>s(l(e.Provider,{value:t,children:i}))}),Pr=s=>{var t=s,{children:i}=t,e=Ye(t,["children"]);const{width:r,height:n}=x.exports.useContext(J);return l(br,{Context:J,render:a=>l(w.exports.Stage,F(z({width:r,height:n},e),{children:a})),children:i})},Cr=w.exports.withFilters(w.exports.Container,{hex:gr,bloom:pt,colorshift:vt,lensDistortion:fr,visnetting:pr}),Fr=()=>{const i=()=>{Re("mousedown")},e=()=>{Re("mouseup")},[s,t]=x.exports.useState(!1),r=w.exports.useApp();return x.exports.useEffect(()=>{r.ticker.maxFPS=30,k.onLoad(()=>{t(!0)})},[]),s?T(Cr,{hex:{lineWidth:[2,2],blend:.5},bloom:{threshold:.1,bloomScale:.5,brightness:1,blur:1,quality:4},colorshift:{red:[-2,0],green:[0,0],blue:[2,0]},children:[T(w.exports.Container,{mousedown:i,mouseup:e,interactive:!0,children:[l(hr,{}),l(dr,{}),l(yr,{})]}),l(Sr,{})]}):l(N,{})},Tr=()=>(x.exports.useEffect(()=>{document.body.style.cursor="none"},[]),l(Ct,{children:l("main",{className:zr.main,children:l(Pr,{id:"pixicanvas",children:l(Fr,{})})})}));gt.render(l(At.StrictMode,{children:l(Tr,{})}),document.getElementById("root"));
